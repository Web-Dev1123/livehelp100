/**
 * compiled: 2023-10-18 03:08:30
 * version: 1.8.131
 * commit: 57ded06388fa611e8d90afe26e455cb18a25b074
 */

import{m as t,b as e,y as n,a as i,d as o,t as a,e as r,f as s,B as c,P as d,k as l,c as u,g as p,F as h,p as f,_ as g,h as w}from"./vendor.e5de6554.js";import{i as m,g as b,r as v,h as _,c as x,a as y,b as C,d as k,e as S,f as I,j as M,k as O,u as A,_ as B,l as T,m as j,n as N,o as P,p as D,q as W,s as F,t as V,v as E,w as z,x as R,y as L,z as H,A as q,B as U,C as G,D as K,E as Y,F as J,G as Q,H as Z,I as X,J as $,K as tt,L as et,M as nt,N as it,O as ot,P as at,Q as rt,R as st,S as ct,T as dt,U as lt,V as ut,W as pt,X as ht,Y as ft,Z as gt,$ as wt,a0 as mt,a1 as bt,a2 as vt,a3 as _t,a4 as xt,a5 as yt,a6 as Ct,a7 as kt,a8 as St,a9 as It,aa as Mt,ab as Ot,ac as At,ad as Bt,ae as Tt,af as jt,ag as Nt,ah as Pt,ai as Dt,aj as Wt,ak as Ft,al as Vt,am as Et,an as zt,ao as Rt,ap as Lt,aq as Ht,ar as qt,as as Ut,at as Gt,au as Kt,av as Yt,aw as Jt,ax as Qt,ay as Zt,az as Xt,aA as $t,aB as te,aC as ee,aD as ne}from"./common.453e2304.js";var ie="centered",oe="bottomMiddle",ae="bottomRight",re="centeredWithOverlayBackground",se="middleLeft",ce="middleRight",de=".DayPicker-wrapper,.btn,.chat-input__toolbox,.form-fields .field-control-password .svg-icon{-webkit-user-select:none;-ms-user-select:none}.btn,button{-webkit-appearance:none}.btn,.buttonProgressBtnDefaultSize{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.btn,.buttonProgressContainer{position:relative;text-align:center}button{margin:0;padding:0;font-family:\"SourceSans Pro\",Arial;outline:0}.article-list:focus,.global-showFocus a:focus,.global-showFocus button:focus{outline:#000001 auto 5px}.btn{text-decoration:none;zoom:1;display:inline-block;margin-bottom:0;font-size:.93333rem;font-weight:400;cursor:pointer;background-image:none;border:1px solid transparent;line-height:1.7;padding:4px 10px;font-family:\"SourceSans Pro\",Arial;border-radius:5px;user-select:none;background-color:inherit;max-width:270px}.container-checkbox,.control{padding-left:26px;line-height:1.2rem}.window--mobile:not(.window--ipad) .btn{max-width:unset}.window--circular .btn{border-radius:20px}.disabled{cursor:default;box-shadow:none!important}.btn-primary{color:#00000e;background:#00000a;border:1px solid #00000a}.btn-primary.disabled{background-color:#00000a!important;border:1px solid #00000a!important}.btn-primary:focus,.btn-primary:hover{background:#000003;border:1px solid #000003;text-decoration:none}.btn-primary:active{background:#000003;border:1px solid #000003;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-grey{color:#000;background:#e8e8e8;border:1px solid #e8e8e8}.btn-grey:focus,.btn-grey:hover{background:#c4c4c4;border:1px solid #c4c4c4;text-decoration:none}.btn-grey:active{background:#e8e8e8;border:1px solid #e8e8e8;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.buttonProgressBtnAnimated{animation-fill-mode:both}.buttonProgressContainerLoading .buttonProgressBtnAnimated,.buttonProgressContainerSuccess .buttonProgressBtnAnimated{animation-name:form__submit--loading;animation-duration:.4s;cursor:default}.window--ie .buttonProgressContainerLoading .buttonProgressBtnAnimated{animation:none;opacity:.65}@keyframes form__submit--loading{0%{border-radius:20px;text-indent:999em;background:#00000a;border:1px solid #00000a;width:128px;text-overflow:clip}99%{border-radius:32px;text-indent:999em;background:0 0;border:1px solid transparent;width:32px;text-overflow:clip}100%{border-radius:32px;text-indent:999em;background:0 0;border:1px solid transparent;width:32px;opacity:0;text-overflow:clip}}.lds-css,.lds-rolling{width:32px;height:32px}.buttonProgress__layerCircle{outline:0}.buttonProgress__layerCircle,.buttonProgress__layerLoading,.buttonProgress__layerSuccess,.lds-css{position:absolute;left:50%;top:50%;display:none}.buttonProgress__layerCircle,.buttonProgress__layerLoading,.lds-css{margin-top:-16px;margin-left:-16px}.buttonProgress__layerSuccess{margin-top:-8px;margin-left:-8px}.buttonProgressContainerLoading .buttonProgress__layerLoading,.buttonProgressContainerLoading .lds-css{display:block;animation:fadeIn 0s cubic-bezier(.785,.135,.15,.86) .4s both;cursor:default}.buttonProgressContainerSuccess .buttonProgress__layerLoading,.buttonProgressContainerSuccess .lds-css,.window--ie .buttonProgressContainerLoading .lds-css,.window--ie9 .select-box svg{display:none}.buttonProgressContainerSuccess .buttonProgress__layerCircle,.buttonProgressContainerSuccess .buttonProgress__layerSuccess{display:block;cursor:default}.buttonProgress__submitLoadingPath{fill:#00000a}.buttonProgress__submitCirclePath{stroke:#00000a;stroke-width:3px;stroke-dasharray:100;stroke-dashoffset:0;fill:#fff;fill-opacity:0}.buttonProgressContainerSuccess .buttonProgress__submitCirclePath{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:buttonProgress__submitCirclePath-dash;animation-duration:.5s}@keyframes buttonProgress__submitCirclePath-dash{from{stroke-dashoffset:100}to{stroke-dashoffset:0}}.buttonProgress__submitSuccessPath{fill:#00000a;stroke-width:1;-ms-transform:scale(0);transform:scale(0);opacity:0}.buttonProgressContainerSuccess .buttonProgress__submitSuccessPath{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:buttonProgress__submitSuccessPath-animation;animation-duration:.5s;animation-delay:542ms}@keyframes buttonProgress__submitSuccessPath-animation{0%{transform:scale(0);transform-origin:50% 50%;opacity:0}100%{transform:scale(1);transform-origin:50% 50%;opacity:1}}@keyframes lds-rolling{0%{transform:rotate(0) translateZ(0)}100%{transform:rotate(360deg) translateZ(0)}}.lds-rolling{position:absolute;border:3px solid #00000a;border-top-color:transparent;border-radius:50%;animation:lds-rolling .75s linear infinite}.window--ie .lds-rolling{animation:none}.form-fields--horizonal .container-checkboxlist,.form-fields--horizonal .container-radiolist{width:calc(100% - 80px);max-width:calc(100% - 80px)}.container-checkboxlist{display:inline-block;width:100%;max-width:100%}.container-checkbox{display:inline-block;position:relative;color:#333;width:100%}.container-checkbox.disable{pointer-events:none}.container-checkbox i{display:inline-block;width:16px;height:16px;position:absolute;left:0;top:0;margin-top:1px}.container-checkbox i.selected{display:block}.container-checkbox i.unselected,.horizontal,.prepend,.prependContainer{display:inline-block}.checkbox:focus+.selected .checkbox2,.selected .checkbox2{fill:#00000a}.checkbox2{fill:#ddd}.checkbox3{fill:#fff}.checkbox:focus+.unselected .checkbox2,.container-checkbox:hover>.unselected .checkbox2{fill:#00000a}.checkbox{position:absolute;z-index:-1;opacity:0;top:-2px;left:-2px;width:18px;height:16px}.horizontal{margin-right:10px}.control,.vertical{display:block}.container-checkbox input[type=Checkbox]:disabled~.checkbox__text,.container-checkbox input[type=Checkbox]:disabled~i svg{opacity:.6;pointer-events:none;cursor:default}.container-checkbox input[type=Checkbox]~.checkbox__text{cursor:pointer}.container-checkbox input[type=Checkbox]~i svg{cursor:pointer;width:15px;height:15px;margin-left:2px}.global-showFocus .container-checkbox input[type=Checkbox]:focus~i svg{outline:#00000a auto 1px}.checkbox1{fill-rule:evenodd;clip-rule:evenodd;fill:#fff}.selected .checkbox1{fill:#00000a}.control{position:relative;margin-bottom:6px;cursor:pointer;font-size:.933333333333rem;color:#333}.control .radioText{line-height:1.2rem;padding-left:0}.control input[type=radio]{position:absolute;z-index:-1;opacity:0;top:-2px;left:-5px;width:18px;height:18px}.controlIndicator{position:absolute;top:0;left:0;margin-top:1px;height:16px;width:16px;border-radius:50%;overflow:hidden}.controlRadio .controlIndicator svg{width:16px;height:16px;border:1px solid #ddd;border-radius:50%;background-color:#fff}.control input[type=radio]:checked~.controlIndicator svg,.control input[type=radio]:focus~.controlIndicator svg,.control:hover input[type=radio]~.controlIndicator svg{border:1px solid #00000a}.control input[type=radio]~.controlIndicator svg circle{fill:#fff}.control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:#00000a;stroke:#00000a;stroke-width:1px}.control input[type=radio]:disabled~.controlIndicator{opacity:.6;pointer-events:none}.control:hover input[type=radio]:disabled~.controlIndicator{border:none}.control input[type=radio]:checked~.controlIndicator svg circle:nth-child(2){fill:#fff}.global-showFocus .control input[type=radio]:focus~.controlIndicator{outline:#000003 auto 1px;outline-color:-webkit-focus-ring-color}.controlRadio.horizontal{float:left;margin-right:20px}.select-box{position:relative;padding:3px;height:35px;background:#fff;border-radius:5px}.select-box svg{position:absolute;width:9px;height:6px;top:calc(50% - 3px);right:10px;color:#333}.select-box .select{position:absolute;left:0;right:0;top:0;bottom:0;z-index:9;padding:5px 25px 5px 10px;background:0 0;height:100%;width:100%;color:#333;cursor:pointer;border:1px solid #ddd;outline:0;font-size:1.066667rem;font-family:inherit;appearance:none;border-radius:5px}.select-box .select:disabled{background-color:#f5f5f5}.embedded-window:not(.window--mobile) .select-box .select{font-size:.934rem}.select-box .select::-ms-expand{display:none}.select-box .select:focus{border-color:#00000a}.svg{width:16px;height:16px}.svg--loading{width:18px;height:18px}.svg--loadingChat{display:block;width:28px;height:28px;margin:0 auto}.svg.disabled{opacity:.3}svg:hover{cursor:pointer}.svg.disabled:hover{cursor:default}.svgPath{fill:#000;width:16px;height:16px}.svgRatePath1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathSendFile1{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svgPathVideo1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathVideo2{fill:none}.svgPathVoice1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathVoice2{fill:#000}.sendemail1{fill:none}.sendemail2{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svg:not(.disabled):hover .sendemail1,.svg:not(.disabled):hover .svgPathSendFile1,.svg:not(.disabled):hover .svgPathVideo1,.svg:not(.disabled):hover .svgPathVoice1,.svg:not(.disabled):hover .svgRatePath1{fill:rgba(0,0,0,.3)}.svg.active .svgRatePath1{fill:#000}.svg-white .svgPathVoice2,.svgClosePath,.svgMinimizePath,.svgPopupPath{fill:#fff}.svg-white .sendemail2,.svg-white .svgPathSendFile1,.svg-white .svgPathVideo1,.svg-white .svgPathVoice1,.svg-white .svgRatePath1{stroke:#fff}.svg-white:not(.disabled):hover .sendemail1,.svg-white:not(.disabled):hover .svgPathSendFile1,.svg-white:not(.disabled):hover .svgPathVideo1,.svg-white:not(.disabled):hover .svgPathVoice1,.svg-white:not(.disabled):hover .svgRatePath1{fill:rgba(255,255,255,.3)}.svg-white.active .svgRatePath1{fill:#fff!important}.svg-white.active .svgPathSendFile1{fill:#fff!important;stroke:#000001!important}.svg-white.active .sendemail2{fill:none!important;stroke:transparent!important}.svg-white.active .sendemail1{fill:#fff!important}.svg-sidewindow-icon{width:25px;height:25px;fill:#a2a2a2;position:relative;border:1px solid transparent}.sideWindow:not(.sideWindow--mobile) .svg-sidewindow-icon:focus,.sideWindow:not(.sideWindow--mobile) .svg-sidewindow-icon:hover{border:1px solid #a2a2a2;border-radius:50%}.svg-sidewindow-icon-select-dark{border:1px solid #a2a2a2;border-radius:50%;fill:#000;background-color:#a2a2a2}.svg-sidewindow-icon-select-light{border:1px solid #a2a2a2;border-radius:50%;fill:#fff;background-color:#a2a2a2}.svg-sidewindow-icon-select-light-mobile{border:none;fill:#00000a;background-color:#fdfdfd}.svg-sidewindow-icon-select-dark-mobile{border:none;fill:#fdfdfd;background-color:#000}.window--circular .input{padding:5px 20px;border-radius:20px}.input,.multipleText{padding:5px 10px;outline:0}.input{border:1px solid #ddd;font-size:1.066667rem;-webkit-appearance:none;border-radius:5px}.embedded-window:not(.window--mobile) .input{font-size:.934rem}.input:disabled{background-color:#f5f5f5}.input[readOnly]{border:0}input.attachTicket{width:100px;margin-left:5px}.input:not(.input--effect01):focus{border-color:#00000a;outline:0}.prepend{line-height:18px;padding:5px 5px 4px;background-color:#fafafa}.prependContainer .input{border-top-left-radius:0;border-bottom-left-radius:0}.prependIcon{float:left;padding:0 6px 0 0}.defaultIcon{display:block;width:24px;height:24px}.inputContainer{position:relative;display:inline-block}.input.input--effect01{border:1px solid #ddd}.input__focusBorder{display:block}.input.input--effect01:focus{border-color:#00000a;transition:26ms;transition-delay:182ms}.window--circular .input.input--effect01~.input__focusBorder::after,.window--circular .input.input--effect01~.input__focusBorder::before{left:20px}.input.input--effect01~.input__focusBorder::after,.input.input--effect01~.input__focusBorder::before{content:\"\";position:absolute;top:0;left:5px;width:0;height:1px;background-color:#00000a}.input.input--effect01~.input__focusBorder::after{top:auto;bottom:0}.input.input--effect01~.input__focusBorder i::after,.input.input--effect01~.input__focusBorder i::before{content:\"\";position:absolute;top:50%;left:0;width:1px;height:0;background:#ddd}.window--circular .input.input--effect01~.input__focusBorder i::after{top:20px;height:calc(100% - 40px)}.input.input--effect01:not(.error):focus~.input__focusBorder i::before{background-color:#00000a}.input.input--effect01~.input__focusBorder i::after{left:auto;right:0;top:5px;bottom:0;height:calc(100% - 10px)}.window--circular .input.input--effect01:focus~.input__focusBorder::after,.window--circular .input.input--effect01:focus~.input__focusBorder::before{width:calc(100% - 40px)}.input.input--effect01:focus~.input__focusBorder::after,.input.input--effect01:focus~.input__focusBorder::before{width:calc(100% - 10px);transition:156ms;transition-delay:26ms}.window--circular .input.input--effect01:focus~.input__focusBorder i::after,.window--circular .input.input--effect01:focus~.input__focusBorder i::before{height:calc(100% - 40px);top:20px}.input.input--effect01:focus~.input__focusBorder i::after,.input.input--effect01:focus~.input__focusBorder i::before{height:calc(100% - 10px);transition:26ms;top:5px}.input.input--effect01:focus~.input__focusBorder i::after{height:0;transition-delay:182ms;top:50%}.window--circular .input.input--effect01~.input__cornerLeft,.window--circular .input.input--effect01~.input__cornerRight{border-radius:20px}.input.input--effect01~.input__cornerLeft,.input.input--effect01~.input__cornerRight{width:0;display:block;border:0 solid #00000a;top:0;bottom:0;position:absolute;border-radius:5px}.window--circular .input.input--effect01:not(.error):focus~.input__cornerLeft,.window--circular .input.input--effect01:not(.error):focus~.input__cornerRight{width:20px}.input.input--effect01:not(.error):focus~.input__cornerLeft,.input.input--effect01:not(.error):focus~.input__cornerRight{width:10px;border-width:1px}.input.input--effect01:not(.error):focus~.input__cornerLeft{left:0;border-top-right-radius:0;border-bottom-right-radius:0;transition-delay:26ms;border-right-color:transparent}.input.input--effect01:not(.error):focus~.input__cornerRight{right:0;border-top-left-radius:0;border-bottom-left-radius:0;transition-delay:182ms;border-left-color:transparent;border-right-color:transparent}.input.error,.input.error:focus,.input.error:hover{border-color:#d34747}.input.error~.input__focusBorder i::after,.input.error~.input__focusBorder i::before,.input.error~.input__focusBorder::after,.input.error~.input__focusBorder::before{background:#d34747}input,textarea{-webkit-transform:translate3d(0,0,0)}input[type=search]{-webkit-appearance:textfield}.multipleText,.window--mobile input[type=search]{-webkit-appearance:none}input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.multipleText{border:1px solid #ddd;transition:border-color .2s;border-radius:5px;width:100%;font-size:1.0666667rem;overflow:auto}:not(.window--mobile) .multipleText{font-size:.934rem}.multipleText:disabled{background-color:#f5f5f5}.multipleText:focus{border-color:#00000a;outline:0}.multipleText.error,.multipleText.error:focus,.multipleText.error:hover{border-color:#d34747}.window--circular .multipleText{border-radius:20px;padding:15px}.bubble-box{visibility:hidden;position:absolute;background:rgba(0,0,0,.5);z-index:2147483645;width:100%;height:100%;right:0;bottom:0}.bubble{position:relative;width:305px;background:#fff;padding:28px 18px;font-size:1rem;line-height:20px;border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,.3);z-index:99;text-align:left}.corner-style .prechatForm__social .prechatForm__socialBtn,.window--circular .bubble{border-radius:20px}.window--ie .bubble{top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.bubble-close,.rating .star{border:none;background:0 0;cursor:pointer}.bubble-box--show{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;visibility:visible;position:fixed}.window--ie .bubble-box--show{display:block}.bubble-box--show .bubble{animation:showBubble 333ms cubic-bezier(.785,.135,.15,.86) both}.window--ie .bubble-box--show .bubble{animation:none}@keyframes showBubble{0%{transform:scale(0)}100%{transform:scale(1)}}.window--ie9 .bubble .bubble__operation .btn:first-child{margin-right:0}.bubble .bubble__operation .btn:first-child,.rating .star{margin-right:10px}.bubble-close{position:absolute;right:10px;top:10px}.bubble-close svg{width:10px;height:10px;fill:#626262}.bubble-close svg:hover{fill:#333}.bubble__operation{margin-top:10px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.embedded-end-chatConfirmAction .btn,.media-chat-ConfirmAction .btn{max-width:50%}.bubble--title{color:#333;font-size:1rem;margin-bottom:13px;word-wrap:break-word}.bubble--desc{font-size:1rem;color:#333;margin-bottom:27px;text-align:center}.rating{position:relative;height:24px}.rating .star{display:inline-block;position:relative;width:24px;height:24px;overflow:hidden}.rating .star svg{fill:#fff;stroke:#626262;width:24px;height:24px}.rating .star:last-child{margin-right:0}.window--bubble .form-fields--horizonal .rating .star{font-size:1.066667rem;line-height:16px;margin-right:6px}.window--circle .form-fields--horizonal .rating .star{font-size:1.666667rem;line-height:25px}.rating .starColor svg{fill:#c24700;stroke:#c24700}.window__headerContainer,.window__headerVessel{-ms-flex-negative:0;flex-shrink:0}.window__headerContainer:focus{outline:0}.window__header{width:100%;min-height:30px;border-radius:5px 5px 0 0;transition:height 50ms linear}.window--circular .window__header{border-radius:20px 20px 20px 0}.window--mobile:not(.window--ipad) .window--circular .window__header{border-radius:0}.window--classic .window__header--fadeInDown{animation:fadeInDown 292ms both cubic-bezier(.785,.135,.15,.86);animation-delay:.3s}.window--ie .window--classic .window__header--fadeInDown{animation:none}.window__headerBox{padding:15px 27px 18px;width:100%}.window__header--hasAvatar .window__headerBox,.window__headerBox.window__headerBox--banner,.window__headerBox.window__headerBox--hasAvatars{padding:24px 27px 23px}.window__headerBox--onlylogo{min-height:85px}.window__headerBox--fadeInDown{opacity:1;-ms-transform:translateY(0);transform:translateY(0)}.title-buttons__operation{display:block;float:left;padding-left:10px;padding-right:10px}.window--circle:not(.window--embedded) .title-buttons__operation,.window--classic:not(.window--embedded) .title-buttons__operation{line-height:1}.window--mobile .title-buttons__operation{padding:0 9.5px}.title-buttons__operation .icon{cursor:pointer}.title-buttons__operation--text{border-left:2px solid rgba(255,255,255,.5)}.window--circle .title-buttons__operation--text{border-left-color:#a3a3a3;line-height:13px}.window--classic .title-buttons__operation--text{border-left-color:#000007;line-height:13px}.title-buttons__operation--text a{color:#fff;text-decoration:none;cursor:pointer;display:block;max-height:21px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.window--circle .title-buttons__operation--text a{color:#a3a3a3}.window--classic .window__headerBox{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.window--classic .window__headerBox.window__headerBox--banner{display:block}.window--classic .window__headerBox--team{-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.window--classic .header__agent--withlogo{margin-right:10px}.window--classic .title-buttons__operation--text a{color:#000004}.header__teamAvatar--gray .header__teamAvatarImg{filter:gray;-webkit-filter:grayscale(100%)}.window__operation{height:30px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around;padding-right:5px}.window__operation .icon-close,.window__operation .icon-endchat{width:12px}.window--mobile .window__operation .icon-close,.window--mobile .window__operation .icon-endchat{width:16px}.window__operation .header__operationContainer>button,.window__operation>button{margin:0 1px;height:20px;background:0 0;border:none;padding:4px 10px 0;position:relative;display:inline-block;text-align:right}.window__operation .header__operationContainer>button,button.menubar__btn{background:0 0;border:none}.window__operation .header__operationContainer>a:hover svg,.window__operation .header__operationContainer>button:hover svg,.window__operation>button:hover svg{opacity:1}.window--bubble .window__operation .header__operationContainer>a.window__operation-menu-icon{margin-left:0}.window__operation-menu-icon{cursor:pointer}.window__operation-menu-icon>svg{width:20px}.body__dialog-menu .window__operation-menu,.window__menu-show.window__operation-menu{display:block;position:relative;z-index:11}.window__operation-menu{display:none;position:absolute}.window__operation-menu::before{content:'';background-color:transparent;display:block;width:135px;height:20px;position:absolute;right:0;top:-20px}.form__submit,.window--ie9 .window--bubble .window__operation-menu{width:160px}.window--bubble .window__operation-menu{position:absolute;right:0;top:20px}.window__operation-menu li{height:30px;line-height:30px;text-align:left}.window__operation-menu li>button{margin:0;height:30px;padding-left:22px;padding-right:22px;display:block;cursor:pointer;color:#333;background:0 0;border:none;width:100%}.window__operation-menu li>button:focus,.window__operation-menu li>button:hover{background-color:#eee;outline:0}.window__operation-menu li>button>div.menu__text-container{float:left;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:170px;min-width:50px;font-size:15px}.window--bubble .window__operation-menu li>button{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.window--mobile .window__operation-menu li>button>div.menu__text-container>span{width:100%}.body__dialog-menu .window__operation-menu li>button:hover,.window--mobile .window__operation-menu li>button:hover{background-color:initial}.window__operation .window__operation-menu ul{background:#fff;border-radius:5px 0 5px 5px;border:1px solid #ddd;z-index:2147483645;padding:10px 0}.window__operation .window__operation-menu ul li>button>svg{fill:#333;margin-right:10px;float:left;margin-top:2px}.global-showFocus .window__operation .header__operationContainer>a:focus,.global-showFocus .window__operation .header__operationContainer>button:focus,.global-showFocus .window__operation>button:focus{outline:#000004 solid 2px;border-radius:2px}.window--bubble .window__operation .window__operation-menu ul li>button>svg{-ms-flex-negative:0;flex-shrink:0;margin-top:0}.window__operation .header__operationContainer>a>svg,.window__operation .header__operationContainer>button>svg,.window__operation>button>svg{fill:#000004}.window--bubble .window__operation .header__operationContainer>a>svg,.window--bubble .window__operation .header__operationContainer>button>svg,.window--bubble .window__operation>button>svg{fill:#000}.window__operation .header__operationContainer>button:hover,.window__operation>button:hover{background:rgba(0,0,0,.1)}.main-container .window__title{position:absolute;right:0;top:0}.window--classic .icon-close,.window--classic .icon-embedded,.window--classic .icon-minimize,.window--classic .icon-popup{color:#000004;font-size:.8rem}.header__bannerImg{max-height:90px;width:auto;height:auto}.window--classic .header__bannerImg{display:block;max-width:calc(100% + 54px);margin:0 -27px -23px}.window--classic .header__agentInfo{overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;max-width:100%}.window--classic .window__header--hasAvatar .header__agentInfo{height:45px}.window--classic .header__agentInfoNoAvatar{max-width:100%;width:100%;padding-left:0}.window--circle .header__agentInfo{width:100%}.window--classic .header__chatbot{height:50px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.window--classic .header__avatar{float:left;margin-right:17px;width:45px;height:45px;-ms-flex-item-align:start;align-self:flex-start;border-radius:50%}.header__avatarImage{-ms-transform:scale(1.05);transform:scale(1.05)}.window--classic .header__avatarImage{display:block;width:45px;height:45px;border-radius:50%}.header__agentBio,.window--circle .header__agentBio{display:-webkit-box;-webkit-line-clamp:4;text-overflow:ellipsis}.header__agent{position:relative}.window--circle .header__agent--compact{height:21px}.window--circle .header__agent--compact.with__title{height:38px}.header__agent--compact:hover::before{content:'';position:absolute;z-index:99;width:calc(100% + 10px);height:calc(100% + 10px);background:rgba(0,0,0,.1);border-radius:4px;left:-5px;top:-5px;cursor:pointer}.window--circle .header__agent--compact:hover::before{width:100%;height:calc(100% + 6px);left:0;top:-3px;border-radius:10px}.window--classic .header__agent{-ms-flex-align:center;align-items:center;max-width:100%;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:1;flex-shrink:1}.window--classic .header__agent--fadeInUp{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window--classic .header__agent--fadeInUp{animation:none}.window--classic .header__agent.header__agent--withlogo{float:left;max-width:calc(100% - 110px);margin-top:11.5px;margin-bottom:11.5px}.window--classic .window__header--hasAvatar .header__agent--withlogo{margin-top:0;margin-bottom:0}.header__agentName,.header__agentTitle{max-width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.window--classic .header__agentName{font-size:1.133333rem;line-height:1.29;color:#000004;text-shadow:0 1px 0 rgba(0,0,0,.2)}.window--classic .header__agentTitle{font-size:.8rem;line-height:1.25;color:#000004;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.header__agentBio{max-height:80px;overflow:hidden;word-wrap:break-word}.window--classic .header__agentBio{font-size:.8rem;line-height:1.17;color:#000004;margin-top:4px;padding-left:60px;padding-bottom:2px;margin-bottom:-2px;max-height:84px;overflow-y:auto}.window--classic .header__agentBio a{color:#000004;border-bottom:1px solid #000007}.window--classic .header__logo{margin-left:auto;margin-top:20px;margin-bottom:5px}.window--classic .header__logoImg{max-height:45px;max-width:100px;display:block;float:right;width:auto;height:auto}.header__teamName{margin-top:0;font-family:\"SourceSans Pro\",Arial}.window--classic .header__teamName{font-size:1.133333rem;line-height:1.29;color:#000004;text-align:center;text-shadow:0 1px 0 rgba(0,0,0,.2);width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:8px}.window--classic .header__teamName+.header__teamAvatar,.window--classic .header__teamName.header__teamNameNoAvatar,.window--classic .window__headerBox--hasAvatars .header__teamName{margin-bottom:0}.window--classic .window__headerBox.window__headerBox--empty{padding-top:15px;padding-bottom:15px}.window--classic .header__teamAvatar{position:relative;width:142px;height:40px;margin:9px auto}.header__teamAvatarImg{background:#f4f5f6}.window--classic .header__teamAvatarImg{position:absolute;width:40px;height:40px;border-radius:100%}.window--classic .header__teamAvatarImg:nth-child(1){left:0;z-index:9}.window--classic .header__teamAvatarImg:nth-child(2){left:49px;z-index:8}.window--classic .header__teamAvatarImg:nth-child(3){left:99px;z-index:7}.window--classic .window__header--prechatWithAvatar{height:126px}.window--classic .header--compact{height:55px}.window--classic .header--compact .header__teamAvatar,.window--classic.animation--chatting .header__teamAvatar{-ms-transform:translateY(-105px);transform:translateY(-105px)}.window--classic.animation--chatting .header__teamName{-ms-transform:translateY(-60px);transform:translateY(-60px)}.window--circle .header{border-top-left-radius:20px;border-top-right-radius:20px}.window--circle .header__bannerImg{display:block;max-width:calc(100% + 40px);margin:0 0 -15px -20px}.window--circle .header__avatar{position:absolute;top:-69.5px;left:50%;margin-left:-35px}.body__dialog .window--embedded.window--circle .header__avatar::before,.body__dialog-menu .window--embedded.window--circle .header__avatar::before{content:'';position:absolute;top:0;left:0;height:50%;width:100%;border-radius:70px 70px 0 0;background-color:rgba(0,0,0,.5)}.body__dialog .window--mobile:not(.window--ipad) .window--circle .header__avatar::before,.body__dialog-menu .window--mobile:not(.window--ipad) .window--circle .header__avatar::before{height:0}.window--mobile .window--circle .header__avatar--withSideWindow,.window--mobile .window--circle .window__headerBox .header__teamAvatar--withSideWindow{left:50%}.window--circle .header__avatar--fadeInDown{animation:fadeInDown 292ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window--circle .header__avatar--fadeInDown{animation:none}.window--circle .header__avatarImage{display:block;border-radius:100%;width:65px;height:65px;margin:0 auto}.window--circle .header__agentInfo{text-align:center;margin-top:13px;display:-ms-flexbox;display:flex;display:-webkit-flex;flex-direction:column;-ms-flex-direction:column;-ms-flex-align:center;align-items:center}.window--circle .header__agentInfoNoAvatar{margin-top:0}.window--circle .header__agentName{max-width:calc(100% - 90px);margin:0 auto;font-size:1.13333333rem;color:#333;line-height:1.29;text-shadow:0 1px 0 rgba(0,0,0,.2)}.window--circle .header__agentTitle{font-size:.8rem;color:#333;margin-top:2px;line-height:1.25}.window--circle .header__agentBio{text-align:center;margin-top:2px;margin-bottom:1px;padding-bottom:2px;font-size:.8rem;color:#333;line-height:1.17;overflow:hidden;max-height:70px;width:100%;overflow-y:auto}.window--circle .header__agentBio a{color:#333;border-bottom:1px solid #333}.window--circle .header__agentBio a:hover{border-bottom-color:#333}.window--circle .header__teamName{font-size:1.133333333333333rem;line-height:1.29;color:#333;margin-top:21px;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.window--circle .header__teamNameNoAvatar{margin-top:0}.window--circle .header__teamAvatar{position:absolute;left:50%;top:-22px;width:112px;height:42px;margin-bottom:10px;margin-left:-56px;animation:fadeInDown 292ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window--circle .header__teamAvatar{animation:none}.window--bubble .window__ssologin.window__ssologin--animation,.window__chat--animation,.window__form--animation{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.window--circle .header__teamAvatarImg{position:absolute;width:44px;height:44px;border:2px solid #fff;border-radius:100%;top:0}.window--circle .header__teamAvatarImg:nth-child(1){z-index:8}.window--circle .header__teamAvatarImg:nth-child(2){left:36px;z-index:9}.window--circle .header__teamAvatarImg:nth-child(3){right:0;z-index:10}.window--circle .icon-close,.window--circle .icon-embedded,.window--circle .icon-minimize,.window--circle .icon-popup{color:#a3a3a3;font-size:.8rem}.global-showFocus .window--circle .window__operation .header__operationContainer>button:focus,.global-showFocus .window--circle .window__operation>a:focus,.global-showFocus .window--circle .window__operation>button:focus{border-bottom-color:#5d5d5d}.window--circle .window__operation .header__operationContainer>a>svg,.window--circle .window__operation .header__operationContainer>button>svg,.window--circle .window__operation>button>svg{fill:#5d5d5d}.window--circle .window__headerBox{border-bottom:1px solid #ddd;width:calc(100% - 40px);margin:0 auto;padding-left:0;padding-right:0;padding-bottom:15px}.window--circle .window__headerBox .header__agent,.window--circle .window__headerBox .header__teamName{padding:0 40px}.window--circle .window__headerBox.window__headerBox--hasAvatars.window__headerBox--team{padding-bottom:15px}.window--circle .window__headerBox.window__headerBox--hasAvatars{padding-bottom:21px}.window--circle .window__headerBox.window__headerBox--empty{border-bottom:none}.window--circle .header-operator{margin-bottom:17px}.body__dialog .window--bubble .window__title,.body__dialog-menu .window--bubble .window__title{visibility:visible;opacity:1}.window--bubble:hover .window__title{visibility:visible;opacity:1;transition:opacity .4s cubic-bezier(.785,.135,.15,.86)}.window--mobile .window--bubble .window__title{visibility:visible;opacity:1}.window--bubble .header__avatar{position:absolute;top:-45px;left:50%;margin-left:-42px}.window--bubble .header__avatarImage{display:block;border-radius:100%;width:85px;height:85px;border:1px solid #000004}.window--bubble .header__agentInfo{text-align:center;margin-top:35px}.window--bubble .header__agentName{font-size:1.2rem;color:#000}.window--bubble .header__agentTitle{font-size:.933333rem;color:rgba(0,0,0,.3)}.window--bubble .header__agentBio{font-size:.933333rem;color:rgba(0,0,0,.5);margin-top:5px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;line-height:20px;max-height:80px;-webkit-line-clamp:4}.window--bubble .icon-close,.window--bubble .icon-embedded,.window--bubble .icon-minimize,.window--bubble .icon-popup{color:#fff;font-size:.8rem}.window--bubble .window__operation{border-radius:10px;padding:0 5px}.window__operation .header__operationContainer{position:relative;height:20px;text-align:right}.window--bubble .window__operation .header__operationContainer>a,.window--bubble .window__operation .header__operationContainer>button,.window--bubble .window__operation>button{padding:2px 4px}.window--bubble .main-container .window__title{right:4px;z-index:2147483645}.window--bubble .window__headerBox{padding-bottom:0}.window--bubble .header-operator{border-bottom:1px solid #ddd;padding-bottom:28px}.window--ie .window--classic .window__headerBox--banner{display:block}.window--bubble .window__ssologin{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;-ms-flex-positive:1;flex-grow:1;padding:28px 40px}.window--bubble .window__ssologin.window__ssologin--animation{animation-delay:.3s}.window--circle .window__ssologin,.window--classic .window__ssologin,.window--mobile:not(.window--ipad) .window--bubble .window__ssologin{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-top:0}.window--circle .window__ssologin.window__ssologin--animation,.window--classic .window__ssologin.window__ssologin--animation,.window--mobile:not(.window--ipad) .window--bubble .window__ssologin.window__ssologin--animation{animation:ssologinAnimate 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window__ssologin--animation{animation:none!important}@keyframes ssologinAnimate{0%{opacity:0;transform:translate(-50%,0)}to{opacity:1;transform:translate(-50%,-50%)}}.window__ssologinError{font-size:.933333rem;line-height:18px;color:#de3939;margin-bottom:26px}.window__ssologinGreeting{font-size:.93333333rem;line-height:1.21;color:#333;margin-bottom:53px;text-align:center}.window__ssologinForm{text-align:center}.window__ssologinOperation{display:block;margin:0 auto 26px;overflow:hidden;text-overflow:ellipsis}.window__ssologinOperation:last-child{margin-bottom:0}.prechatForm__social{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.form-fields--horizonal .prechatForm__social{-ms-flex-pack:left;justify-content:left}.prechatForm__social .prechatForm__socialBtn{border:none;color:#fff;fill:#fff;border-radius:5px;font-size:14px;line-height:18px;-ms-flex-align:center;align-items:center;margin-right:12px;-ms-flex:1 1 350px;flex:1 1 350px;height:30px;max-width:130px;display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-wrap:wrap;flex-wrap:wrap;cursor:pointer}.nps .npsItem:last-child,.prechatForm__social .prechatForm__socialBtn:last-child{margin-right:0}.prechatForm__socialBtn svg{-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.prechatForm__socialBtn span{display:block;-ms-flex-negative:1;flex-shrink:1;-ms-flex-positive:1;flex-grow:1;line-height:1.29;font-size:.9333333rem;-ms-transform:translateX(-10px);transform:translateX(-10px)}.prechatForm__socialBtn.socialBtn--simple{width:30px;height:30px;-ms-flex-positive:0;flex-grow:0;margin-right:10px;-ms-flex-preferred-size:30px;flex-basis:30px}.socialBtn--simple svg{height:30px}.socialBtn--simple span{display:none}.form-fields--horizonal .prechatForm__socialBtn span{line-height:1.25;font-size:.8rem}.prechatForm__socialBtn svg{height:24px;width:24px;margin-left:6px;margin-top:6px}.window--ie .form-fields--horizonal #social-login-icons{-ms-flex:0 0 70px;flex:0 0 70px}.prechatForm__login{color:#bbb}.prechatForm__divide{font-size:.8rem;position:relative;display:block;text-align:center;margin-top:10px;margin-bottom:20px;color:#626262}.prechatForm__divide::after,.prechatForm__divide::before{border-top:1px solid #ddd;width:40%;position:absolute;top:9px;content:''}.prechatForm__divide::before{left:0}.prechatForm__divide::after{right:0}.loading{display:block;background-size:50px}.icon-facebook{margin-right:10px;color:#39599c}.window--rtl .icon-facebook{margin-left:10px}.ssologin .window__ssologinForm{margin-bottom:30px}.captcha{perspective:100px;perspective-origin:left}:not(.window--ie) .window--rtl .captcha{perspective-origin:right}.window--edge .window--rtl .captcha,.window--ie .window--rtl .captcha{perspective-origin:0}.captcha>:first-child{transform:translateZ(-15px)}.window--bubble .captcha>:first-child{transform:translateZ(-13px)}.window--bubble.window--rtl .captcha>:first-child{transform:translateZ(-40px)}.form-fields--horizonal .captcha>:first-child{transform:translateZ(-70px)}.window__form_popout .captcha>:first-child{transform:translateZ(-8px)}.window__form_popout .form-fields--horizonal .captcha>:first-child{transform:translateZ(-53px)}.window__formContainer--bubble{overflow:hidden;overflow-y:auto;padding:0 27px;-ms-flex-positive:1;flex-grow:1;margin-top:30px}.window__form{overflow:auto;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;width:100%;padding:25px 45px 0;overflow-x:hidden}.window__form--animation{animation-delay:.3s}.window--ie .window__form--animation{animation:none}.window--bubble .window__form{padding:30px 17px 0 19px;border-radius:5px;-ms-flex-negative:0;flex-shrink:0;position:relative;margin-bottom:12px;overflow:visible}.window--circular .window--bubble .window__form{border-radius:20px}.window--mobile .window--bubble .icon-bubble-line{left:10px}.window--bubble .window__form .icon-bubble-line{position:absolute;left:-10px}.window--bubble .window__form .icon-bubble-line .bubbleline1{fill:#fff;stroke:#ddd;stroke-width:2px}.window--bubble .icon-bubble-line::before{color:#ddd}.window__formGreeting{font-size:.933333rem;line-height:18px;color:#666;margin-bottom:25px;word-wrap:break-word;word-break:break-word}.window__formGreeting a{color:#666;border-bottom:1px solid rgba(102,102,102,.6)!important}.window__chat .window__formGreeting{text-align:center}.window__formError{font-size:.933333rem;line-height:18px;color:#de3939;margin-bottom:26px}.form-fields .box-field{margin-bottom:15px}.form-fields .box-field input[type=file]{width:100%}.form-fields.form-fields--horizonal .box-field div.field-name+:not(.container-checkbox){-ms-flex-preferred-size:calc(100% - 80px);flex-basis:calc(100% - 80px)}#postchat-window .form-fields.form-fields--horizonal .box-field div.field-name+:not(.container-checkbox){max-width:calc(100% - 60px)}.form-fields.form-fields--horizonal .box-field input[type=file]{width:calc(100% - 80px)}.form-fields--horizonal .box-field{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;-ms-flex-wrap:wrap;flex-wrap:wrap}.form__inputContainer{position:relative;text-align:center}.fieldControl__Ticket{display:-ms-flexbox;display:flex}.form-fields--horizonal .fieldControl__Ticket{-ms-flex-positive:1;flex-grow:1}.form__ticketPrefix{-ms-flex-negative:0;flex-shrink:0;line-height:35px;font-size:.934rem}.window--bubble .form-fields:not(.form-fields--horizonal) .fieldControl__Ticket .form__input--ie10{width:120px}.fieldControl__Ticket .form__inputContainer,.form-fields--horizonal .form__inputContainer,.form-fields--horizonal .multipleText,.form-fields--horizonal .select-box{-ms-flex-positive:1;flex-grow:1}.form-fields .field-name{margin-bottom:10px;color:#626262;word-wrap:break-word}.form-fields .checkbox__text{color:#626262;font-size:.8rem;font-family:'SourceSans Pro Bold',Arial;line-height:1rem;width:100%}.botconfirm_list li p,.form-fields .container-checkboxlist .checkbox__text,.sendFormConfirm_list li p{font-family:'SourceSans Pro',Arial}.form-fields .container-checkboxlist .container-checkbox{display:block}.form-fields .container-checkboxlist>div+div{margin-top:6px}.form-fields .container-checkboxlist .checkbox__text{color:#333;text-transform:none;font-weight:400;font-size:.933333rem;line-height:1.2rem}.form-fields .field-control{-ms-flex-positive:1;flex-grow:1}.form-fields .field-control-password{position:relative}.form-fields .field-control-password input{padding-right:40px}.form-fields .field-control-password input[type=password]::-ms-reveal{display:none}.form-fields .field-control-password input[type=password]::-ms-clear{display:none}.form-fields .field-control-password input[type=password]::-o-clear{display:none}.form-fields .field-control-password .svg-icon{fill:#bebebe;position:absolute;top:0;right:10px;display:inline-block;width:40px;height:35px;margin-right:-10px;padding:7.5px 10px;font-size:35px;transition:fill .2s cubic-bezier(.4,0,.2,1) 0s;user-select:none}.form-fields.form-fields--horizonal .field-control,.form-fields.form-fields--horizonal .fieldControl__Ticket,.window--ie10 .fieldControl__Ticket .field-control,.window--ie10 .form-fields--horizonal .select-box{-ms-flex-negative:1;flex-shrink:1}.form-fields--horizonal .field-name{margin-bottom:0;margin-right:10px;-ms-flex:1 0 80px;flex:1 0 80px;max-width:80px;display:-ms-flexbox;display:flex}.form-fields--horizonal .field-name .field__label{display:inline-block;max-width:80px}.form-fields--horizonal .field-name.checkbox-label{-ms-flex-preferred-size:unset;flex-basis:unset;max-width:none;-ms-flex-negative:1;flex-shrink:1;display:none}.form-fields--horizonal .field-name.checkbox-label .field__label{max-width:none}.form-fields--horizonal .form__ticketPrefix{-ms-flex-negative:0;flex-shrink:0}.form-fields .field__requiredTag{margin-right:4px;margin-left:-7px;font-size:.8rem;line-height:1rem;fill:#ed1c24;vertical-align:middle;width:3px;height:15px;-ms-flex-negative:0;flex-shrink:0;float:left}.check-box .field__requiredTag{margin-top:2px}.window--rtl .form-fields .field__requiredTag{margin-left:4px;margin-right:-7px;float:right}.form-fields .field__label{font-size:.8rem;line-height:1rem;float:left;font-family:'SourceSans Pro Bold',Arial}.window--rtl .form-fields .field__label{float:right}.form-fields .field__requiredMsg{font-size:12px;color:#d31219;margin-top:4px}.form-fields .field__requiredMsg svg{fill:#d31219;overflow:visible;width:12px;height:12px;margin-right:4px}.filed__content .original_input{width:100%}.form-fields--horizonal .filed__content{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:100%}.form-fields--horizonal .field__requiredMsg:not(.field__requiredMsg--checkbox){margin-left:90px}.form__input{height:35px;width:100%}.form__textarea{height:auto}.botForm__container,.botForm__content,.botForm__content_iframe,.botForm__content_webview{height:100%;overflow:auto}.form__submitContainer{position:relative;text-align:center;margin-top:30px;padding-bottom:30px}.bubble .form__submitContainer{padding:0;margin-top:23px}.form__submitContainer--loading .form__submit{animation-name:form__submit--loading;animation-duration:167ms}.form__layer-circle,.form__layer-success{position:absolute;left:50%;top:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);display:none}.form__submitContainer--loading .form__layer-circle,.form__submitContainer--loading .form__layer-success{display:block}.form__submitContainer--loading .form__submitCirclePath{stroke:#000001;stroke-width:3px;stroke-dasharray:100;stroke-dashoffset:100;fill:#fff;fill-opacity:0;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:form__submitCirclePath-dash;animation-duration:.5s;animation-delay:167ms}.window_botform{padding:0!important;height:100%}.window_botform .botform_title{margin:0 0 10px;text-align:center;color:#444648;font-size:16px}.botform__submitContainer{text-align:center;margin:10px 0 30px}.botform__submitContainer button{padding:5px 18px;border:1px solid #00000a;border-radius:5px;color:#fff;margin:0 4px;cursor:pointer;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:160px}.botform__submitContainer button.btn-submit{background-color:#00000a;color:#00000e}.botform__submitContainer button.btn-cancel{background-color:#fff;color:#00000c}.botform__submitContainer button.btn-submit:focus,.botform__submitContainer button.btn-submit:hover{background-color:#000003;border-color:#000003}.botform__submitContainer button.btn-cancel:focus,.botform__submitContainer button.btn-cancel:hover{color:#000003;border-color:#000003}.botform__submitContainer button[disabled]{background-color:#f5f5f5!important;color:#888!important;border-color:#b5b1b1!important;cursor:default}.botconfirm_list li p{color:#333}.botconfirm_list li p:first-child{font-family:'SourceSans Pro Bold',Arial}@keyframes form__submitCirclePath-dash{from{stroke-dashoffset:100}to{stroke-dashoffset:0}}.form__submitContainer--loading .form__submitSuccessPath{fill:#00000a;stroke-width:1;-ms-transform:scale(0);transform:scale(0);opacity:0;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:form__submitSuccessPath-animation;animation-duration:.5s;animation-delay:542ms}@keyframes form__submitSuccessPath-animation{0%{transform:scale(0);transform-origin:50% 50%;opacity:0}100%{transform:scale(1);transform-origin:50% 50%;opacity:1}}.botForm__content_webview{width:100%}.botForm__content_iframe{width:100%;border:none}.form__gradient--white{position:absolute;height:25px;width:100%;bottom:0;background-image:linear-gradient(to bottom,transparent,rgba(255,255,255,.97) 86%,#fff)}.container-checkbox span,.control span{display:inline-block}.form-fields--horizonal .form__attachmentContainer{height:36px}.form-fields--horizonal .form__attachmentContainer input[type=file]{position:absolute;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%)}.window_sendForm{padding:0!important;height:100%}.window_sendForm .sendForm_title{margin:0 0 10px;text-align:center;color:#444648;font-size:16px}.sendForm__submitContainer{text-align:center;margin:10px 0 30px}.sendForm__submitContainer button{border:1px solid #00000a;margin:0 4px;cursor:pointer;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:160px;border-radius:4px;color:#fff;padding:6px 18px}.sendForm__submitContainer button.btn-submit{background-color:#00000a;color:#00000e}.sendForm__submitContainer button.btn-cancel{background-color:#fff;color:#00000c;border:1px solid #00000c}.sendForm__submitContainer button.btn-submit:focus,.sendForm__submitContainer button.btn-submit:hover{background-color:#000003;border-color:#000003}.sendForm__submitContainer button.btn-cancel:focus,.sendForm__submitContainer button.btn-cancel:hover{color:#000010;border-color:#000010}.sendForm__submitContainer button[disabled]{background-color:#f5f5f5!important;color:#888!important;border-color:#b5b1b1!important;cursor:default}.sendForm__container,.sendForm__content{height:100%;overflow:auto}.sendForm__container .form-note{padding-left:20px}.sendFormConfirm_list li p{color:#333}.sendFormConfirm_list{padding:20px;min-width:190px}.sendFormConfirm_list li{margin-bottom:10px}.sendFormConfirm_list li p{margin:0}.sendFormConfirm_list li p:first-child{font-family:'SourceSans Pro Bold',Arial;color:#666;margin:0}.invitation__name,.nps .npsItem{font-family:\"SourceSans Pro Bold\",Arial}.form-note,.nps .npsItem{color:#626262;font-size:12px}.form-note{display:block;margin-bottom:8px}.nps{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}.nps .npsItem{height:22px;width:22px;border:none;background:#e8e8e8;border-radius:100%;overflow:hidden;cursor:pointer;position:relative}.article-summary,.article-title,.chat-message-time,.window__chatAgentName,.window__chatVisitorName{font-family:\"SourceSans Pro\",Arial}.nps .npsItem--selected,.nps .npsItem:hover{background:#00000a;color:#00000e}.nps .npsItem svg{position:relative;width:100%;height:100%;fill:#e8e8e8;border-radius:50%}.nps .npsItem--selected svg,.nps .npsItem:hover svg{fill:#00000a;color:#000004}.nps .npsItem .npsItem-label{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:100%}.nps__label{font-size:11px;color:#626262;word-wrap:break-word}.nps__label--left{float:left;margin-top:5px;width:50%;padding-right:8px}.nps__label--right{float:right;margin-top:5px;width:50%;padding-left:8px;text-align:right}.window--rtl .nps .npsItem:last-child{margin-right:2px}.window--rtl .nps__label--left{float:right;padding-right:0;padding-left:8px}.window--rtl .nps__label--right{float:left;text-align:left;padding-left:0;padding-right:8px}.window--mobile .nps .npsItem:hover{background:#e8e8e8;color:#626262}.window--mobile .nps .npsItem--selected{background:#00000a!important;color:#000004!important}.form-fields--horizonal .nps .npsItem{height:13px;width:13px;line-height:13px}.window__chat{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow:auto;overflow:overlay;overflow-x:hidden!important;-webkit-overflow-scrolling:touch;width:100%;padding:18px 27px 0;margin-bottom:0}.chat__greetingContainer .window__chatSystemMessage,.chat__greetingContainer .window__formGreeting{margin-bottom:0;color:#666}.chat__greetingContainer .window__chatSystemMessage a[href],.chat__greetingContainer .window__formGreeting a[href]{color:#00000a;border-bottom:1px solid #00000a!important}.window--mobile .window--bubble .chat__greetingContainer{margin-bottom:16px}.window__chat--animation{animation-delay:.3s}.window--ie .window__chat--animation{animation:none}.window__chatSystemMessage{color:#626262;font-size:14px;text-align:center;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);word-wrap:break-word}.window--bubble .window__chat .window__chatSystemMessageContent{display:inline-block;background:#f8f8f8;line-height:1.57;padding:8px 14px;border-radius:5px;max-width:240px}.window__chatSystemMessage a,.window__chatSystemMessage a[href]{color:#00000c;border-bottom:1px solid #00000c}.window__chatSystemMessage a:hover,.window__chatSystemMessage a[href]:hover{color:#000010;border-bottom:1px solid #000010}.window__chatSystemMessage svg{fill:#00000c;position:relative;top:6px;right:3px}.window__chatSystemMessage svg:hover{fill:#000010}.window__chatAgent,.window__chatVisitor{display:-ms-flexbox;display:flex;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);position:relative}.window__chat>div>div+div>.chat-message-time,.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time{position:absolute;margin-bottom:4px;top:0;right:0}.window__chat>div{padding-bottom:16px}.window__chat>div>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div+div{margin-top:16px}.window__chat>div>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div.botConfidenceAnswerDiv>div+div{margin-top:16px}.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window--ie .window__chatAgent,.window--ie .window__chatSystemMessage,.window--ie .window__chatVisitor{animation:none}.window__chatVisitor{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.agentMessage__avatar{margin-right:15px;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-negative:0;flex-shrink:0}.agentMessage__avatarImg{display:block;width:30px;height:30px;border-radius:100%;margin-bottom:15px}.agentMessage__pci{background:#f0f0f0;border:1px solid #ddd;border-radius:4px;padding:23px 20px 12px}.agentMessage__pciField{margin-bottom:7px;color:#888}.agentMessage__pciControl{margin-bottom:12px}.agentMessage__pciControl .form__input{height:30px;line-height:30px;width:calc(100% - 20px)}.window__chatAgentMessage p{margin:0}.window--circular .window__chatAgentMessage,.window--circular .window__chatVisitorMessage{border-radius:20px}.window__chatAgentMessage,.window__chatVisitorMessage{position:relative;font-size:.93333333rem;line-height:1.57;padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5}.window__chatAgentMessage_container{max-width:640px}.window__chatAgentMessage_container .chat-message-extra-info{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:4px}.window__chatAgentMessage_container .chat-message-extra-info>.chat-message-time{margin-left:8px}.window__chatAgentMessage_container .window__chatAgentMessage{max-width:100%;display:inline-block;border-top-left-radius:0;border-bottom-left-radius:5px}.window--mobile .window__chatAgentMessage{border:1px solid #f5f5f5}.window__formMessageContainer{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.window__formMessage{padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5;width:100%;max-width:600px}.window__formMessage .window__formGreeting{text-align:left;color:#000}.window--ie .window__chatVisitorMessage{margin-left:auto}.window__chatAgentMessage{border-top-left-radius:0}.window__chatVisitorMessage{background-color:#000001;color:#000;border-top-right-radius:0;margin-left:67px;max-width:640px}@keyframes bounceOut{20%{width:5px;height:5px;border-radius:5px;opacity:1}50%,55%{width:8px;height:8px;border-radius:8px;opacity:1}to{width:2px;height:2px;border-radius:2px;opacity:0}}.dot_container{width:20px;height:20px;position:absolute;left:-20px;bottom:19px}.message--notSeen,.message--seen{display:inline-block;background:#00000c;width:6px;height:6px;border-radius:6px;position:relative;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);fill:#00000c}.displayNone,.window--ie9 .message--seen,.window--mobile .window__footer{display:none}.message--seen{animation:bounceOut .5s linear forwards}.window--rtl .dot_container{left:-35px}.file__icon--cancel{float:right}.file__icon--cancel svg{width:12px;height:12px;fill:#00000c}.file__icon--cancel svg:hover{fill:#000010}.window__chatMessageOrignal{display:block;opacity:.85}.window__chatMessageTranslatedTag{display:inline}.window__chatAgentMessage img{display:block}.window__chatAgentMessage .chatMessage__questionList li{color:#323dbf;line-height:1;margin-bottom:10px}.window__chatAgentMessage .chatMessage__questionList li span{margin-right:5px;display:inline-block;-ms-flex-negative:0;flex-shrink:0}.window__chatAgentMessage .chatMessage__questionList li:last-child{margin-bottom:0}.window__chatAgentMessage .chatMessage__questionList li a[href]{border-bottom-color:transparent}.window__chatAgentMessage .chatMessage__questionList li a[href]:active,.window__chatAgentMessage .chatMessage__questionList li a[href]:focus,.window__chatAgentMessage .chatMessage__questionList li a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.window__chatAgentMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatAgentMessage a[href]:active,.window__chatAgentMessage a[href]:focus,.window__chatAgentMessage a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.chat-message--img a{max-width:200px!important;max-height:200px!important;min-width:60px!important;min-height:60px!important;overflow:hidden;display:block;border-bottom:none!important}.chat-message--img .image-container{margin:0 auto;height:100%}.chat-message--img img{display:block;margin:0 auto;border:none}.window__chatVisitorMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatVisitorMessage a[href]:hover{border-bottom-color:#323dbf}.window__chatAgentMessage a,.window__chatVisitorMessage a{max-width:100%}.window__chatVisitorMessage button{border:none;background:0 0;margin:5px 0 0 9px;cursor:pointer}@keyframes message--show{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}.chat-time{opacity:0;color:#fff;font-size:.8rem;background:rgba(0,0,0,.6);padding:0 5px;line-height:17px;height:17px;border-radius:8px;transition:opacity 50ms linear;position:absolute;z-index:1}.chat-message-time{font-size:12px;color:#626262}.window__chatAgentName,.window__chatVisitorName{font-size:12px;color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.window--classic .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.chat-message--img{padding:0}.window__chatAgentMessage{background:#fff;color:#000}.window__chatAgentMessage--file .icon-sendfile,.window__chatVisitorMessage--file .icon-sendfile{position:relative;top:3px;margin-right:5px;font-size:15px;color:#00000c}.window__chatAgentMessage--file a[href],.window__chatVisitorMessage--file a[href]{border:none}.kbsearch__container .window_chatError,.window--mobile .kbsearch__container .window_chatError,.window--mobile .window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 88px)}.window_chatError{position:absolute;z-index:99;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%);padding:10px 47px 10px 18px;box-shadow:0 0 5px rgba(0,0,0,.1);font-size:.8rem;line-height:1.17;text-align:left;bottom:0;width:calc(100% - 54px);border-radius:5px}.form-bottom .window_chatError{width:100%}.window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 38px)}.window--circular .window_chatError{border-radius:20px}.chatError__container{position:absolute;top:-20px;width:100%}.window_chatErrorClose{position:absolute;right:15px;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);line-height:12px;cursor:pointer;background:0 0;border:none}.window_chatErrorClose svg{width:12px;height:12px}.window_chatError--urgency .window_chatErrorClose svg{fill:#BF0007}.window_chatError--mitigate .window_chatErrorClose svg{fill:#A05700}.window_chatError i{vertical-align:bottom}.window_chatError--mitigate{background:#fff6eb;border:1px solid #fff6eb;color:#A05700}.window_chatError--urgency{background:#fff2f2;border:1px solid #ffd6d8;color:#BF0007}.invitation__message,.invitation__message a[href],.invitation__name,.window--bubble .window__chatAgentMessage--file,.window--circle .window__chatAgentMessage--file::before{color:#000004}.window--circle .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window__chat>div{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--bubble .window__chatAgent{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.window--bubble .window__chatVisitor{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.window--bubble .chat-time{font-size:.8rem;padding:0 5px;top:0}.window--bubble .icon-bubble-line{position:absolute;width:10px;bottom:-1px}.window--bubble .icon-bubble-line .svgPath{width:auto;height:auto}.window--bubble .window__chatVisitorMessage{max-width:calc(100% - 50px)}.window__chatVisitorMessage .chat-message--loading{position:absolute;left:-30px;top:50%;margin-top:-11px}.window--bubble .window__chat{padding:30px 15px 0 27px;margin-bottom:0;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.window--bubble .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window--bubble__messageNoAvatar{margin-left:0;padding-left:15px;display:block}.chatMessage__questionList{margin-top:19px}.chatMessage__questionList li>a{display:inline}.chatMessage__questionList--disc{list-style-type:disc;padding-left:20px}.window__chatAgentMessage .chatMessage__questionList.chatMessage__questionList--disc li{display:list-item}.window__chatAgentMessage .btn{margin-top:16px}.chatMessage__chatBotRate__wrapper{position:absolute;right:-50px;bottom:0;width:40px}.chatMessage__chatBotRate{margin-left:10px;-ms-flex-item-align:end;align-self:flex-end}.chatMessage__chatBotRate>button{width:20px;height:20px;border-radius:20px;background-color:#fff;cursor:pointer;font-size:10px;border-width:0;display:block}.chatMessage__chatBotRate .icon{width:20px;line-height:20px;color:#626262}.chatMessage__chatBotRate>button:hover{background-color:#00000c}.chatMessage__chatBotRate>button:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover{background-color:#00000c;color:#fff;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover{background-color:#e8e8e8;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover .icon{color:#626262}.chatMessage__chatBotRate>button.chatMessage__chatBotRateLast{margin-top:5px}.window__chatWithAgent{z-index:9;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px;height:23px;text-align:center;padding-right:15px;padding-left:15px;background:0 0;border:none;cursor:pointer}.window__chatWithAgent--above:focus,.window__chatWithAgent--above:hover{border:1px solid #000003;color:#000003}.window__chatWithAgent--above{padding:4.5px;font-size:.8rem;line-height:1.25;height:27px;width:175px;border-radius:5px;border:1px solid #00000a;color:#00000a;background-color:#fff;position:absolute;top:-37px;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%)}.window--circular .window__chatWithAgent--above{border-radius:20px}.window__chatWithAgent--bottom:focus,.window__chatWithAgent--bottom:hover{color:#000003}.window__chatWithAgent--bottom{color:#00000a;font-size:.8rem;line-height:1.12;height:1rem;padding-left:12px;float:left}.window__chat .dot{position:relative;top:-3px}.window__chat .dot__element{display:inline-block;width:4px;height:4px;border-radius:100%;margin-right:5px;background:#000005;fill:#000005}@media screen and (-ms-high-contrast:active){.window__chat .dot__element{background:#fff;fill:#fff}}.window__chat .dot__element:last-child{margin-right:0}.amimated-infinite{-webkit-animation-iteration-count:infinite}.amimated-infinite,.animated.infinite,.window__chat .dot__element--loadingAnimation{animation-iteration-count:infinite}@keyframes dot__element--loadingAnimation{0%,100%,50%{transform:translateY(0)}25%{transform:translateY(-8px)}}.window__chat .dot__element--loadingAnimation{animation-name:dot__element--loadingAnimation;animation-duration:1s}.window--ie .webView_background .webView_scroll_container,.window--ie .window__chat .dot__element--loadingAnimation{animation:none}.window--bubble .chat-message--imgLoading,.window--circle .chat-message--imgLoading,.window--classic .chat-message--imgLoading{width:62px;height:62px;text-align:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.chat-message__secure-form span{display:block;position:absolute;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);top:50%;left:50%}.postchatFormContainer{position:absolute;top:80px;bottom:30px;overflow:auto;overflow-x:hidden;padding:30px 50px;width:100%;-ms-transform:translateY(450px);transform:translateY(450px);opacity:0}*,.window__ssoLogin{-webkit-overflow-scrolling:touch}.postchatFormContainer__greeting{margin-bottom:20px}.postchatFormContainer__submitContainer{text-align:center}@keyframes fadeInUp--windowFormContainer{0%{opacity:0;transform:translateY(375px)}100%{opacity:1;transform:translateY(0)}}.window__ssoLogin{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow-y:scroll}.window__ssoLogin iframe{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;background-color:#fff}.window--bubble .window__ssoLogin{-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:1;flex-grow:1}.window--bubble .window__ssoLogin iframe{display:block;width:100%;height:100%;min-height:456px;background-color:#fff}.window_buttons_container .window_buttons_item{margin-top:12px;text-align:center;cursor:pointer}.window_buttons_container .window_buttons_item li{min-width:150px;margin-top:4px}.window_buttons_container .window_buttons_item button{border:none;border-radius:4px;background:#00000a;color:#00000e;cursor:pointer;padding:7px 10px;width:100%}.window_buttons_container .window_buttons_item--active button:hover{background:#000003!important;color:#00000e}.window_buttons_container .window_buttons_item--disable button{background-color:#e8e8e8!important;color:#626262!important;cursor:default}.webView_background{position:absolute;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);border-radius:5px 5px 0 0;z-index:1000}.webView_background .webView_scroll_container{width:100%;position:absolute;height:100%;bottom:0;max-height:100%;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.webView_background .webView_scroll_container--compact{max-height:300px}.webView_background .webView_scroll_container--full{max-height:530px}.webView_background .webView_scroll_container--tall{max-height:415px}.webView_background .webView--scroll{width:100%;position:relative;height:calc(100% - 40px);overflow:-moz-scrollbars-none;-ms-overflow-style:none}.webView_background .webView__title{width:100%;text-align:center;background-color:#fff;height:40px;border-bottom:1px solid #ddd;line-height:40px;border-radius:5px 5px 0 0}.webView_background .webView__title h1{font-weight:400;margin:0;width:200px;font-size:inherit;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.webView_background .webView__close{position:absolute;right:10px;cursor:pointer;z-index:9999;fill:#5d5d5d;background:0 0;border:none;padding:6px 16px 0;width:44px;height:40px;top:0}.webView_background .webView__close svg{width:13px;height:13px}.webView_background .webView{background:#fff}.webView_background .webView .box-field{margin-top:15px;padding:0 30px}.webView_background .webView__content{height:100%}.window--bubble .webView_scroll_container--compact{max-height:330px}.window--bubble .webView_scroll_container--full{max-height:560px}.window--bubble .webView_scroll_container--tall{max-height:445px}.window--bubble .webView_scroll_container{padding-top:30px}.window--bubble .webView__close{top:30px}.window_quick_reply_container_box{width:100%;display:-ms-flexbox;display:flex;padding:0 16px;position:relative;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around}.window_quick_reply_container_box i{cursor:pointer}.window_quick_reply_container_box .window_quick_reply_buttons_item{width:auto;min-width:75px;background-color:#fff;color:#00000c;border:1px solid #00000c;cursor:pointer;height:25px;display:inline-block;padding:0;overflow:hidden;max-width:260px;line-height:25px;white-space:nowrap;margin-right:12px;border-radius:4px;margin-bottom:12px;text-overflow:ellipsis}.chat-input__toolbox button:last-child,.window_quick_reply_container_box .window_quick_reply button:last-child{margin-right:0}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner{background-color:#000012;width:100%;height:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner>span{display:inline-block;padding:0 12px;font-weight:600;height:100%;width:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item:hover{background-color:#00000c;color:#fff}.window_quick_reply_container_box .window_quick_reply_buttons{width:100%;margin:0;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-align:center;align-items:center;padding-left:0;-ms-flex-line-pack:center;align-content:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:flex-start;display:-ms-flexbox;display:flex}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item{-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item>.window_quick_reply_buttons_item{margin:0}.window_quick_reply_container_box .window_quick_reply_control+.window_quick_reply{width:calc(100% - 40px)}.botconfirm_list{padding:20px;min-width:190px}.botconfirm_list li{margin-bottom:10px}.botconfirm_list li p{margin:0}.botconfirm_list li p:first-child{color:#666;margin:0}.window__chatAgentMessage .window_botAnswer_richText a[href]{border-bottom:none}.window__chatAgentMessage .window_botAnswer_richText a[href]:hover{border-bottom:1px solid #323dbf}.window__chatAgentMessage .window_botAnswer_richText--disable a[href^=\"intent:\"]{color:#888}.visually-hidden{width:1px;height:1px}.window__chatAgentMessage.bot_item_content.chat-message--img{padding:1px}.window__chatAgentMessage.bot_item_content.chat-message--img a{max-width:244px!important;min-height:10px!important}.chatInputContainer{position:relative;-ms-flex-negative:0;flex-shrink:0}.chatInputLabel{visibility:hidden;position:absolute;left:-10000px}.chatInputContainer--fadeInUp{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3}.window--ie .chatInputContainer--fadeInUp,.window--ie .invitation-showType,.window--ie .invitation__message,.window--ie .invitation__name{animation:none}.chat-input__controlbox{padding:10px 10px 10px 0;display:-ms-flexbox;display:flex}.textareaContainer{-ms-flex-positive:1;flex-grow:1}.window--rtl .chat-input__controlbox{-ms-flex-pack:end;justify-content:flex-end}.window--rtl .chat-input__controlbox--noTool .window__chatInputControl{padding-right:76px}.window__chatInputControl{display:block;width:100%;padding-top:0;padding-bottom:0;font-size:1.06667rem;color:#333;outline:0}.embedded-window:not(.window--mobile) .window__chatInputControl{font-size:1rem}.chatInput--ripple{position:absolute;border-radius:50%;width:50px;height:50px;background:#ddd;animation:chatInput--ripple 2s}@keyframes chatInput--ripple{from{transform:scale(1);opacity:.4}to{transform:scale(100);opacity:0}}.window__chatSender{position:absolute;right:26px;bottom:16px;width:20px;height:20px;border:none;background:0 0;animation:fadeIn .5s}.window__chatSender svg{width:20px;height:20px;fill:#626262}.chatInputContainer--typed .window__chatSender svg{fill:#00000c}.chatInputContainer--typed .window__chatSender:hover svg{fill:#000010}.chatInputContainer--hide{height:0!important;width:0!important;visibility:hidden}.chatInputContainer--hide+div>.footer{background:0 0!important}.window__chatSenderSVG{margin-top:2px}.window__chatSenderSVGPath{fill-rule:evenodd;clip-rule:evenodd;fill:#626262}.chat-input__toolbox button:hover svg,.window__chatSender--active .window__chatSenderSVGPath{fill:#00000c}.window__chatSender .icon-input-send{color:#626262;font-size:1.333333rem;margin-top:3px;margin-right:3px}.window__chatSender--active .icon-input-send{color:#00000a}.chatInputContainer{height:auto;padding-right:2px}.window--mobile .chatInputContainer--active .window__chatInputControl,.window--mobile .window__chatInputControl:focus{border-top:none;box-shadow:initial;transition:none}.window__chatInput--Drag::before{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;background:rgba(250,245,205,.85);z-index:99;text-align:center;color:#d2b067;font-size:2.133333rem}.chat-input__toolbox{animation:fadeIn .5s;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;user-select:none;-moz-user-select:none}.chat-input__toolbox button{cursor:pointer;background:0 0;width:24px;height:24px;padding:3px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border-radius:100%;border:1px solid transparent}.chat-input__toolbox button.chat-input__icon--disabled,.chat-input__toolbox button.chat-input__icon--disabled:focus svg:hover,.chat-input__toolbox button.chat-input__icon--disabled:hover svg:hover{cursor:default}.chat-input__toolbox button:focus{border-radius:100%;outline:0}.chat-input__toolbox button svg{fill:#626262}.chat-input__toolbox button.chat-input__icon--disabled:focus,.chat-input__toolbox button.chat-input__icon--disabled:hover{background:0 0}.chat-input__toolbox button.chat-input__icon--disabled:focus svg,.chat-input__toolbox button.chat-input__icon--disabled:hover svg{fill:#bbb}.global-showFocus .chat-input__controlbox button:focus{border-color:#000003}.window--bubble .chatInputContainer{box-shadow:initial;background:#f8f8f8;border-radius:5px 5px 0 0}.window--bubble .chatInputContainer+div>.footer{background:#f8f8f8}.window--circular.window--bubble .chatInputContainer{border-radius:20px 20px 0 0}.window--mobile .window--circular.window--bubble .chatInputContainer{border-radius:0}.window--mobile.window--ipad .chatInputContainer{border-bottom-right-radius:5px;border-bottom-left-radius:5px}.window--mobile.window--ipad .window--circular .chatInputContainer{border-bottom-right-radius:20px;border-bottom-left-radius:20px}.window--mobile.window--ipad .window--bubble .bubble-box,.window--mobile.window--ipad .window--bubble .chatInputContainer,.window--mobile.window--ipad .window--circular.window--bubble .bubble-box,.window--mobile.window--ipad .window--circular.window--bubble .chatInputContainer{border-radius:0}.chatInputContainer--active .chat-input__controlbox{border-top-color:#000002}.chatInputContainer--typed .window__chatInputControl{padding-right:76px}.window__chatInputControl{border:none;background-color:transparent;padding:0 10px 0 25px;max-height:84px;min-height:27px;overflow-y:hidden;overflow-x:hidden;height:27px;line-height:1.27}.window--circular.window--bubble .window__chatInputControl{padding-left:20px}.chat-input__limitNumSpan{position:absolute;right:40px;color:red;padding:2px 2px 4px;bottom:-4px}.window--classic .chat-input__limitNumSpan{right:20px}.window--bubble .chat-input__controlbox--limit .window__chatInputControl,.window--circle .chat-input__controlbox--limit .window__chatInputControl,.window--classic .chat-input__controlbox--limit .window__chatInputControl{padding-bottom:8px}.window--mobile .window--bubble .chat-input__controlbox--limit .window__chatInputControl,.window--mobile .window--circle .chat-input__controlbox--limit .window__chatInputControl,.window--mobile .window--classic .chat-input__controlbox--limit .window__chatInputControl{padding-bottom:0}.window--mobile .chat-input__limitNumSpan,.window--mobile .window--classic .chat-input__limitNumSpan{right:4px;bottom:0}.window--mobile .window__chatInputControl{border-radius:0}.pasteImageContainer{padding:0 50px 0 25px;-ms-flex-negative:1;flex-shrink:1;width:100%;height:84px;overflow-y:auto;display:-ms-flexbox;display:flex;ime-mode:disabled;outline:0}.pasteImageContainer::-webkit-scrollbar-thumb{background-color:#c8c8c8}.pasteImage{width:100%}.pasteImage img{max-width:100%}.pasteImageClose{position:absolute;float:right;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;right:30px;top:15px}.pasteImageClose button{outline:0;border:none;height:20px;width:20px;background:0 0}.pasteImageClose svg{width:12px;height:12px;fill:#666;opacity:.7}.date-picker-container>.taskbot_submit_btn_container svg,.highContrast .calendar-container .date-picker-arrow,.pasteImageClose:hover svg{opacity:1}.pasteImageTemp{position:absolute;width:1;height:1;left:-1}.footer-text-single-line{height:30px}.footer{-ms-flex-negative:0;flex-shrink:0;z-index:999;width:100%;padding-left:15px;padding-right:15px;font-size:.8rem;height:23px;background:0 0;border-radius:0 0 5px 5px}.window--bubble .footer{margin-top:12px}.window--bubble .window__chat+div>.footer.footer--empty,.window--bubble .window__formContainer+div>.footer.footer--empty,.window--bubble .window__kb_formContainer+div>.footer.footer--empty{margin-top:0;height:0}.window--bubble .chatInputContainer+div>.footer{margin-top:0}.window--circular .footer{border-radius:0 0 20px 20px}.poweredby{height:23px;float:right}.poweredby a[href]{line-height:15px}.poweredby a[href]:active,.poweredby a[href]:focus,.poweredby a[href]:hover{border-bottom:none}.poweredby a[href] svg{height:15px;vertical-align:text-bottom}.poweredby a[href] svg polygon{fill:#ffd928}.poweredby a[href] svg path{fill:#626262}.footer-container{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.invitation{position:fixed;bottom:0;cursor:pointer;min-width:270px;border:none;box-shadow:0 5px 7.5px 0 rgba(0,0,0,.15);margin:2.5px 7.5px 12.5px}.window--circular .invitation{border-radius:20px 20px 0}.window--chrome.invitation{box-shadow:0 5px 15px 0 rgba(0,0,0,.15)}.invitation__name{font-size:.933333333rem;line-height:1.21;overflow:hidden;max-width:100%;text-overflow:ellipsis;white-space:nowrap;-ms-flex-positive:0;flex-grow:0}.invitation__message{font-size:.933333333rem;line-height:1.57;padding:20px 35px;max-height:250px;min-height:95px;overflow:hidden;text-overflow:ellipsis;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;text-align:left;border:none;cursor:pointer;width:100%}a[href].invitation__message:focus,a[href].invitation__message:hover{border:none}.global-showFocus a[href].invitation__message:focus{background-color:#000006}.window--circular .invitation__message{border-radius:20px 20px 0 0}.window--ie9 .invitation__message{display:block}.invitation__type{height:50px;line-height:1;padding:17.5px 27px;background:#f8f8f8;color:#333;font-size:1rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border:none;width:100%;text-align:left;border-radius:0 0 0 5px}button.invitation__type{cursor:pointer;padding:0 27px;color:#bbb}.invitation__type:focus{outline:0}.invitation__avatars{top:-15px;left:100px;position:absolute;z-index:99}.invitation__avatars img{width:28px;height:28px;border-radius:100%;border:1px solid #fff;margin-right:-5.5px}@keyframes invitation-show{0%{transform:scale(0);opacity:0;transform-origin:calc(100% - 29px) calc(100% + 18px)}100%{transform:scale(1);opacity:1;transform-origin:calc(100% - 29px) calc(100% + 18px)}}@keyframes invitation-showType{0%{transform:translateY(35px);opacity:0}100%{transform:translateY(0);opacity:1}}.invitation--coming .invitation:nth-child(2){animation:fadeOutUp 374ms linear both;z-index:2147483636}@keyframes fadeOutUp{from{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}.invitation--coming .invitation:nth-child(1){animation:invitation-show 375ms cubic-bezier(.785,.135,.15,.86) both;z-index:2147483636}.invitation__close{position:absolute;top:-4px;right:-4px;background:rgba(0,0,0,.6);border:none;z-index:1;width:21px;height:21px;cursor:pointer;border-radius:21px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.invitation__close:hover{background:#000}.invitation__close svg{fill:#000004;width:9px;height:9px;display:block;margin:5px}.invitation__image{display:block;max-width:100%;max-height:500px;margin:auto}.invitation__container{border-radius:5px;overflow:hidden;width:100%}.window--mobile .window--bubble .window__chatOperationPlus,.window--mobile .window--bubble .window__chatSender,.window--mobile .window--circle .window__chatOperationPlus,.window--mobile .window--circle .window__chatSender,.window--mobile .window--classic .window__chatOperationPlus{display:block}.window--mobile .chatInputContainer{overflow:initial;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--mobile .chat-time{display:block}.window--mobile{background-color:rgba(0,0,0,.15);-webkit-backface-visibility:hidden}.window--mobileHorizontal .window--embedded,.window--mobileHorizontal .window--embedded .bubble-box,.window--mobileVertical .window--embedded,.window--mobileVertical .window--embedded .bubble-box{top:0;right:0;bottom:0;left:0;width:100%;height:100%}.window--rtl .container-checkbox i,.window--rtl .controlIndicator{left:auto;right:0}.window--mobileHorizontal .window--bio.window--circle,.window--mobileHorizontal .window--bio.window--circle .bubble-box,.window--mobileHorizontal .window--embedded .bubble-box.window--bio.window--circle,.window--mobileHorizontal .window--embedded .bubble-box.window--bio.window--circle .bubble-box,.window--mobileHorizontal .window--embedded.window--bio.window--circle,.window--mobileHorizontal .window--embedded.window--bio.window--circle .bubble-box,.window--mobileVertical .window--bio.window--circle,.window--mobileVertical .window--bio.window--circle .bubble-box,.window--mobileVertical .window--embedded .bubble-box.window--bio.window--circle,.window--mobileVertical .window--embedded .bubble-box.window--bio.window--circle .bubble-box,.window--mobileVertical .window--embedded.window--bio.window--circle,.window--mobileVertical .window--embedded.window--bio.window--circle .bubble-box{height:100%;top:0}.window--mobile .chat-input__controlbox{-ms-flex-positive:1;flex-grow:1;padding:20px 50px 20px 28px;border-top:solid;border-top-width:.5px;border-top-color:rgba(0,0,0,.2)}.window--mobile .chat-input__controlbox .textareaContainer{border-bottom:1px solid #787878}.window--mobile .chat-input__controlbox ::-webkit-input-placeholder{color:#787878}.window--mobile .chat-input__controlbox ::-moz-placeholder{color:#787878}.window--mobile .chat-input__controlbox :-ms-input-placeholder{color:#787878}.window--mobile .window__chatInputControl{padding:0 0 10px;height:30px;line-height:20px;min-height:30px;box-shadow:none}.window--mobile .window__chatSender .icon-input-send{color:#626262;font-size:1.5625rem;margin-top:5px}.window--mobile .window__chatSender--active .icon-input-send{color:#00000a}.window--mobile .window--bubble .window__chatSender .icon-input-send,.window--mobile .window--circle .window__chatSender .icon-input-send{color:#626262}.window--mobile .window--bubble .window__chatSender--active .icon-input-send,.window--mobile .window--circle .window__chatSender--active .icon-input-send{color:#00000a}.window--mobile .window__chatSender{bottom:20.5px;right:12px;width:37px;height:37px;padding:5px}.window--mobile .window__chatSender svg{width:27px;height:27px;fill:#626262}.window--mobile .chatInputContainer--typed .window__chatSender svg,.window--mobile .window__chatSender--active .window__chatSenderSVGPath{fill:#00000c}.window--mobile .window__chatSender.window__chatTools{bottom:unset;top:12px}.window--mobile .window__chatOperationPlusBox{-ms-flex-preferred-size:40px;flex-basis:40px}.window--mobile .window__chatOperationPlus{width:20px;height:20px;margin:0 auto}.window--mobile .window__chatOperationPlus .icon-plus{font-size:1.3125em;color:#fff}.window--mobile .window--classic .window__chatAgentMessage_container{max-width:calc(100% - 34px)}.window--mobile .window--classic .window__chatAgentMessage_container .window__chatAgentMessage.chat-message--img{max-width:200px;max-height:none}.window--mobileHorizontal .window--bubble.whole-window,.window--mobileVertical .window--bubble.whole-window{top:0;height:calc(100% - 0px)}.window--mobile .window--circle .main-container{height:100%}.window--mobile:not(.window--ipad) .window--circle,.window--mobile:not(.window--ipad) .window--circle .bubble-box,.window--mobile:not(.window--ipad) .window--circle .main-container{border-radius:0;top:0;height:100%}.window--mobile:not(.window--ipad) .window--circle .header__avatar{position:static;margin:0}.window--mobile:not(.window--ipad) .window--circle .header__agentInfo{margin:0}.window--mobile:not(.window--ipad) .window--circle .window__headerBox:not(.window__headerBox--banner){display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center}.window--mobile:not(.window--ipad) .window--circle .header__teamAvatar{position:relative;left:auto;top:0;margin:10px 0 0}.window--mobile:not(.window--ipad) .window--circle .header__teamName{margin-top:10px}.window--mobile:not(.window--ipad) .window--circle .window__headerBox.window__headerBox--hasAvatars{padding-bottom:16px}.window--mobile:not(.window--ipad) .window--circle .header__agent{max-width:100%}.window--mobile:not(.window--ipad) .window--circle .header__agentName{max-width:100%;margin:0 45px}.window--mobile:not(.window--ipad) .window--bubble.whole-window .main-container{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}.window--mobile .window_chatError{position:absolute;z-index:2147483000;width:calc(100% - 40px)}.window--mobile .window__chatWithAgent--bottom{display:none}.window--mobile .bubble-box--show .bubble{-ms-transform:scale(1);transform:scale(1);animation:showBubble 333ms cubic-bezier(.785,.135,.15,.86) both}.window--mobile .window--bubble.whole-window .main-container{overflow:initial;background-color:#f5f5f5}.window--mobile .window__formContainer--bubble{margin-top:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;padding:0}.window--mobile .window--ie10 .window__formContainer--bubble{-ms-flex-negative:1;flex-shrink:1}.window--mobile .window--bubble .window__form{padding-left:45px;padding-right:43px}.window--mobile .window--bubble .window__form .greeting-message-container{-ms-flex-negative:0;flex-shrink:0}.window--mobile .window--bubble .window__operation{background-color:transparent;-ms-flex-pack:end;justify-content:flex-end}.window--mobile .window__operation{height:40px;padding-right:6px}.window--mobile .window__operation>a,.window--mobile .window__operation>button{margin:0 1px;height:20px}.window--mobile .window__operation>a>svg,.window--mobile .window__operation>button>svg{width:20px;height:16px}.window--mobile .window__operation .header__operationContainer{height:40px}.window--mobile .window__operation .header__operationContainer>button,.window--mobile .window__operation>button{height:40px;padding:0 10px}.window--mobile .bubble-close{width:30px;height:30px;right:0;top:0}.global-showFocus .window--mobile .window--bubble a:focus{border-bottom-color:#787878}.window--mobile .window--bubble .window__operation .header__operationContainer>button>svg,.window--mobile .window--bubble .window__operation>a>svg,.window--mobile .window--bubble .window__operation>button>svg{fill:#787878}.window--mobile .window--bubble .main-container .window__title{position:relative}.window--mobile .chatError__container{left:0}.window--mobile .window--bubble .window__chat{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:25px;padding-right:27px}.window--mobile .window--bubble .window__chat>div{-ms-flex-negative:0;flex-shrink:0;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-positive:1;flex-grow:1}.window--mobile .window--bubble .window__chat>div>div>div.window__chatAgent+div.window__chatAgent,.window--mobile .window--bubble .window__chat>div>div>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window--mobile .window--bubble .window__chat>div>div>div+div{margin-top:16px}.window--mobile .window--bubble .window__chat>div>div>div+div>.chat-message-time{position:absolute;margin-bottom:4px;top:0;right:0}.window--mobile .window--bubble .window__chat>div>div>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window--mobile .window--bubble .window__chat>div>div+div{margin-top:0}.window--mobile .window--bubble .chatInputContainer{background-color:#fff}.main-container,.window--mobile .main-container{background-color:#f5f5f5}.window--mobile .window--bubble .window__kb_formContainer{-ms-flex-positive:1;flex-grow:1}.window--mobile .window--bubble .window__form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--mobile.window--ipad .window--bubble .chatInputContainer{border:2px solid #f0f1f2;border-top:none}.window--mobile.window--ipad.withSideWin .window--bubble .chatInputContainer{border-bottom:none}.window--mobile.window--ipad.withSideWin .window--bubble .window__chat>div>div>div.botConfidenceAnswerDiv>div.window__chatAgent+div.window__chatAgent,.window--mobile.window--ipad.withSideWin .window--bubble .window__chat>div>div>div.botConfidenceAnswerDiv>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window--mobile.window--ipad.withSideWin .window--bubble .window__chat>div>div>div.botConfidenceAnswerDiv>div+div{margin-top:16px}.article-title,.kbsearch-icon,.window--mobile .chat-input__toolbox button:hover{background:0 0}.window--mobile .window__chatVisitorMessage{border-color:#f5f5f5}.window--mobile .chat-input__toolbox{position:relative;width:100%;padding:25px 20px 25px 40px;-ms-flex-pack:start;justify-content:flex-start;top:unset;right:unset}.window--mobile .chat-input__toolbox button{width:45px;height:45px;border-radius:100%;border:1px solid #787878;margin-right:33px}.window--mobile .chat-input__toolbox button:hover svg{fill:#787878}.window--mobile .chat-input__toolbox svg{width:20px;height:20px;fill:#787878}.window--mobile .whole-window:not(.window--classic) .window__header{background-color:transparent;box-shadow:none}.window--mobile .whole-window:not(.window--classic) .window__header .header__agentName{color:#333}.window--classic:not(.window--embedded) .window__header,.window--mobile:not(.window--ipad) .window__header{border-radius:0}html:not(.global-showFocus) button::-moz-focus-inner{border:0}.window--mobile ::-webkit-scrollbar{display:none}.window--mobile .chat-input__toolbox button.bubble-close{width:30px;height:30px;margin-right:0;border:none}.window--mobile .chat-input__toolbox .bubble-close svg{width:10px;height:10px}.window__kb_formContainer{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-left:25px;margin-right:25px;margin-top:30px}.kbsearch__container{display:-ms-flexbox;display:flex;margin-bottom:64px;height:100%;-ms-flex-pack:center;justify-content:center}.window--bubble .kbsearch__container,.window--mobile .window--bubble .kbsearch__container{margin-bottom:0;padding-bottom:98px}.window--embedded.window--bubble .kbsearch__container{border-radius:5px}.window--embedded.window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{border-radius:0 0 5px 5px}.window--mobile .window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer,.window--mobile .window--bubble .kbsearch__container{border-radius:0}.window--bubble .kbsearch-window__chatWithAgent .chatError__container{top:10px}.greeting-message__kb{margin-bottom:10px}.kbsearch-input__container{padding-bottom:25px;position:relative}.kbsearch-input__container .field__requiredMsg{font-size:12px;color:#d31219;margin-top:4px}.kbsearch-input__container .field__requiredMsg svg{fill:#d31219;overflow:visible;width:12px;height:12px;margin-right:7px}.visually-hidden{position:absolute;left:-10000px}.kbsearch-input{width:100%;height:35px;padding:7.5px 30px 7.5px 17px}.kbsearch-input::-ms-clear{display:none}input::-webkit-search-cancel-button{display:none}.kbsearch-icon{display:inline-block;position:absolute;right:8px;top:0;cursor:pointer;width:30px;height:35px;border:none}.window--rtl .kbsearch-icon{left:10px;right:auto}.kbsearch-icon i{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);font-size:14px}.kbsearch-window__chatWithAgent{position:absolute;bottom:35px;left:0;right:0}.kbsearch-window__chatWithAgent .buttonProgressContainer{padding:0 45px}.window--bubble .kbsearch-window__chatWithAgent{bottom:35px;right:unset;width:calc(100% - 54px);margin:0 27px}.window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{padding:30px 19px 35px}.window--bubble .kbsearch--noFooter .kbsearch-window__chatWithAgent{bottom:0}.window--mobile .window--bubble .kbsearch-window__chatWithAgent{bottom:0;width:100%;margin:0}.window--mobile .window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{padding:30px 45px 35px}.window--mobile .window--bubble .kbsearch-window__chatWithAgent.kbsearch-window__chatWithAgent-mobile-bubble .buttonProgressContainer{padding-top:20px;padding-bottom:45px}.window--mobile.withSideWin .window--bubble .kbsearch-window__chatWithAgent.kbsearch-window__chatWithAgent-mobile-bubble .buttonProgressContainer{padding-bottom:30px}.window--ie .window--bubble.window--ie9 .kbsearch-window__chatWithAgent{bottom:20px}.window--ie .window--embeddend.window--bubble.window--ie9 .kbsearch-window__chatWithAgent{bottom:50px}.mobileSidewindow.kbsearch-mobile .kbsearch-window__chatWithAgent{bottom:55px}.kbsearch-window__form{position:relative}.window__form.kbsearch-window__form{padding-top:20px;padding-bottom:0;height:100%}.window__formContainer--bubble .kbsearch-window__form{height:auto}.article-list-container{position:relative}.kbsearch-window__form>div.article-list-container .article-list .article-item:last-child,.kbsearch-window__form>div.article-list-container .article-list .article-item:last-child .article-summary{margin-bottom:0}.article-item{margin-bottom:15px}.article-title{font-size:.93333333rem;color:#323dbf;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;-webkit-text-size-adjust:100%;display:block;border:none;text-align:left;width:100%}.window--rtl .article-title{text-align:right}.article-title>span{border-bottom:1px solid transparent;display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis}.article-title:active,.article-title:focus,.article-title:hover{border:none!important}.article-title:hover>span{border-bottom-color:#2b72ef}.article-summary{margin-bottom:25px;font-size:12px;line-height:1.67;color:#666;max-height:40px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-text-size-adjust:100%}.kb-highlight{color:#ed1c24}.window--bubble .window__form .icon-bubble-line__div{bottom:-1px;overflow:hidden;height:16px;position:absolute;width:10px;left:-10px}.window--bubble .window__form .icon-bubble-line__div .icon-bubble-line{left:0;bottom:0}.window--circle.window--ie10 .kbsearch__container,.window--classic.window--ie10 .kbsearch__container{max-height:calc(100% - 220px)}.window--mobile .window--bubble .kbsearch-window__chatWithAgent.kbsearch-window__chatWithAgent-mobile-bubble{bottom:45px}.window--mobile .kbsearch__container{overflow-y:hidden;margin-bottom:0;padding-bottom:95px}.kbsearch__container{-ms-flex:1;flex:1;overflow-y:hidden}.kbsearch-window__form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.article-list-container{-ms-flex:1;flex:1;overflow-y:auto}.window--ie .window--bubble:not(.window--mobile) .article-list-container{-ms-flex:auto;flex:auto}.window--mobile.withSideWin .kbsearch__container{margin-bottom:0;padding-bottom:125px}.window--mobile.withSideWin .kbsearch-window__chatWithAgent{bottom:75px}.DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;user-select:none;padding-bottom:1rem;-ms-flex-direction:row;flex-direction:row}.DayPicker-Month,.calendar-container{-webkit-user-select:none;-ms-user-select:none}.DayPicker-Months{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:center;justify-content:center}.window--bubble .DayPicker-Months,.window--circle .DayPicker-Months{color:#666}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;user-select:none;margin:1rem .5rem 0}.DayPicker-NavButton{position:absolute;cursor:pointer;top:1rem;right:1.5rem;margin-top:2px;color:#8b9898;width:1.25rem;height:1.25rem;display:inline-block;background-size:50%;background-repeat:no-repeat;background-position:center}.DayPicker-NavButton--interactionDisabled,.window--minimized .window--bubble{display:none}.DayPicker-NavButton:hover{opacity:.8}.DayPicker-NavButton--prev{margin-right:1.5rem;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC)}.DayPicker-NavButton--next{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg==)}.DayPicker-Caption{padding:0 .5rem;display:table-caption;text-align:left;margin-bottom:.5rem}.DayPicker-Caption>div{font-size:1.15rem;font-weight:500}.DayPicker-Weekdays{margin-top:1rem;display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:.5rem;font-size:.875em;text-align:center;color:#8b9898}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day,.DayPicker-WeekNumber{display:table-cell;padding:.5rem;cursor:pointer;vertical-align:middle}.DayPicker-Day{text-align:center;outline:0}.DayPicker-WeekNumber{text-align:right;min-width:1rem;font-size:.75em;color:#8b9898;border-right:1px solid #eaecec}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:.5rem}.DayPicker-TodayButton{border:none;background-image:none;background-color:transparent;box-shadow:none;cursor:pointer;color:#4a90e2;font-size:.875em}.DayPicker-Day--today{color:#d0021b;font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#dce0e0;cursor:default}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){position:relative;color:#666;background-color:#000001;border-radius:100%}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002}.window--circle .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#000001;color:#000004}.window--circle .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002;color:#000004}.window--bubble .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#000001;color:#000004}.window--bubble .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002;color:#000004}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover{background-color:#f0f8ff;border-radius:50%}.DayPickerInput{position:relative}.DayPickerInput .input[readOnly]{border:1px solid #ddd}.DayPickerInput .form__input[disabled]{color:#888}.DayPickerInput-OverlayWrapper{position:absolute;z-index:99;top:-265px;left:0;width:225px}.DayPickerInput-Overlay{background:#fff;box-shadow:0 2px 5px rgba(0,0,0,.15)}.calendar-container .date-picker-span.date-picker-span__selected,.calendar-container .date-view-span.date-view-span__selected,.minimize-bar{background-color:#000001}.minimize-bar{cursor:pointer;border:1px solid #000001;width:300px;height:30px;border-radius:5px 5px 0 0;padding:0 15px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-line-pack:center;align-content:center}.minimize-bar:focus{border:1px solid #000004}.minimize-bar .minimize-bar__message{font-size:14px;line-height:30px;color:#000004;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;text-align:left;vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.minimize-bar svg{width:16px;height:30px;fill:#000004;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.minimize-bar.window--circular{border-radius:20px 20px 0 0}@media (forced-colors:active){.minimize-bar{border:1px solid transparent}}.date-picker-container{background-color:#fff;color:#484848;font-family:'Open Sans',sans-serif;font-size:14px;position:relative;width:100%;height:33px}.date-picker-container>.date-picker-input{display:inline-block;cursor:pointer;height:33px;line-height:33px;width:100%;min-width:80px;padding:0 14px;border:1px solid #dbdbdb;border-radius:4px;position:relative}.date-picker-container>.date-picker-input>svg{color:#333;opacity:.5;font-size:16px;width:16px;height:16px;position:absolute;top:8px;right:12px}.date-picker-container>.date-picker-input.date-picker-input__withAction{width:calc(100% - 33px);border-right:none;border-radius:4px 0 0 4px}.date-picker-container>.date-picker-input:focus{border-color:#000001}.date-picker-container .svg{color:#333;opacity:.5;width:auto;height:auto}.date-picker-container button .svg{width:16px;height:16px}.calendar-container{width:100%;user-select:none;max-width:325px;min-width:315px;border:1px solid #f4f4f4;border-radius:6px;padding-bottom:16px;box-shadow:0 1px 3px rgba(63,63,68,.15)}.calendar-container:focus{outline:0}.calendar-container .date-picker-header{width:100%;text-align:left}.calendar-container .date-picker-icon{width:22px;height:22px;position:absolute;cursor:pointer;bottom:3px;margin:auto;right:10px}.calendar-container .date-picker-label{font-size:15px;color:#000}.calendar-container .date-picker-span{font-size:14px;text-align:center;color:#222;width:40px;height:40px;margin:15px;display:inline-block;line-height:40px;cursor:pointer;overflow:auto}.calendar-container .date-picker-wrapper{width:100%;max-width:280px;text-align:center;box-sizing:border-box;margin:0 auto}.calendar-container .calendar-heading{width:100%;height:40px;max-width:325px;max-height:40px;margin-top:8px;position:relative;border-radius:6px}.calendar-container .date-editor-wrapper{min-width:170px;text-align:center;height:40px;line-height:40px}.calendar-container .date-editor-span{display:inline-block;color:#7e7e7e;font-size:1.125em;font-family:'SourceSans Pro';text-align:center;font-weight:600;cursor:pointer;height:40px;margin-right:10px;line-height:40px;overflow:auto}.calendar-container .date-editor-selected-span{color:#000001}.calendar-container .date-view-body{width:100%;text-align:left;height:40px}.calendar-container .date-view-span{border-radius:50%;font-size:14px;text-align:center;color:#222;display:inline-block;cursor:pointer;width:40px;height:40px;line-height:40px;margin:0;overflow:auto}.calendar-container .date-view-head-span{font-size:14px;text-align:center;color:#222;display:inline-block;cursor:pointer;width:40px;height:30px;line-height:30px;margin:0;font-weight:600;opacity:.4;overflow:auto}.calendar-container .date-view-today{display:block;width:100%;height:40px;line-height:40px}.calendar-container .month-view-wrapper{margin-top:18px}.calendar-container .month-view-span{border-radius:5px;margin:0;width:90px;height:50px;line-height:50px}.calendar-container .year-view-wrapper{margin-top:18px}.calendar-container .year-view-span{border-radius:5px;margin:0;width:66px;height:50px;line-height:50px}.calendar-container .date-picker-arrow{cursor:pointer;color:#333;border-radius:50%;width:22px;height:22px;display:inline-block;position:absolute;top:0;bottom:0;margin-top:10px;font-weight:700;opacity:.5}.calendar-container .single-arrow-left{left:50px}.calendar-container .single-arrow-right{right:50px}.calendar-container .double-arrow-left{left:16px}.calendar-container .double-arrow-right{right:16px}.scroll-column-stack{position:relative;width:100%;height:100%}.scroll-column-stack button{background:0 0;border:none;font-size:16px;width:100%;padding:0 5px;text-align:center;cursor:pointer}.scroll-column-stack button.disabled{opacity:.5}.scroll-column-stack>input{position:absolute;left:1px;top:calc(38%);width:calc(97%);height:24px;line-height:24px;margin:0;border:none;text-align:center;font-size:20px;padding:0}.scroll-column{position:relative;width:100%;height:150px}.scroll-clip{overflow:hidden;width:100%;height:100%}.scroll-clip>ul{position:relative;list-style:none;margin:0;padding:0}.scroll-column li{width:100%;height:30px;line-height:30px;margin:0;padding:0;text-align:center;cursor:pointer}.selected-region{position:absolute;width:100%;height:30px;left:0;top:60px;z-index:-1}.selected-region-bottom,.selected-region-top{position:absolute;width:calc(100%);height:60px}.selected-region-top{top:0}.selected-region-bottom{top:90px}.scroll-handle{position:absolute;width:100%;height:100%;left:0;top:0;background:0 0;cursor:pointer}.time-selector{border:1px solid #dbdbdb;border-radius:4px;font-size:14px;height:33px;position:relative;width:100%}.time-selector.time-selector-dark{background-color:#484e58;color:#fff}.time-selector-dark>svg path{fill:#fff}.time-selector-dark .time-range-panel{background-color:#484e58}.time-selector-dark .panel-arrow>path:first-child{fill:#484e58}.time-selector-dark .panel-arrow>path:last-child{stroke:#f58520;fill:none}.time-selector-dark .scroll-column-stack button{color:#fff}.time-selector-dark .scroll-column-stack>input{background-color:#f58520;box-shadow:0 0 3px inset rgba(0,0,0,.5);color:#fff}.time-selector-dark .selected-region{background-color:rgba(234,133,32,.9);box-shadow:0 0 6px rgba(0,0,0,.5)}.time-selector-dark .selected-region-top{border-bottom:2px solid #e4e7e7;background:linear-gradient(#484e58 10%,rgba(72,78,88,.2) 95%,transparent 100%)}.time-selector-dark .selected-region-bottom{border-top:2px solid #e4e7e7;background:linear-gradient(transparent 0,rgba(72,78,88,.2) 5%,#484e58 100%)}.time-selector.time-selector-light{background-color:#fff;color:#484848}.time-selector-light>svg path{fill:#484848}.time-selector-light.time-range-panel{background-color:#fff;box-shadow:0 1px 3px rgba(63,63,68,.15);border-radius:4px}.time-selector-light .panel-arrow>path:first-child{fill:#fff}.time-selector-light .panel-arrow>path:last-child{stroke:#dbdbdb;fill:none}.time-selector-light .scroll-column-stack button{color:#484848}.time-selector-light .scroll-column-stack>input{background-color:#00a699;box-shadow:0 0 3px inset rgba(255,255,255,.5);color:#333}.time-selector-light .scroll-selected-value{margin:1px 0 -1px;color:#333;font-weight:700}.time-selector-light .scroll-transparent-value{color:#a8a8a8}.time-selector-light .selected-region{box-shadow:0 0 6px rgba(255,255,255,.5);color:#fff}.time-selector-light .selected-region-top{border-bottom:1px solid #b9b9b9}.time-selector-light .selected-region-bottom{border-top:1px solid #b9b9b9}.time-selector>span{display:inline-block;cursor:pointer;height:33px;line-height:33px;width:100%;min-width:80px;padding:0 14px}.time-selector>span>svg{color:#333;opacity:.5;font-size:16px;width:16px;height:16px;position:absolute;top:8px;right:38px}.time-selector>.taskbot_submit_btn_container{top:-1px}.time-range-panel{padding:8px 12px;z-index:10}.time-range-panel>.panel-arrow{position:absolute;top:-10px;width:20px;height:20px}.time-range-panel>.arrow-left{left:22px}.time-range-panel>.arrow-right{left:122px}.time-range-panel .time-columns{display:-ms-grid;display:grid;-ms-grid-columns:(1fr) [3];grid-template-columns:repeat(3,1fr)}.time-range-panel .time_confirm{height:32px;line-height:32px;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;padding-right:8px;cursor:pointer}.time-range-panel .time_confirm .time_tick{width:32px;height:32px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.time-range-panel .time_confirm .time_tick svg{width:16px;fill:#000001}.fc_input_ref{animation-duration:.6s;animation-timing-function:ease-in;animation-delay:.75s;animation-fill-mode:forwards}.fc_input_container{border-radius:5px;min-height:33px;position:relative;background-color:#fff}.fc_input{border-radius:5px 0 0 5px;height:33px;padding:7px 14px 6px;border:1px solid #d5d5d5;width:calc(100% - 33px);border-right:none}.fc_input_container_error .fc_input{border-color:#ed1c24!important}.fc_select_container{position:relative}.fc_select_input_container{position:relative;height:100%;border:1px solid #d5d5d5;border-radius:5px;box-sizing:border-box}.fc_select_input_container .fc_select_input_single{padding:7px 30px 6px 14px;width:100%;height:31px;line-height:18px;overflow:hidden;white-space:nowrap;cursor:pointer;text-overflow:ellipsis}.fc_select_input_container .fc_select_input_multiple{min-height:31px;padding:0 30px 4px 10px;max-height:85px;overflow-y:scroll;margin-right:1px}.fc_select_input_container .fc_select_input_multiple::-webkit-scrollbar-thumb{background:rgba(51,51,51,.2)}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item{background:#efefef;border-radius:17px;height:23px;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;margin:4px 4px 0}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item span{font-size:12px;line-height:23px;color:#263238;margin:0 10px 0 16px;cursor:default;max-width:83px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item .delete_icon{width:18px;height:18px;fill:#c4c4c4;border-radius:50%;margin-right:3px}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item .delete_icon:hover{fill:#6c6c6c}.fc_select_input_container .arrow_container{position:absolute;right:0;top:0;margin-right:12px;height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.fc_select_input_container .arrow{width:10px;height:10px;fill:#989898}.fc_select_input_container .arrow.arrow_down{-ms-transform:rotate(180deg);transform:rotateZ(180deg)}.fc_select_input_container:focus{border-color:#000001}.fc_select_input_container--error{border-color:#d34747}.fc_select_option_container{min-height:8px}.fc_select_option_list{box-shadow:0 1px 3px rgba(63,63,68,.35);margin-top:.5px;width:100%;padding:0;background:#fff;border-radius:5px;overflow-y:scroll;overflow-x:hidden;z-index:0;max-height:264px;animation-duration:.4s;animation-timing-function:ease-in-out;animation-delay:0s;animation-fill-mode:forwards}.fc_select_option_list::-webkit-scrollbar-thumb{background:rgba(51,51,51,.2)}.fc_select_option_list .fc_select_option_item{padding:0 16px;color:#747474;background:#fff;cursor:pointer;height:32px;line-height:32px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.fc_select_option_list .fc_select_option_item:hover{color:#263236;background-color:rgba(0,0,0,.06)}.fc_select_option_list .fc_select_option_item.selected{color:#000;background-color:#efefef}.highContrast .bubble,.highContrast .chatbot_quick_reply_container_buttons .window_quick_reply_container_box .window_quick_reply_buttons_item,.highContrast .fc_multiple_select_item,.highContrast .fc_select_option_list,.highContrast .prechatForm__social .prechatForm__socialBtn,.highContrast .taskbot-popper,.highContrast .taskbot_multiple_select_item,.highContrast .taskbot_select_multiple .taskbot_select_multiple_item,.highContrast .taskbot_select_option_list,.highContrast .taskbot_submit_btn_container,.highContrast .taskbot_tool_tip_container,.highContrast .time-range-panel,.highContrast .whole-window,.highContrast .window__chatAgentMessage,.highContrast .window__chatVisitorMessage,.highContrast .window_buttons_container .window_buttons_item button,.highContrast .window_quick_reply_buttons .window_quick_reply_buttons_item{border:1px solid}.highContrast .window__headerBox{border-bottom:1px solid}.highContrast .webView_background .webView__title{border-top:1px solid;border-bottom:none}.highContrast .window__chat .dot__element{background-color:CanvasText}.highContrast .calendar-container .date-picker-arrow svg,.highContrast .time-range-panel .time_confirm .time_tick svg,.highContrast .window__operation button>svg{fill:CanvasText!important}.highContrast .fc_select_option_list .fc_select_option_item.selected,.highContrast .taskbot_select_option_list .taskbot_select_option_item.active,.highContrast .taskbot_select_option_list .taskbot_select_option_item.selected{color:Highlight}.highContrast .chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.highContrast .date-picker-container>.date-picker-input:focus,.highContrast .fc_select_input_container:focus,.highContrast .taskbot_select_input_container:focus{border:1px solid Highlight}.highContrast .chat-message-time{opacity:.8}.highContrast .calendar-container [aria-selected=true]{color:Highlight!important}.highContrast .container-checkbox i.selected .checkbox1{fill:Highlight}.highContrast .container-checkbox i.unselected .checkbox1,.highContrast .container-checkbox i.unselected .checkbox3,.highContrast .control input[type=radio]~.controlIndicator svg circle{fill:Canvas}.highContrast .checkbox2,.highContrast .date-picker-container>.date-picker-input>svg,.highContrast .prechatForm__social .prechatForm__socialBtn svg,.highContrast .taskbot_submit_btn_container .taskbot_send_button>div svg,.highContrast .taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_tick,.highContrast .time-selector>span>svg{fill:CanvasText}.highContrast .controlRadio .controlIndicator svg{border:1px solid CanvasText}.highContrast .control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:Highlight;stroke:Highlight}.highContrast .taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_loading circle{stroke:CanvasText}.highContrast #chat-input-control:-ms-input-placeholder{color:CanvasText}.highContrast #chat-input-control::placeholder{color:CanvasText}.highContrast .poweredby a[href] svg path,.highContrast .window__chatVisitorMessage .file__icon--cancel svg{fill:CanvasText!important}.highContrast .window__chatVisitorMessage a:hover{border-bottom:1px solid CanvasText!important}@media (forced-colors:active){.bubble,.chatbot_quick_reply_container_buttons .window_quick_reply_container_box .window_quick_reply_buttons_item,.fc_multiple_select_item,.fc_select_option_list,.prechatForm__social .prechatForm__socialBtn,.taskbot-popper,.taskbot_multiple_select_item,.taskbot_select_multiple .taskbot_select_multiple_item,.taskbot_select_option_list,.taskbot_submit_btn_container,.taskbot_tool_tip_container,.time-range-panel,.whole-window,.window__chatAgentMessage,.window__chatVisitorMessage,.window_buttons_container .window_buttons_item button,.window_quick_reply_buttons .window_quick_reply_buttons_item{border:1px solid}.window__headerBox{border-bottom:1px solid}.webView_background .webView__title{border-top:1px solid;border-bottom:none}.window__chat .dot__element{background-color:CanvasText}.calendar-container .date-picker-arrow svg,.time-range-panel .time_confirm .time_tick svg,.window__operation button>svg{fill:CanvasText!important}.calendar-container .date-picker-arrow{opacity:1}.fc_select_option_list .fc_select_option_item.selected,.taskbot_select_option_list .taskbot_select_option_item.active,.taskbot_select_option_list .taskbot_select_option_item.selected{color:Highlight}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.date-picker-container>.date-picker-input:focus,.fc_select_input_container:focus,.taskbot_select_input_container:focus{border:1px solid Highlight}.chat-message-time{opacity:.8}.calendar-container [aria-selected=true]{color:Highlight!important}.container-checkbox i.selected .checkbox1{fill:Highlight}.container-checkbox i.unselected .checkbox1,.container-checkbox i.unselected .checkbox3,.control input[type=radio]~.controlIndicator svg circle{fill:Canvas}.checkbox2,.date-picker-container>.date-picker-input>svg,.prechatForm__social .prechatForm__socialBtn svg,.taskbot_submit_btn_container .taskbot_send_button>div svg,.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_tick,.time-selector>span>svg{fill:CanvasText}.controlRadio .controlIndicator svg{border:1px solid CanvasText}.control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:Highlight;stroke:Highlight}.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_loading circle{stroke:CanvasText}#chat-input-control:-ms-input-placeholder{color:CanvasText}#chat-input-control::placeholder{color:CanvasText}.poweredby a[href] svg path,.window__chatVisitorMessage .file__icon--cancel svg{fill:CanvasText!important}.window__chatVisitorMessage a:hover{border-bottom:1px solid CanvasText!important}}@media (prefers-contrast:more){.bubble,.chatbot_quick_reply_container_buttons .window_quick_reply_container_box .window_quick_reply_buttons_item,.fc_multiple_select_item,.fc_select_option_list,.prechatForm__social .prechatForm__socialBtn,.taskbot-popper,.taskbot_multiple_select_item,.taskbot_select_multiple .taskbot_select_multiple_item,.taskbot_select_option_list,.taskbot_submit_btn_container,.taskbot_tool_tip_container,.time-range-panel,.whole-window,.window__chatAgentMessage,.window__chatVisitorMessage,.window_buttons_container .window_buttons_item button,.window_quick_reply_buttons .window_quick_reply_buttons_item{border:1px solid}.window__headerBox{border-bottom:1px solid}.webView_background .webView__title{border-top:1px solid;border-bottom:none}.window__chat .dot__element{background-color:CanvasText}.calendar-container .date-picker-arrow svg,.time-range-panel .time_confirm .time_tick svg,.window__operation button>svg{fill:CanvasText!important}.calendar-container .date-picker-arrow{opacity:1}.fc_select_option_list .fc_select_option_item.selected,.taskbot_select_option_list .taskbot_select_option_item.active,.taskbot_select_option_list .taskbot_select_option_item.selected{color:Highlight}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.date-picker-container>.date-picker-input:focus,.fc_select_input_container:focus,.taskbot_select_input_container:focus{border:1px solid Highlight}.chat-message-time{opacity:.8}.calendar-container [aria-selected=true]{color:Highlight!important}.container-checkbox i.selected .checkbox1{fill:Highlight}.container-checkbox i.unselected .checkbox1,.container-checkbox i.unselected .checkbox3,.control input[type=radio]~.controlIndicator svg circle{fill:Canvas}.checkbox2,.date-picker-container>.date-picker-input>svg,.prechatForm__social .prechatForm__socialBtn svg,.taskbot_submit_btn_container .taskbot_send_button>div svg,.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_tick,.time-selector>span>svg{fill:CanvasText}.controlRadio .controlIndicator svg{border:1px solid CanvasText}.control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:Highlight;stroke:Highlight}.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_loading circle{stroke:CanvasText}#chat-input-control:-ms-input-placeholder{color:CanvasText}#chat-input-control::placeholder{color:CanvasText}.poweredby a[href] svg path,.window__chatVisitorMessage .file__icon--cancel svg{fill:CanvasText!important}.window__chatVisitorMessage a:hover{border-bottom:1px solid CanvasText!important}*{border-color:#000!important}}@media all and (-webkit-min-device-pixel-ratio:0){::-webkit-scrollbar{height:6px;width:6px}.window__chat:hover::-webkit-scrollbar-thumb,.window__form:hover::-webkit-scrollbar-thumb,.window__formContainer:hover::-webkit-scrollbar-thumb,textarea:hover::-webkit-scrollbar-thumb{background-color:#c8c8c8}.window__chat{width:calc(100% - 2px);padding:18px 25px 0 27px;margin-bottom:0}.window__form{width:calc(100% - 2px);padding-right:43px}.window__form.window__ssologin{padding-right:45px}.window--bubble .window__form.window__ssologin{padding-right:19px}.kbsearch-window__chatWithAgent .buttonProgressContainer{padding-right:43px}.window__formContainer--bubble{padding-right:25px;margin-right:2px}.window__formContainer--bubble .window__form{width:100%}.window--mobile .window--bubble .kbsearch-window__chatWithAgent{width:calc(100% - 2px)}.window--mobile .window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{padding:30px 43px 35px 45px}.window--mobile .window--bubble .window__form{padding-left:45px;padding-right:43px}.window--mobile .window--bubble .window__form.kbsearch-window__form{padding-left:20px;padding-right:18px}::-webkit-scrollbar-button{height:4px;background-color:transparent;background-repeat:no-repeat;cursor:pointer}::-webkit-scrollbar-corner{background-color:#fff}::-webkit-scrollbar-thumb{border-radius:4px;background-color:transparent}::-webkit-scrollbar-track{background-color:transparent}.window--rtl .window__form{padding-right:45px;padding-left:43px}}body,html,ol,ul{margin:0}::-webkit-input-placeholder{color:#626262}::-moz-placeholder{color:#626262}:-ms-input-placeholder{color:#626262}*,::after,::before{box-sizing:border-box}html{position:fixed;left:0;right:0;top:0;bottom:0;font-size:15px;-webkit-text-size-adjust:100%}body{font-family:'SourceSans Pro','',Arial;line-height:1.42857143;overflow:hidden}h1,h2,h3{font-weight:400;font-family:\"SourceSans Pro Bold\",Arial}div,section{outline:0}.clearfix::after{content:'';display:block;clear:both}.clear{clear:both}a{color:#000001;cursor:pointer;text-decoration:none}.global-showFocus .window__operation .header__operationContainer>a:focus{outline:0!important;border-bottom-width:1px;border-bottom-style:solid;text-decoration:none}a[href]:active,a[href]:focus,a[href]:hover{border-bottom:1px solid #000007;text-decoration:none}input,textarea{font-family:inherit}ol,ul{list-style-type:none;padding:0}b,strong{font-family:\"SourceSans Pro Bold\",Arial}textarea{resize:none}.animated{animation-duration:1s;animation-fill-mode:both}.animated.hinge{animation-duration:2s}.animated-delayFrames7{animation-delay:292ms}.animated-delayFrames10{animation-delay:417ms}.animated-delayFrames13{animation-delay:542ms}.transform-origin-00{-ms-transform-origin:0 0;transform-origin:0 0}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}.fadeInDown{animation-name:fadeInDown}.fadeInUp,.fadeInUp--window__form{animation-name:fadeInUp}@keyframes main-container--fadeOut{0%{opacity:1;transform:translateY(0)}99%{opacity:0;transform:translateY(0)}100%{opacity:0;transform:translateY(620px)}}@keyframes main-container--fadeIn{0%{opacity:0;transform:translateY(0)}100%{opacity:1;transform:translateY(0)}}@keyframes fadeInUp{0%{opacity:0;transform:translate3d(0,50%,0)}to{opacity:1;transform:none}}.fadeInUp--window__form{animation-duration:292ms;animation-fill-mode:both;animation-delay:625ms}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}.fadeOutUp{animation-name:fadeOutUp}@keyframes at-ripple{0%{box-shadow:0 0 0 0 #dadada}100%{box-shadow:0 0 0 25px rgba(218,218,218,0)}}.at-ripple{animation-name:at-ripple}@keyframes yAxisWindow{100%{opacity:1}}@keyframes window--opening{0%{opacity:0;transform:translateY(100%)}99.999999%{opacity:1;transform:translateY(0)}100%{opacity:1;transform:none}}@keyframes window--adaptive--opening{0%{opacity:.666667;transform:scale(.666667)}99.999999%{opacity:1;transform:scale(1)}100%{opacity:1;transform:none}}@keyframes window--minimizing{0%{transform:translateY(0);opacity:1}100%{transform:translateY(100%);opacity:0}}@keyframes window--adaptive--minimizing{0%{transform:scale(1);opacity:1}100%{transform:scale(.666667);opacity:0}}.animation--chatting.window--animated .header{transition:height 416ms cubic-bezier(.785,.135,.15,.86) .4s}.animation--chatting .prechatHeader,.animation--waiting .prechatHeader{opacity:0;-ms-transform:translateY(-140px);transform:translateY(-140px);transition:all 416ms cubic-bezier(.785,.135,.15,.86) 1.792s}@keyframes animation-translateY-Up{0%{transform:translateY(0);overflow:hidden}100%{transform:translateY(-100%)}}.animation-translateY-Up{animation-duration:458ms;animation-fill-mode:both;animation-timing-function:cubic-bezier(.785,.135,.15,.86);animation-name:animation-translateY-Up;animation-delay:1.209s}.whole-window{position:absolute;z-index:10;width:100%;height:100%;box-shadow:0 5px 7.5px 0 rgba(0,0,0,.15);animation:window--opening .3s linear none;border-radius:5px}.window--chrome .whole-window{box-shadow:0 5px 15px 0 rgba(0,0,0,.15)}.window--chrome .whole-window.window--bubble,.window--chrome .whole-window.window--bubble:not(.window--embedded){box-shadow:none}.window--chrome .whole-window:not(.window--embedded){box-shadow:2.5px 0 5px 0 rgba(0,0,0,.15)}.window--chrome .whole-window:not(.window--embedded).window--bubble{box-shadow:none}.whole-window:not(.window--embedded){box-shadow:2.5px 0 2.5px 0 rgba(0,0,0,.15)}.whole-window:not(.window--embedded).window--bubble,.window--bubble{box-shadow:none}.whole-window.window--circular{border-radius:20px}.whole-window.window--adaptive{-ms-transform-origin:bottom right;transform-origin:bottom right;animation:window--adaptive--opening .2s linear none}.window--ie .whole-window,.window--ie .whole-window.window--adaptive{animation:none}.window--minimized .whole-window{animation:window--minimizing .3s linear forwards}.window--minimized .whole-window.window--adaptive{-ms-transform-origin:bottom right;transform-origin:bottom right;animation:window--adaptive--minimizing .2s linear forwards}.window--ie .window--minimized .whole-window,.window--ie .window--minimized .whole-window.window--adaptive{animation:none}.window--bubble.whole-window .main-container{position:relative;min-height:200px}.window--bubble,.window--ipad .window--embedded .bubble-box.bubble-box--minimize{position:absolute}.window--embedded,.window--embedded .bubble-box{right:7.5px;bottom:12.5px;width:calc(100% - 15px);height:calc(100% - 15px)}.window--circle--sidewindow,.window--classic--sidewindow{box-shadow:0 5px 7.5px 0 rgba(0,0,0,.15)}.window--chrome .window--circle--sidewindow,.window--chrome .window--classic--sidewindow{box-shadow:0 5px 15px 0 rgba(0,0,0,.15)}.window--embedded.window--circle--sidewindow,.window--embedded.window--circle--sidewindow .bubble-box,.window--embedded.window--classic--sidewindow,.window--embedded.window--classic--sidewindow .bubble-box{width:calc(100% - 15px)}.window--ipad .window--embedded,.window--ipad .window--embedded .bubble-box{right:7.5px;width:calc(100% - 15px)}.window--ipad .window--bubble.window--embedded,.window--ipad .window--bubble.window--embedded .bubble-box{bottom:0;height:100%}.window--bubble.window--embedded,.window--bubble.window--embedded .bubble-box{height:100%;width:100%;right:0;bottom:0}.window--bubble{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:end;justify-content:flex-end}.main-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%;background-repeat:no-repeat;background-position:center bottom;background-size:cover}.loading-circle{fill:#a3a3a3}.main-container,.main-container .bubble-box{border-radius:5px}.window--circular .main-container,.window--circular .main-container .bubble-box{border-radius:20px}.window--mobile:not(.window--ipad) .main-container,.window--mobile:not(.window--ipad) .main-container .bubble-box{border-radius:0}.window--embedded.window--circle,.window--embedded.window--circle .bubble-box{height:calc(100% - 15px);top:2.5px}.window--embedded.window--bio.window--circle,.window--embedded.window--bio.window--circle .bubble-box{height:calc(100% - 45px);top:unset}.window--embedded.window--circle.window-noavator,.window--embedded.window--circle.window-noavator .bubble-box{height:calc(100% - 7.5px)}.window--bio.window--circle{height:calc(100% - 32.5px);top:32.5px}.window--bio.window--circle .bubble-box,.window--circle.window-noavator,.window--circle.window-noavator .bubble-box{top:0;height:100%}.window--circle.window--embedded.window-noavator,.window--circle.window--embedded.window-noavator .bubble-box{top:unset}.window--bubble{background:0 0}.window--bubble:not(.window--embedded){padding-left:0;padding-right:0}.window--rtl .container-checkbox,.window--rtl .control{padding-left:0;padding-right:26px}.window--bubble .main-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;background:0 0;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-negative:0;flex-shrink:0;position:static;bottom:0;height:auto}.window--bubble.window--rtl .window__chatSystemMessageContent,.window--rtl .bubble,.window--rtl .knowlegedbase__content,.window--rtl .window__chatAgentMessage,.window--rtl .window__chatInputControl,.window--rtl .window__chatSystemMessage,.window--rtl .window__chatVisitorMessage,.window--rtl .window__form,.window--rtl .window__formContainer,.window--rtl .window__formGreeting,.window--rtl .window_chatError{direction:rtl}.window--bubble.window--rtl .window__chatSystemMessage{direction:ltr}.window--rtl .rating{text-align:right}.window--rtl .rating .star:first-child{margin-right:0}.window--rtl .rating .star:last-child{margin-right:10px}.window--rtl .prechatForm__social .prechatForm__socialBtn{margin-right:0;margin-left:12px}.window--rtl .prechatForm__social .prechatForm__socialBtn:last-child{margin-left:0}.window--rtl .bubble .bubble__operation .btn:first-child,.window--rtl .form-fields--horizonal .field-name{margin-right:0;margin-left:10px}.window--rtl .invitation__message,.window--rtl .invitation__type,.window--rtl .minimize-bar__message{direction:rtl;text-align:right}.window--rtl .minimize-bar__message{padding-right:15px}.window--ie9.window--classic .header__agentInfo,.window--ie9.window--classic .header__avatar{float:left}.window--ie9.window--circle .window__form,.window--ie9.window--classic .window__form{height:calc(100% - 156px);padding-bottom:30px}.window--ie9.window--circle .window__form.window__ssologin,.window--ie9.window--classic .window__form.window__ssologin{height:auto}.window--ie9 .chat-time{margin-top:15px}.window--ie9.chat-time{padding-top:10px}.window--ie9.window--classic .header__avatar{float:left}.window--ie9 .chatInputContainer{position:absolute;bottom:23px;width:100%}.window--ie9.window--bubble .window__chat,.window--ie9.window--bubble .window_quick_reply_container_box{position:relative;bottom:75px}.window--ie9 .buttonProgressContainerSuccess .buttonProgressBtnAnimated{opacity:.65}.window--ie9 .buttonProgress__layerCircle,.window--ie9 .buttonProgress__layerLoading,.window--ie9 .buttonProgress__layerSuccess,.window--ie9 .lds-css{display:none!important}.window--ie9 .window__footer{position:absolute;bottom:0;display:inline-block}.window--ie9 .multipleText{overflow:auto}.window--ie9.window--bubble .window__chatAgent{position:relative}.window--ie9 .rating .star.animate{color:#ffd051}.window--ie9 .select-box .select{padding:5px 10px}.window--ie9 .form-fields .box-field iframe{height:30px}.window--ie9 .window__formContainer--bubble{overflow-y:auto!important}.window--ie9.window--classic .header__agent--withlogo{max-width:calc(100% - 110px)}.window--ie9.window--classic .header__logo{float:right}.window--ie9.window--classic .header__agentInfo{max-width:calc(100% - 60px)}.window--ie9.window--classic .window__header--withBio{height:136px}.window--ie9.window--classic .window__header--noBio{height:126px;background-color:#000001}.window--ie9.window--circle .window__header--noBio,.window--ie9.window--circle .window__header--withBio,.window--ie9.window--circle .window__headerBox{height:136px}.window--ie9.window--classic .window__chat--withBio{max-height:calc(100% - 236px)}.window--ie9.window--classic .window__chat--withBio.window__chat--withQuickReply{height:calc(100% - 286px)}.window--ie9.window--classic .window__chat--noBio{height:calc(100% - 195px)}.window--ie9.window--classic .window__chat--noBio.window__chat--withQuickReply{height:calc(100% - 245px)}.window--ie9.window--circle .window__chat--withBio{max-height:calc(100% - 205px)}.window--ie9.window--circle .window__chat--withBio.window__chat--withQuickReply{height:calc(100% - 255px)}.window--ie9.window--circle .window__chat--noBio{height:calc(100% - 205px)}.window--ie9.window--circle .window__chat--noBio.window__chat--withQuickReply{height:calc(100% - 255px)}.window--ie9.window--bubble .main-container{overflow:auto;overflow-x:hidden}.window--ie9 .window__chatInputControl{padding:0 10px 0 25px}.window--ie9 .chat-input__toolbox{position:absolute;right:20px;bottom:10px}.window--ie9 .main-container{display:block}.window--ie9 .window--bubble.whole-window .main-container{position:fixed}.window--ie9 .window__kb_formContainer{margin-right:0;margin-left:0}.window--ie9 .agentMessage__avatar,.window--ie9 .window__chatAgentMessage{float:left}.window--ie9 .window--bubble .window__operation-menu{max-width:160px}.window--ie9 .window__operation-menu li button>div.menu__text-container{max-width:85px}.window--ie9 .window__operation-menu,.window--ie9 .window__operation-menu-icon{width:150px}.window--ie .window--embedded.window--circle .window__header--hasAvatar+.window__title .bubble-box{top:32.5px}#container~div>:last-child{max-height:580px;overflow-y:auto!important}#container~div>:last-child::-webkit-scrollbar-thumb{background-color:#c8c8c8}.btnScrollToBottom{position:sticky;z-index:9;bottom:10px;float:right;margin-right:-14px;background-color:#fff;border:none;outline:0;border-radius:36px;box-shadow:0 2px 2px rgba(0,0,0,.12);padding:10px;height:30px;line-height:1;color:#00000a;cursor:pointer}.btnScrollToBottom>svg{fill:#00000a;width:1em;height:1em;font-size:10px;position:relative;top:1px}.btnScrollToBottomWithBadge{background-color:#00000a;color:#00000e}.btnScrollToBottomWithBadge>svg{fill:#00000e}",le="desktop",ue="mobile",pe="ipad",he="systemEndChat",fe="systemPromoteOfflineMesage",ge="visitorNotRespond",we="visitorNotRespondAndEndChat",me="systemStartChatbot",be="visitorAddTextMessage",ve="visitorRequestChat",_e="visitorSendFile",xe="visitorSendImage",ye="visitorSendPassword",Ce="visitorSubmitSecureForm",ke="visitorCancelSecureForm",Se="visitorCreditCardMasked",Ie="visitorGetSecureFormFailure",Me="visitorTyping",Oe="agentSendText",Ae="agentAddInvitationText",Be="agentAcceptChat",Te="agentRefuseChat",je="agentEndChat",Ne="agentJoinChat",Pe="agentTransferChat",De="agentSendUrl",We="agentTyping",Fe="agentTransferChatToDepartment",Ve="agentAcceptTransfer",Ee="agentSendFile",ze="agentSendImage",Re="agentSendImageStart",Le="agentRequestSecureForm",He="agentPushPage",qe="agentVideoChatRequest",Ue="agentVideoChatCancelRequest",Ge="agentVideoChatAccept",Ke="agentVideoChatRefuse",Ye="agentVideoChatStop",Je="visitorVideoChatRequest",Qe="visitorVideoChatCancelRequest",Ze="visitorVideoChatAccept",Xe="visitorVideoChatRefuse",$e="visitorVideoChatStop",tn="systemVideoChatNoAnswer",en="systemVideoChatEnd",nn="cobrowseRequest",on="cobrowseAccept",an="cobrowseStart",rn="cobrowseRefuse",sn="cobrowseNoAnswer",cn="cobrowseEnd",dn="cobrowseNotSupport",ln="cobrowseBrowserNotSupport",un="cobrowseCancel",pn="cobrowseHttpNotSupport",hn="agentAudioChatRequest",fn="agentAudioChatCancelRequest",gn="agentAudioChatAccept",wn="agentAudioChatRefuse",mn="agentAudioChatStop",bn="visitorAudioChatRequest",vn="visitorAudioChatCancelRequest",_n="visitorAudioChatAccept",xn="visitorAudioChatRefuse",yn="visitorAudioChatStop",Cn="systemAudioChatNoAnswer",kn="systemAudioChatEnd",Sn="systemIfSupportWebrtc",In="agentPushSSO",Mn="visitorSingleLogout",On="agentRequestRatingFromVisitor",An="agentAutoSendTextVisitorNotReply",Bn="agentAutoSendTextAgentNotReply",Tn="ratingForm",jn="chatbotRequestQuestionGuid",Nn="chatbotIntentTaskComplete",Pn="chatbotHighConfidenceAnswer",Dn="chatbotPossibleAnswer",Wn="chatbotBadAnswer",Fn="chatbotJoinChat",Vn="chatbotSendGreetingMessage",En="botSignIn",zn="botForm",Rn="visitorCancelBotForm",Ln="visitorSubmitBotForm",Hn="botPrompt",qn="botRequestLocation",Un="chatbotSetAnswerIfHelpful",Gn="visitorRequestChatExceedChatQueueLimit",Kn="visitorText",Yn="visitorImage",Jn="visitorFile",Qn="systemPrompt",Zn="startChatAgain",Xn="downloadTranscript",$n="emailTranscript",ti="creditCardMasked",ei="autoInvMsg",ni="pendingVisitorIsTyping",ii="pendingVideoRequesting",oi="pendingAudioRequesting",ai="pendingAccept",ri="pendingHangup",si="pendingSubmitSecureForm",ci="pendingCancelSecureForm",di="pendingGetSecureFormFailure",li="pendingCobrowseAccept",ui="pendingCobrowseStart",pi="pendingCobrowseRefuse",hi="pendingCobrowseNotSupport",fi="pendingCobrowseBrowserNotSupport",gi="pendingCobrowseEnd",wi="pendingCobrowseHttpNotSupport",mi="systemStartTaskbot",bi="taskbotJoinChat",vi="taskbotActions",_i="taskbotRequestQuestionGuid",xi="taskbotComplete",yi="chatbotActions",Ci="agentTransferChatToAnotherSite",ki="00000001-0000-0000-0000-000000000001",Si="",Ii=1e4,Mi="00000000-0000-0000-0000-000000000000",Oi="00000001-0000-0000-0000-000000000001",Ai={batchAction:"batchAction",uploadFileAction:"uploadFileAction",getConfig:"getConfig",setCustomVariables:"setCustomVariables",newVisitor:"newVisitor",pageVisit:"pageVisit",getChatButton:"getChatButton",getIfOnline:"getIfOnline",checkIfOnline:"checkIfOnline",checkAutoInvitation:"checkAutoInvitation",confirmAutoInvitation:"confirmAutoInvitation",acceptAutoInvitation:"acceptAutoInvitation",refuseAutoInvitation:"refuseAutoInvitation",checkManualInvitation:"checkManualInvitation",refuseManualInvitation:"refuseManualInvitation",manualInvitationShowed:"manualInvitationShowed",submitSSOInfo:"submitSSOInfo",submitPrechat:"submitPrechat",socialLogin:"socialLogin",requestChat:"requestChat",requestChatFromChatbot:"requestChatFromChatbot",sendChatMessages:"sendChatMessages",getChatMessages:"getChatMessages",getChatQueue:"getChatQueue",setVisitorStatus:"setVisitorStatus",submitRating:"submitRating",emailTranscript:"emailTranscript",sendFile:"sendFile",uploadFile:"uploadFile",endChat:"endChat",submitPostChat:"submitPostChat",submitOfflineMessage:"submitOfflineMessage",chatBotAnswerHelpful:"chatBotAnswerHelpful",chatBotSelectQuestion:"chatBotSelectQuestion",prechatHeartbeat:"prechatHeartbeat",offlineMessageHeartbeat:"offlineMessageHeartbeat",enterOfflineMessage:"enterOfflineMessage",checkManuallyInvited:"checkManuallyInvited",closeWindow:"closeWindow",getDepartments:"getDepartments",getAgents:"getAgents",checkBan:"checkBan",systemProcessingHeartbeat:"systemProcessingHeartbeat",restoreChat:"restoreChat",checkBBSCode:"checkBBSCode",checkDynamicCampaign:"checkDynamicCampaign",getDynamicCampaign:"getDynamicCampaign",pageHeartbeat:"pageHeartbeat",getChatWindowConfig:"getChatWindowConfig",getCustomVariables:"getCustomVariables",visitorHandleBotForm:"visitorHandleBotForm",setBotVariable:"setBotVariable",agentMsgSeenByVisitor:"agentMsgSeenByVisitor",visitorGetLatestMsgSeen:"visitorGetLatestMsgSeen",setLocation:"setLocation",getVisitorInfo:"getVisitorInfo",recoverVisitor:"recoverVisitor",getFileUploadToken:"getFileUploadToken",getSSORecoverInfo:"getSSORecoverInfo",requestChatFromAnotherSite:"requestChatFromAnotherSite",showInvitation:"showAutoInvitation"},Bi=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return Object.assign({type:Ai.uploadFileAction,action:t,file:e},i)},Ti=function(t,e,n,i,o,a,r,s,c){return void 0===n&&(n=""),{type:Ai.newVisitor,campaignId:t,visitorId:e,visitorGuid:n||"",referrer:i,landingPage:o,timezone:a,screenResolution:r,ifSupportWebrtc:s,firstVisitTime:c.firstVisitTime||(new Date).getTime(),visitTimes:c.visitTimes||0,chatTimes:c.chatTimes||0,name:c.name||(c.form?c.form.name:""),email:c.email||(c.form?c.form.email:""),persistentVisitor:c.persistentVisitor||!1}},ji=function(t,e,n,i,o,a,r,s,c,d,l,u,p,h,f){return Object.assign({},Ti(t,void 0,e,n,s,i,o,a,r),{status:c,ifSearchingKB:d,type:Ai.recoverVisitor,navigation:l},u,{ssoInfo:p,isChattingWithTaskbot:h,taskbotId:f})},Ni=function(t,e){return{type:Ai.pageVisit,campaignId:t,page:e}},Pi=function(t,e){return{type:Ai.setCustomVariables,customVariables:t,campaignId:e}},Di=function(t){return{type:Ai.checkIfOnline,campaignId:t}},Wi=function(t){return{type:Ai.checkAutoInvitation,campaignId:t}},Fi=function(t,e){return{type:Ai.confirmAutoInvitation,campaignId:t,invitationId:e}},Vi=function(t){return{type:Ai.checkManualInvitation,campaignId:t}},Ei=function(t,e,n){return{type:e?Ai.refuseManualInvitation:Ai.refuseAutoInvitation,campaignId:t,invitationId:e?void 0:n}},zi=function(t,e){return void 0===e&&(e=!1),{type:Ai.getChatButton,campaignId:t,alreadyCampaignId:e}},Ri=function(t,e){return{type:Ai.submitSSOInfo,token:t,campaignId:e}},Li=function(t,e){return{type:Ai.submitPrechat,form:t,campaignId:e}},Hi=function(t){return{type:Ai.checkManuallyInvited,chatGuid:t}},qi=function(t,e){return{type:Ai.getFileUploadToken,chatGuid:e,fileUploadSource:t?0:1}},Ui=function(t,e){return{type:Ai.submitRating,chatGuid:t,rating:e}},Gi=function(t){return{type:Ai.socialLogin,socialType:t.source,name:t.name,email:t.email,avatar:t.avatar,profileUrl:t.profile}},Ki=function(t,e,n,i,o){return void 0===n&&(n=!1),{type:Ai.requestChat,campaignId:t,source:e,isPrechatDone:n,isSupportWebrtc:m,ticketId:i,departmentId:o}},Yi=function(t){return{type:Ai.endChat,chatGuid:t}},Ji=function(t,e){return{type:Ai.getChatMessages,chatGuid:t,fromId:e}},Qi=function(t){return{type:Ai.getChatQueue,chatGuid:t}},Zi=function(t,e){return{type:Ai.agentMsgSeenByVisitor,chatGuid:t,msgGuid:e}},Xi=function(t){return{type:Ai.visitorGetLatestMsgSeen,chatGuid:t}},$i=function(t,e){return{type:Ai.sendChatMessages,chatGuid:t,messages:e}},to=function(){return{type:Ai.getDepartments}},eo=function(){return{type:Ai.getAgents}},no=function(t){var e=t.filter((function(t){return!!t}));return 0===e.length?null:1===e.length?e[0]:{type:Ai.batchAction,actions:e}},io=function t(e,n){null!=n&&(n.type===Ai.batchAction?n.actions?n.actions.forEach((function(n){return t(e,n)})):n.payload&&n.payload.forEach((function(n){return t(e,n)})):e(n))},oo=function(t,e){var n=null;return io((function(t){t.type===e&&(n=t)}),t),n},ao=function t(e,n){if(null==n)return null;var i=e(n);if(i.type===Ai.batchAction){if(i.actions)return{type:i.type,actions:i.actions.map((function(n){return t(e,n)}))};if(i.payload)return{type:i.type,payload:i.payload.map((function(n){return t(e,n)}))}}return i},ro=function(t){var e=t.visitorGuid,n=t.visitorId;return{type:Ai.checkBan,visitorGuid:n?void 0:e,visitorId:n}},so=function(){return{type:Ai.restoreChat}},co=function(){return{type:Ai.checkDynamicCampaign}},lo=function(){return{type:Ai.getDynamicCampaign}},uo=function(){return{type:Ai.pageHeartbeat}},po=function(t){return{type:Ai.getChatWindowConfig,siteId:t}},ho=function(){return{type:Ai.getSSORecoverInfo}},fo="name",go="email",wo="phone",mo="company",bo="product",vo="department",_o="ticket",xo="rating",yo="comment",Co="subject",ko="content",So="attachment",Io="text",Mo="textArea",Oo="checkbox",Ao="checkBox",Bo="checkboxList",To="nps",jo="captcha",No="singleSelect",Po="multipleSelect",Do="date",Wo="time",Fo="password",Vo="decimal",Eo="integer",zo="videoIncoming",Ro="notStart",Lo="videoRequesting",Ho="videoChatting",qo="audioIncoming",Uo="audioChatting",Go="audioRequesting";function Ko(t,e,n,i){this.message=t,this.expected=e,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Ko)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(Ko,Error),Ko.buildMessage=function(t,e){var n={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?a(t.parts[e][0])+"-"+a(t.parts[e][1]):a(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function i(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+i(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+i(t)}))}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+i(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+i(t)}))}return"Expected "+function(t){var e,i,o,a=new Array(t.length);for(e=0;e<t.length;e++)a[e]=(o=t[e],n[o.type](o));if(a.sort(),a.length>0){for(e=1,i=1;e<a.length;e++)a[e-1]!==a[e]&&(a[i]=a[e],i++);a.length=i}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."};var Yo={SyntaxError:Ko,parse:function(t,e){e=void 0!==e?e:{};var n,i={},o={All:j},a=j,r="[",s=M("[",!1),c=/^[^[]/,d=O(["["],!0,!1),l=function(t,e){return{label:t,url:e}},u="]",p=M("]",!1),h=function(t){return t.join("")},f="(",g=M("(",!1),w=")",m=M(")",!1),b=function(t){return t.join("")},v=/^[^[\]]/,_=O(["[","]"],!0,!1),x=/^[^)]/,y=O([")"],!0,!1),C=0,k=[{line:1,column:1}],S=0,I=[];if("startRule"in e){if(!(e.startRule in o))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=o[e.startRule]}function M(t,e){return{type:"literal",text:t,ignoreCase:e}}function O(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function A(e){var n,i=k[e];if(i)return i;for(n=e-1;!k[n];)n--;for(i={line:(i=k[n]).line,column:i.column};n<e;)10===t.charCodeAt(n)?(i.line++,i.column=1):i.column++,n++;return k[e]=i,i}function B(t,e){var n=A(t),i=A(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:i.line,column:i.column}}}function T(t){C<S||(C>S&&(S=C,I=[]),I.push(t))}function j(){var e,n,o;for(e=[],(n=P())===i&&(91===t.charCodeAt(C)?(n=r,C++):(n=i,T(s)),n===i&&(n=C,n=(o=N())!==i?t.substring(n,C):o));n!==i;)e.push(n),(n=P())===i&&(91===t.charCodeAt(C)?(n=r,C++):(n=i,T(s)),n===i&&(n=C,n=(o=N())!==i?t.substring(n,C):o));return e}function N(){var e,n;if(e=[],c.test(t.charAt(C))?(n=t.charAt(C),C++):(n=i,T(d)),n!==i)for(;n!==i;)e.push(n),c.test(t.charAt(C))?(n=t.charAt(C),C++):(n=i,T(d));else e=i;return e}function P(){var e,n,o;return e=C,n=function(){var e,n,o,a,c;e=C,91===t.charCodeAt(C)?(n=r,C++):(n=i,T(s));if(n!==i){if(o=[],(a=W())===i&&(a=C,a=(c=D())!==i?t.substring(a,C):c),a!==i)for(;a!==i;)o.push(a),(a=W())===i&&(a=C,a=(c=D())!==i?t.substring(a,C):c);else o=i;o!==i?(93===t.charCodeAt(C)?(a=u,C++):(a=i,T(p)),a!==i?e=n=h(o):(C=e,e=i)):(C=e,e=i)}else C=e,e=i;return e}(),n!==i?(o=function(){var e,n,o,a;e=C,40===t.charCodeAt(C)?(n=f,C++):(n=i,T(g));if(n!==i){if(o=[],(a=F())!==i)for(;a!==i;)o.push(a),a=F();else o=i;o!==i?(41===t.charCodeAt(C)?(a=w,C++):(a=i,T(m)),a!==i?e=n=b(o):(C=e,e=i)):(C=e,e=i)}else C=e,e=i;return e}(),o!==i?e=n=l(n,o):(C=e,e=i)):(C=e,e=i),e}function D(){var e,n,o,a;if(e=C,91===t.charCodeAt(C)?(n=r,C++):(n=i,T(s)),n!==i){for(o=[],(a=W())===i&&(a=D());a!==i;)o.push(a),(a=W())===i&&(a=D());o!==i?(93===t.charCodeAt(C)?(a=u,C++):(a=i,T(p)),a!==i?e=n=[n,o,a]:(C=e,e=i)):(C=e,e=i)}else C=e,e=i;return e}function W(){var e;return v.test(t.charAt(C))?(e=t.charAt(C),C++):(e=i,T(_)),e}function F(){var e;return x.test(t.charAt(C))?(e=t.charAt(C),C++):(e=i,T(y)),e}if((n=a())!==i&&C===t.length)return n;throw n!==i&&C<t.length&&T({type:"end"}),function(t,e,n){return new Ko(Ko.buildMessage(t,e),t,e,n)}(I,S<t.length?t.charAt(S):null,S<t.length?B(S,S+1):B(S,S))}},Jo=["type","content","translated","originalMessage"],Qo=function(t,n){return t.map((function(t){var i=t.type;t.content;var o=t.translated,a=t.originalMessage,r=B(t,Jo);return!n||i!==Oe&&i!==be&&i!==We&&i!==Me&&i!==An&&i!==Bn?Object.assign({},r,{type:i,translated:o,originalMessage:a}):Object.assign({type:i},r,{translated:e.Base64.encode(o),originalMessage:e.Base64.encode(a),encoding:n})}))},Zo=function(t,e){var n="/chatwindow.aspx?siteId="+t+"&planId="+e;return O.version&&(n+="&version="+O.version),n},Xo=function(t){return t?Object.keys(t).reduce((function(e,n){try{var i=O.call(t[n]);if(void 0===i)return e;var o=e;return o[n]=null===i?i:i.toString(),o}catch(t){return e}}),{}):null},$o=function(){return(new Date).getTimezoneOffset()},ta=function(){return screen.width+"x"+screen.height},ea=/(?:www\.|(?:https?|ftp|news|rtsp|mms):\/\/)[\w$%][\w_!~*'();?:@&=+$,%#-./]*[\w_!~*'();?:@&=+$%#-]\/?/gi,na=/(?:\+ ?)?\(?\d(?:[()]?[-]?[()]?\d){4,19}/;function ia(t){for(var e=t,n=na.exec(e),i=[],o=[];n&&e;){var a=n.index,r=n[0],s=e.substr(0,a);e=e.substr(a+r.length);var c=r.match(/\(/g),d=c?c.length:0,l=r.match(/\)/g),u=d===(l?l.length:0);if(u)if(s.length>0){var p=s[s.length-1];u=/[^a-zA-Z0-9!@#$%^&*~]/.test(p)}else if(i.length>o.length){var h=i[i.length-1],f=h[h-1];u=/[^a-zA-Z0-9!@#$%^&*~]/.test(f)}else i.length>0&&(u=!1,s=o.pop()+s);if(u&&(u=!/^\d/.test(e||"")),u)i.length>o.length?i[i.length-1]+=s:i.push(s),o.push(r);else{var g=s+r;i.length>o.length?i[i.length-1]+=g:i.push(g)}n=na.exec(e)}return e?i.length===o.length?i.push(e):i[i.length-1]+=e:i.length===o.length&&i.push(""),[i,o]}function oa(t,e,n,i){var o,a;if(e instanceof RegExp)o=t.split(e),a=t.match(e);else{var r=e(t);o=r[0],a=r[1]}for(var s=new Array(2*o.length-1),c=0;c<o.length;c+=1)s[2*c]=i(o[c]),c!==o.length-1&&(s[2*c+1]=n(a[c],c,a));return s}var aa=function(t){for(var e=Yo.parse(t),n=[],i=0;i<e.length;i++){var o=e[i];"string"!=typeof o||"string"!=typeof n[n.length-1]?"string"==typeof o?n.push(o):n.push({label:o.label,url:o.url.trim()}):n[n.length-1]+=o}return n};var ra,sa=/^[A-Za-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[A-Za-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$/,ca=function(t){return sa.test(t)},da=/^\d+$/,la=function(t){return da.test(t)},ua=function(t){return t.replace(/[\s|\d]{10,}/g,(function(t){return function(t){var e="^(?:"+["3[4|7]\\d{2}\\s{0,1}\\d{6}\\s{0,1}\\d{1}","3[0|6|8|9]\\d{3}\\s{0,1}\\d{4}\\s{0,1}\\d{1}","(?:6011\\s{0,1}\\d{4}\\s{0,1}|65\\d{2}\\s{0,1}\\d{4}\\s{0,1}|622(?:(?:1\\s{0,1}2[6-9]|1\\s{0,1}[3-9]\\d|[2-8]\\d{2})\\d{2}\\s{0,1}|9\\s{0,1}2[0-5]\\d{2}\\s{0,1}|9\\s{0,1}[0-1]\\d{3}))\\d{4}\\s{0,1}","(?:2014|2149)\\s{0,1}\\d{7}\\s{0,1}","(?:(?:3088|3096|3112|3158|3337)\\s{0,1}\\d{4}\\s{0,1}|35(?:2[89]\\s{0,1}\\d{4}\\s{0,1}|[3-8]\\d\\s{0,1}\\d{4}\\s{0,1}))\\d{4}\\s{0,1}","5[1-5]\\d{2}\\s{0,1}\\d{4}\\s{0,1}\\d{4}\\s{0,1}","2(22[1-9]|2[3-9][0-9]|[3-6]\\d{2}|7[0|1][0-9]|720)\\d{8}","4\\d{8,14}","5019\\d{8}","(5[0|6-9]|6[0-9])\\d{6,13}","31\\d{13}","62|81\\d{10,13}","220[0-4]\\d{8}","9792[0-8][0-9]\\d{6}"].join("|")+")(\\d{4})(?!\\d)",n=new RegExp(e,"g");if(t.replace(/\s/g,"").match(n)){for(var i=t.length-4,o="",a=0;a<t.length;a+=1)o+="*";return o+t.substring(i)}return t}(t)}))},pa=function(t){var e=t;e.left="50%",e.top="50%",e.transform="translate(-50%, -50%)"},ha=function(t){var e=t;e.left="50%",e.transform="translateX(-50%)"},fa=function(t){var e=t;e.top="50%",e.transform="translateY(-50%)"},ga=function(t){return void 0!==t.px?t.px:t.percent+"%"},wa=function(t,e){var n=t.xoffset,i=t.yoffset,o={position:"fixed",zIndex:e};return t.type===oe&&(o.bottom=ga(i),ha(o)),"topMiddle"===t.type&&(o.top=ga(i),ha(o)),"leftMiddle"===t.type&&(o.left=ga(n),fa(o)),"rightMiddle"===t.type&&(o.right=ga(n),fa(o)),"topLeft"===t.type&&(o.left=ga(n),o.top=ga(i)),"topRight"===t.type&&(o.right=ga(n),o.top=ga(i)),"bottomLeft"===t.type&&(o.left=ga(n),o.bottom=ga(i)),t.type===ae&&(o.right=ga(n),o.bottom=ga(i)),t.type!==ie&&t.type!==re||pa(o),"leftBottom"===t.type&&(o.bottom="5%",o.left=0,o.transform="translateY(5%)"),"rightBottom"===t.type&&(o.bottom="5%",o.right=0,o.transform="translateY(5%)"),o},ma=function(t,e){if(!e)return t;var n=function(t,e,n){return t.replace(new RegExp(e,"g"),n)},i=t;i=n(i,"#000001",e);var o=C(e,.2),a=k(e,.9),r=x(e)?"#000000":"#ffffff",s=x(e)?"#323dbf":"#ffffff",c=x(e)?"rgba(60,60,60,0.6)":"rgba(255,255,255,0.6)",d=x(o)?"#3c3c3c":"#ffffff",l=x(o)?"rgba(60,60,60,0.6)":"rgba(255,255,255,0.6)",u=S(e),p=u.buttonColor,h=u.buttonTextColor,f=u.buttonIconColor,g=u.buttonHoverColor,w=I(e),m=function(t){var e=b(t),n=e[0],i=e[1],o=e[2],a=v(n,i,o),r=a[0],s=a[1],c=a[2],d=s,l=c,u=s,p=c;s>=0&&s<=.04?l=c<=.4?c:.4:s<=.6?(d=.6,l=c<=.45?c:.45):l=c<=.45?c:.45,p=l<=.2?l+.1:l-.1;var h=_(r,d,l),f=h[0],g=h[1],w=h[2],m=_(r,u,p);return{iconColor:"rgb("+f+","+g+","+w+")",iconHoverColor:"rgb("+m[0]+","+m[1]+","+m[2]+")",iconBgColor:"rgba("+f+","+g+","+w+", 0.06)"}}(e),y=m.iconColor,O=m.iconHoverColor,A=m.iconBgColor,B=M(e);return i=n(i,"#000002",o),i=n(i,"#000006",a),i=n(i,"#000003",g),i=n(i,"#000004",r),i=n(i,"#000005",d),i=n(i,"#000007",c),i=n(i,"#000008",l),i=n(i,"#000009",s),i=n(i,"#00000a",p),i=n(i,"#00000b",w),i=n(i,"#00000c",y),i=n(i,"#00000d",B),i=n(i,"#00000e",h),i=n(i,"#00000f",f),i=n(i,"#000010",O),i=n(i,"#000012",A)},ba=function(t){if(ra)return ra;var e=".mediaChatWindow.mediaChatWindow--videoIncoming,.mediaChatWindow.mediaChatWindow--videoRequesting,.mediaChatWindow.mediaChatWindow--audioChatting,.mediaChatWindow.mediaChatWindow--audioIncoming,.mediaChatWindow.mediaChatWindow--audioRequesting {background-image:url('"+t("/visitorside/images/multimedia-backgroud.png")+"');background-repeat:no-repeat;background-size:cover;}",n=[{family:"",filename:"regular"},{family:" Italic",filename:"it"},{family:" Bold",filename:"semibold"},{family:" Light",filename:"light"}].map((function(e){var n=e.family,i=e.filename;return'@font-face {font-family: "SourceSans Pro'+n+'";src: url('+t("/visitorside/fonts/sourcesanspro-"+i+".woff")+") format('woff'),url("+t("/visitorside/fonts/sourcesanspro-"+i+".ttf")+") format('truetype'),url("+t("/visitorside/fonts/sourcesanspro-"+i+".svg#SourceSans-Pro-"+i)+") format('svg')}"})).join("")+'@font-face{font-family:icons;src:url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.eot?#iefix) format("embedded-opentype"),url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.woff) format("woff"),url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.ttf) format("truetype"),url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.svg#icons) format("svg")}.icon{font-family:icons!important;font-style:normal;font-weight:400!important;display:inline-block;vertical-align:baseline;text-align:center;text-transform:none;text-rendering:auto;line-height:1;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-bot-active:before{content:"\\f101"}.icon-bot:before{content:"\\f102"}.icon-bubble-line:before{content:"\\f103"}.icon-bubble-line1:before{content:"\\f104"}.icon-bubble:before{content:"\\f105"}.icon-close:before{content:"\\f106"}.icon-coBrowsing-active:before{content:"\\f107"}.icon-coBrowsing:before{content:"\\f108"}.icon-drag:before{content:"\\f109"}.icon-embedded:before{content:"\\f10a"}.icon-facebook:before{content:"\\f10b"}.icon-googleplus:before{content:"\\f10c"}.icon-helpful:before{content:"\\f10d"}.icon-input-send:before{content:"\\f10e"}.icon-kb-active:before{content:"\\f10f"}.icon-kb-search:before{content:"\\f110"}.icon-kb:before{content:"\\f111"}.icon-kbSearch-active:before{content:"\\f112"}.icon-kbSearch:before{content:"\\f113"}.icon-media-active:before{content:"\\f114"}.icon-media:before{content:"\\f115"}.icon-minimize:before{content:"\\f116"}.icon-not-helpful:before{content:"\\f117"}.icon-plus:before{content:"\\f118"}.icon-popup:before{content:"\\f119"}.icon-rating-full:before{content:"\\f11a"}.icon-rating-half:before{content:"\\f11b"}.icon-sendfile:before{content:"\\f11c"}.icon-video:before{content:"\\f11d"}.icon-voice-active:before{content:"\\f11e"}.icon-voice:before{content:"\\f11f"}'.replace(/[{]FONT_URL_PREFIX[}]/g,t("/visitorside/fonts"))+e;return ra=n,n},va=t(1)((function(t){return x(t)?"black":"white"})),_a=function(){return/ipad/i.test(A)?pe:/mobile|android/i.test(A)?ue:le},xa=function(){var t=_a();return t===ue||t===pe},ya=function(t){var e=t;return Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].join(Si))})),e},Ca=function(t){var e=Object.assign({},t);return ya(e),"ticketId"in e&&(e.ticketId=""===e.ticketId||Number.isNaN(+e.ticketId)?void 0:e.ticketId),"department"in e&&(e.department=""!==e.department?e.department:ki),e.custom&&(e.custom=Object.assign({},e.custom),ya(e.custom)),e},ka=function(t){return n("a",{href:"tel:"+("+"===t[0]?"":"+")+t,target:"_blank",rel:"noopener noreferrer"},t)},Sa=function(t,e,i,o,a,r){return oa(t,/\r\n|\r|\n/g,(function(){return e}),(function(t){return e=function(t,e){return function(t,e,i,o,a){if(i&&o&&new RegExp("/kb/[\\d]+/(.*)/(.*)","i").test(t)&&t.match(/\/kb\/([\d]+)\/(.*)\/(.*)\/?/i)[1]===""+a){var r=t.match(/\/kb\/[\d]+\/(.*)\/(.*)\/?/i)[1];return n("a",{rel:"noopener noreferrer",href:"",onClick:function(e){e.preventDefault(),o(r,t)}},e)}var s=t;return/^https:\/\/|http:\/\/|ftp:\/\//i.test(t)||(s="http://"+t),n("a",{href:s,target:"_blank",rel:"noopener noreferrer"},e)}(t,e,i,o,a)},s=r?ka:function(t){return t},aa(t).map((function(t){return"string"==typeof t?oa(t,ea,(function(t){return e(t,t)}),(function(t){return oa(t,ia,s,(function(t){return t}))})).reduce((function(t,e){return t.concat(e)}),[]):[e(t.url,t.label)]})).reduce((function(t,e){return t.concat(e)}),[]);var e,s})).reduce((function(t,e){return t.concat(e)}),[])},Ia=[Oe,Ae,Ne,Fn,Ee,ze,De,Be,Te,ge,je,"agentPromoteToUser","agentPromoteToContact",Fe,Ve,"agentRefuseTransfer",we,qe,Ue,Ge,Ke,Ye,tn,en,hn,fn,gn,wn,mn,bn,vn,_n,xn,yn,Je,Qe,Ze,Xe,$e,Cn,kn,Le,He,Pn,En,zn,nn,on,rn,cn,sn,un,Ci,Bn,An,On,In],Ma=function(t){return Ia.indexOf(t.type)>=0},Oa=function(){return void 0===window.File},Aa=[De,He,be,Oe,Ae,ei,We,Me,ni,ze,Ee,_e,xe,Re,ve,fe,me,Wn,Pn,Vn,Dn,jn,Kn,Yn,Jn,Le,Sn,Zn,Xn,$n,En,zn,Ln,Hn,qn,Rn,he,In,An,Bn,mi,bi,vi,_i,xi,yi,Tn],Ba=function(t){return m&&(t===kn||t===en||t===Cn||t===tn||t===_n||t===vn||t===xn||t===yn||t===gn||t===fn||t===wn||t===mn||t===Ze||t===Qe||t===Xe||t===$e||t===Ge||t===Ue||t===Ke||t===Ye)},Ta=function(t){return Aa.indexOf(t.type)<0};function ja(t){return t.type===Kn||t.type===Jn||t.type===Yn||t.type===be||t.type===_e||t.type===xe||t.type===Ln||t.type===Rn}function Na(t){return t.type===Oe||t.type===Ae||t.type===ei||t.type===De||t.type===Ee||t.type===ze||t.type===Re||t.type===He||t.type===In||t.type===Bn||t.type===An}function Pa(t){return t.type===jn||t.type===Wn||t.type===Pn||t.type===Dn||t.type===En||t.type===zn||t.type===Vn||t.type===Hn||t.type===qn}var Da=[yi];function Wa(t){return Da.includes(t.type)}var Fa=function(t){var e=t.type;return e===vi||e===_i};var Va=function(t,e){return[ba(e),ma('.window__chat{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow:auto;overflow:overlay;overflow-x:hidden!important;-webkit-overflow-scrolling:touch;width:100%;padding:18px 27px 0;margin-bottom:0}.chat__greetingContainer .window__chatSystemMessage,.chat__greetingContainer .window__formGreeting{margin-bottom:0;color:#666}.chat__greetingContainer .window__chatSystemMessage a[href],.chat__greetingContainer .window__formGreeting a[href]{color:#00000a;border-bottom:1px solid #00000a!important}.window--mobile .window--bubble .chat__greetingContainer{margin-bottom:16px}.window__chat--animation{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window__chat--animation{animation:none}.window__chatSystemMessage{color:#626262;font-size:14px;text-align:center;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);word-wrap:break-word}.window--bubble .window__chat .window__chatSystemMessageContent{display:inline-block;background:#f8f8f8;line-height:1.57;padding:8px 14px;border-radius:5px;max-width:240px}.window__chatSystemMessage a,.window__chatSystemMessage a[href]{color:#00000c;border-bottom:1px solid #00000c}.window__chatSystemMessage a:hover,.window__chatSystemMessage a[href]:hover{color:#000010;border-bottom:1px solid #000010}.window__chatSystemMessage svg{fill:#00000c;position:relative;top:6px;right:3px}.window__chatSystemMessage svg:hover{fill:#000010}.window__chatAgent,.window__chatVisitor{display:-ms-flexbox;display:flex;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);position:relative}.window__chat>div>div+div>.chat-message-time,.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time{position:absolute;margin-bottom:4px;top:0;right:0}.window__chat>div{padding-bottom:16px}.window__chat>div>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div+div{margin-top:16px}.window__chat>div>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div.botConfidenceAnswerDiv>div+div{margin-top:16px}.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window--ie .window__chatAgent,.window--ie .window__chatSystemMessage,.window--ie .window__chatVisitor{animation:none}.window__chatVisitor{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.agentMessage__avatar{margin-right:15px;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-negative:0;flex-shrink:0}.agentMessage__avatarImg{display:block;width:30px;height:30px;border-radius:100%;margin-bottom:15px}.agentMessage__pci{background:#f0f0f0;border:1px solid #ddd;border-radius:4px;padding:23px 20px 12px}.agentMessage__pciField{margin-bottom:7px;color:#888}.agentMessage__pciControl{margin-bottom:12px}.agentMessage__pciControl .form__input{height:30px;line-height:30px;width:calc(100% - 20px)}.window__chatAgentMessage p{margin:0}.window--circular .window__chatAgentMessage,.window--circular .window__chatVisitorMessage{border-radius:20px}.window__chatAgentMessage,.window__chatVisitorMessage{position:relative;font-size:.93333333rem;line-height:1.57;padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5}.window__chatAgentMessage_container{max-width:640px}.window__chatAgentMessage_container .chat-message-extra-info{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:4px}.window__chatAgentMessage_container .chat-message-extra-info>.chat-message-time{margin-left:8px}.window__chatAgentMessage_container .window__chatAgentMessage{max-width:100%;display:inline-block;border-top-left-radius:0;border-bottom-left-radius:5px}.window--mobile .window__chatAgentMessage{border:1px solid #f5f5f5}.window__formMessageContainer{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.window__formMessage{padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5;width:100%;max-width:600px}.window__formMessage .window__formGreeting{text-align:left;color:#000}.window--ie .window__chatVisitorMessage{margin-left:auto}.window__chatAgentMessage{border-top-left-radius:0}.window__chatVisitorMessage{background-color:#000001;color:#000;border-top-right-radius:0;margin-left:67px;max-width:640px}@keyframes bounceOut{20%{width:5px;height:5px;border-radius:5px;opacity:1}50%,55%{width:8px;height:8px;border-radius:8px;opacity:1}to{width:2px;height:2px;border-radius:2px;opacity:0}}.dot_container{width:20px;height:20px;position:absolute;left:-20px;bottom:19px}.message--notSeen,.message--seen{display:inline-block;background:#00000c;width:6px;height:6px;border-radius:6px;position:relative;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);fill:#00000c}.message--seen{animation:bounceOut .5s linear forwards}.window--rtl .dot_container{left:-35px}.window--ie9 .message--seen{display:none}.file__icon--cancel{float:right}.file__icon--cancel svg{width:12px;height:12px;fill:#00000c}.file__icon--cancel svg:hover{fill:#000010}.window__chatMessageOrignal{display:block;opacity:.85}.window__chatMessageTranslatedTag{display:inline}.window__chatAgentMessage img{display:block}.window__chatAgentMessage .chatMessage__questionList li{color:#323dbf;line-height:1;margin-bottom:10px}.window__chatAgentMessage .chatMessage__questionList li span{margin-right:5px;display:inline-block;-ms-flex-negative:0;flex-shrink:0}.window__chatAgentMessage .chatMessage__questionList li:last-child{margin-bottom:0}.window__chatAgentMessage .chatMessage__questionList li a[href]{border-bottom-color:transparent}.window__chatAgentMessage .chatMessage__questionList li a[href]:active,.window__chatAgentMessage .chatMessage__questionList li a[href]:focus,.window__chatAgentMessage .chatMessage__questionList li a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.window__chatAgentMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatAgentMessage a[href]:active,.window__chatAgentMessage a[href]:focus,.window__chatAgentMessage a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.chat-message--img a{max-width:200px!important;max-height:200px!important;min-width:60px!important;min-height:60px!important;overflow:hidden;display:block;border-bottom:none!important}.chat-message--img .image-container{margin:0 auto;height:100%}.chat-message--img img{display:block;margin:0 auto;border:none}.window__chatVisitorMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatVisitorMessage a[href]:hover{border-bottom-color:#323dbf}.window__chatAgentMessage a,.window__chatVisitorMessage a{max-width:100%}.window__chatVisitorMessage button{border:none;background:0 0;margin:5px 0 0 9px;cursor:pointer}@keyframes message--show{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}.chat-time{opacity:0;color:#fff;font-size:.8rem;background:rgba(0,0,0,.6);padding:0 5px;line-height:17px;height:17px;border-radius:8px;transition:opacity 50ms linear;position:absolute;z-index:1}.chat-message-time{font-size:12px;font-family:"SourceSans Pro",Arial;color:#626262}.window__chatAgentName,.window__chatVisitorName{font-size:12px;font-family:"SourceSans Pro",Arial;color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.window--classic .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.chat-message--img{padding:0}.window__chatAgentMessage{background:#fff;color:#000}.window__chatAgentMessage--file .icon-sendfile,.window__chatVisitorMessage--file .icon-sendfile{position:relative;top:3px;margin-right:5px;font-size:15px;color:#00000c}.window__chatAgentMessage--file a[href],.window__chatVisitorMessage--file a[href]{border:none}.kbsearch__container .window_chatError,.window--mobile .kbsearch__container .window_chatError,.window--mobile .window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 88px)}.window_chatError{position:absolute;z-index:99;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%);padding:10px 47px 10px 18px;box-shadow:0 0 5px rgba(0,0,0,.1);font-size:.8rem;line-height:1.17;text-align:left;bottom:0;width:calc(100% - 54px);border-radius:5px}.form-bottom .window_chatError{width:100%}.window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 38px)}.window--circular .window_chatError{border-radius:20px}.chatError__container{position:absolute;top:-20px;width:100%}.window_chatErrorClose{position:absolute;right:15px;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);line-height:12px;cursor:pointer;background:0 0;border:none}.window_chatErrorClose svg{width:12px;height:12px}.window_chatError--urgency .window_chatErrorClose svg{fill:#BF0007}.window_chatError--mitigate .window_chatErrorClose svg{fill:#A05700}.window_chatError i{vertical-align:bottom}.window_chatError--mitigate{background:#fff6eb;border:1px solid #fff6eb;color:#A05700}.window_chatError--urgency{background:#fff2f2;border:1px solid #ffd6d8;color:#BF0007}.window--bubble .window__chatAgentMessage--file,.window--circle .window__chatAgentMessage--file::before{color:#000004}.window--circle .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window__chat>div{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--bubble .window__chatAgent{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.window--bubble .window__chatVisitor{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.window--bubble .chat-time{font-size:.8rem;padding:0 5px;top:0}.window--bubble .icon-bubble-line{position:absolute;width:10px;bottom:-1px}.window--bubble .icon-bubble-line .svgPath{width:auto;height:auto}.window--bubble .window__chatVisitorMessage{max-width:calc(100% - 50px)}.window__chatVisitorMessage .chat-message--loading{position:absolute;left:-30px;top:50%;margin-top:-11px}.window--bubble .window__chat{padding:30px 15px 0 27px;margin-bottom:0;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.window--bubble .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window--bubble__messageNoAvatar{margin-left:0;padding-left:15px;display:block}.chatMessage__questionList{margin-top:19px}.chatMessage__questionList li>a{display:inline}.chatMessage__questionList--disc{list-style-type:disc;padding-left:20px}.window__chatAgentMessage .chatMessage__questionList.chatMessage__questionList--disc li{display:list-item}.window__chatAgentMessage .btn{margin-top:16px}.chatMessage__chatBotRate__wrapper{position:absolute;right:-50px;bottom:0;width:40px}.chatMessage__chatBotRate{margin-left:10px;-ms-flex-item-align:end;align-self:flex-end}.chatMessage__chatBotRate>button{width:20px;height:20px;border-radius:20px;background-color:#fff;cursor:pointer;font-size:10px;border-width:0;display:block}.chatMessage__chatBotRate .icon{width:20px;line-height:20px;color:#626262}.chatMessage__chatBotRate>button:hover{background-color:#00000c}.chatMessage__chatBotRate>button:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover{background-color:#00000c;color:#fff;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover{background-color:#e8e8e8;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover .icon{color:#626262}.chatMessage__chatBotRate>button.chatMessage__chatBotRateLast{margin-top:5px}.window__chatWithAgent{z-index:9;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px;height:23px;text-align:center;padding-right:15px;padding-left:15px;background:0 0;border:none;cursor:pointer}.window__chatWithAgent--above:focus,.window__chatWithAgent--above:hover{border:1px solid #000003;color:#000003}.window__chatWithAgent--above{padding:4.5px;font-size:.8rem;line-height:1.25;height:27px;width:175px;border-radius:5px;border:1px solid #00000a;color:#00000a;background-color:#fff;position:absolute;top:-37px;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%)}.window--circular .window__chatWithAgent--above{border-radius:20px}.window__chatWithAgent--bottom:focus,.window__chatWithAgent--bottom:hover{color:#000003}.window__chatWithAgent--bottom{color:#00000a;font-size:.8rem;line-height:1.12;height:1rem;padding-left:12px;float:left}.window__chat .dot{position:relative;top:-3px}.window__chat .dot__element{display:inline-block;width:4px;height:4px;border-radius:100%;margin-right:5px;background:#000005;fill:#000005}@media screen and (-ms-high-contrast:active){.window__chat .dot__element{background:#fff;fill:#fff}}.window__chat .dot__element:last-child{margin-right:0}.animated-delayFrames7{animation-delay:292ms}.animated-delayFrames10{animation-delay:417ms}.animated-delayFrames13{animation-delay:542ms}.amimated-infinite{-webkit-animation-iteration-count:infinite}@keyframes dot__element--loadingAnimation{0%,100%,50%{transform:translateY(0)}25%{transform:translateY(-8px)}}.window__chat .dot__element--loadingAnimation{animation-name:dot__element--loadingAnimation;animation-duration:1s;animation-iteration-count:infinite}.window--ie .webView_background .webView_scroll_container,.window--ie .window__chat .dot__element--loadingAnimation{animation:none}.window--bubble .chat-message--imgLoading,.window--circle .chat-message--imgLoading,.window--classic .chat-message--imgLoading{width:62px;height:62px;text-align:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.chat-message__secure-form span{display:block;position:absolute;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);top:50%;left:50%}.postchatFormContainer{position:absolute;top:80px;bottom:30px;overflow:auto;overflow-x:hidden;padding:30px 50px;width:100%;-ms-transform:translateY(450px);transform:translateY(450px);opacity:0}.postchatFormContainer__greeting{margin-bottom:20px}.postchatFormContainer__submitContainer{text-align:center}@keyframes fadeInUp--windowFormContainer{0%{opacity:0;transform:translateY(375px)}100%{opacity:1;transform:translateY(0)}}.window__ssoLogin{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;-webkit-overflow-scrolling:touch;overflow-y:scroll}.window__ssoLogin iframe{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;background-color:#fff}.window--bubble .window__ssoLogin{-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:1;flex-grow:1}.window--bubble .window__ssoLogin iframe{display:block;width:100%;height:100%;min-height:456px;background-color:#fff}.window_buttons_container .window_buttons_item{margin-top:12px;text-align:center;cursor:pointer}.window_buttons_container .window_buttons_item li{min-width:150px;margin-top:4px}.window_buttons_container .window_buttons_item button{border:none;border-radius:4px;background:#00000a;color:#00000e;cursor:pointer;padding:7px 10px;width:100%}.window_buttons_container .window_buttons_item--active button:hover{background:#000003!important;color:#00000e}.window_buttons_container .window_buttons_item--disable button{background-color:#e8e8e8!important;color:#626262!important;cursor:default}.webView_background{position:absolute;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);border-radius:5px 5px 0 0;z-index:1000}.webView_background .webView_scroll_container{width:100%;position:absolute;height:100%;bottom:0;max-height:100%;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.webView_background .webView_scroll_container--compact{max-height:300px}.webView_background .webView_scroll_container--full{max-height:530px}.webView_background .webView_scroll_container--tall{max-height:415px}.webView_background .webView--scroll{width:100%;position:relative;height:calc(100% - 40px);overflow:-moz-scrollbars-none;-ms-overflow-style:none}.webView_background .webView__title{width:100%;text-align:center;background-color:#fff;height:40px;border-bottom:1px solid #ddd;line-height:40px;border-radius:5px 5px 0 0}.webView_background .webView__title h1{font-weight:400;margin:0;width:200px;font-size:inherit;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.webView_background .webView__close{position:absolute;right:10px;cursor:pointer;z-index:9999;fill:#5d5d5d;background:0 0;border:none;padding:6px 16px 0;width:44px;height:40px;top:0}.webView_background .webView__close svg{width:13px;height:13px}.webView_background .webView{background:#fff}.webView_background .webView .box-field{margin-top:15px;padding:0 30px}.webView_background .webView__content{height:100%}.window--bubble .webView_scroll_container--compact{max-height:330px}.window--bubble .webView_scroll_container--full{max-height:560px}.window--bubble .webView_scroll_container--tall{max-height:445px}.window--bubble .webView_scroll_container{padding-top:30px}.window--bubble .webView__close{top:30px}.window_quick_reply_container_box{width:100%;display:-ms-flexbox;display:flex;padding:0 16px;position:relative;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around}.window_quick_reply_container_box i{cursor:pointer}.window_quick_reply_container_box .window_quick_reply_buttons_item{width:auto;min-width:75px;background-color:#fff;color:#00000c;border:1px solid #00000c;cursor:pointer;height:25px;display:inline-block;padding:0;overflow:hidden;max-width:260px;line-height:25px;white-space:nowrap;margin-right:12px;border-radius:4px;margin-bottom:12px;text-overflow:ellipsis}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner{background-color:#000012;width:100%;height:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner>span{display:inline-block;padding:0 12px;font-weight:600;height:100%;width:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item:hover{background-color:#00000c;color:#fff}.window_quick_reply_container_box .window_quick_reply_buttons{width:100%;margin:0;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-align:center;align-items:center;padding-left:0;-ms-flex-line-pack:center;align-content:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:flex-start;display:-ms-flexbox;display:flex}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item{-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item>.window_quick_reply_buttons_item{margin:0}.window_quick_reply_container_box .window_quick_reply button:last-child{margin-right:0}.window_quick_reply_container_box .window_quick_reply_control+.window_quick_reply{width:calc(100% - 40px)}.botconfirm_list{padding:20px;min-width:190px}.botconfirm_list li{margin-bottom:10px}.botconfirm_list li p{margin:0}.botconfirm_list li p:first-child{color:#666;margin:0}.window__chatAgentMessage .window_botAnswer_richText a[href]{border-bottom:none}.window__chatAgentMessage .window_botAnswer_richText a[href]:hover{border-bottom:1px solid #323dbf}.window__chatAgentMessage .window_botAnswer_richText--disable a[href^="intent:"]{color:#888}.visually-hidden{position:absolute;left:-10000px;width:1px;height:1px}.window__chatAgentMessage.bot_item_content.chat-message--img{padding:1px}.window__chatAgentMessage.bot_item_content.chat-message--img a{max-width:244px!important;min-height:10px!important}',t)].join("")},Ea=function(t){var e=/[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}/gi.exec(t);return e?e[0]:t},za=function(t){return t.filter((function(t){return"string"==typeof t.id})).reduce((function(t,e){var n,i=t;return e.type===fo?i.name=e.value:e.type===go?i.email=e.value:e.type===wo?i.phone=e.value:e.type===mo?i.company=e.value:e.type===bo?i.product=e.value:e.type===vo?i.department=e.value:e.type===xo?i.rating=e.value:e.type===yo?i.comment=e.value:e.type===Co?i.subject=e.value:e.type===ko?i.content=e.value:e.type===So?i.attachment=e.value:e.type===_o?i.ticketId=e.value:e.type===jo?i.captcha=e.value:i.custom?i.custom[Ea(e.id)]=e.value:i.custom=((n={})[Ea(e.id)]=e.value,n),i}),{})},Ra=t(1)((function(t){var e,n;if(null==t)return[];for(var i=[],o=((e={})[qo]=xn,e[Uo]=yn,e[Go]=vn,e[zo]=Xe,e[Ho]=$e,e[Lo]=Qe,e),a=((n={})[Kn]=be,n[ti]=Se,n[oi]=bn,n[ii]=Je,n[si]=Ce,n[ci]=ke,n[di]=Ie,n[li]=on,n[ui]=an,n[pi]=rn,n[hi]=dn,n[fi]=ln,n[gi]=cn,n[wi]=pn,n),r=t.length-1;r>=0;r-=1){var s=t[r],c=void 0;if(s.type===ai||s.type===ri){var d=s.content;s.type===ai&&(c=d===qo?_n:Ze),s.type===ri&&(c=o[d])}else c=a[s.type];c&&i.push({type:c,guid:s.guid,sender:s.sender,content:void 0===s.content?"":s.content,isPassword:s.isPassword,isCollect:s.isCollect,quickReplyNextActionId:s.quickReplyNextActionId||Mi})}return i.reverse()})),La=t(1)((function(t,e){if(null==e)return[];for(var n=[],i=e.length-1;i>=0;i-=1){var o=e[i];o.type===Jn&&o.content.fileKey&&n.push({type:Ai.sendFile,chatGuid:t,fileName:o.content.fileName,fileKey:o.content.fileKey,isUseStandbyFileService:o.content.isUseStandbyFileService})}return n.reverse()})),Ha=function(t){return!/^\s*$/.test(t)},qa=function(t,e){return t/e>3.34?{height:"100%"}:t/e<.3?{width:"100%"}:t===e?{width:"100%",height:"100%"}:t>60&&e>60?t>e?{width:"100%"}:{height:"100%"}:t>e?{height:60}:t<e?{width:"100%"}:{width:"100%",height:"100%"}},Ua=function(t,e){return t/e>3.34?{width:200,height:60}:t/e<.3?{width:60,height:200}:t>=200&&t>e?{width:200}:e>=200&&e>t?{height:200}:null},Ga=function(t,e,n,i){return e?t+"?maxWidth=200&maxHeight=200":n/i>3.34?t+"?maxHeight=60":n/i<.3?t+"?maxWidth=60":t+"?maxWidth=200&maxHeight=200"},Ka=t(1)((function(t,e,n){return y(n,"guid",t)>y(n,"guid",e)})),Ya=t(1)((function(t,e){var n=t.filter((function(t){return t.guid===e}));if(n.length>0){var i=n[0];return i.type===Oe||i.type===Ae||i.type===Ee||i.type===ze||i.type===Re||i.type===In||i.type===An||i.type===Bn}return!1})),Ja=t(1)((function(t,e){for(var n=t.length-1;n>=0;n-=1){var i=t[n];if(i.guid===e)return e;if(i.type===Oe||i.type===Ae||i.type===Ee||i.type===ze||i.type===Re||i.type===In||i.type===Bn||i.type===An)return i.guid}return e})),Qa=[Kn,Yn,Jn,Qn,Zn,Xn,"postChatSuccess",$n,ti,ei,ni,ii,oi,ai,ri,si,ci,di,li,ui,pi,hi,fi,gi,wi,Mn],Za=function(t){return 0===t.type.indexOf("image")},Xa=function(t){return new Promise((function(e,n){var i=new FileReader;i.onload=function(){e(i.result,t)},i.onerror=n,i.readAsDataURL(t)}))},$a=function(t,e,n){if(!e)return t;if(tr(t)===tr(n))return t;var i=null;try{i=t.split(/fileservice\/v1\/files\//i)[1]}catch(t){}return i?e+"/files/"+i:t},tr=function(t){var e=t.match(/^https?:\/\/([^\/]+)/);if(e&&e[1])return e[1]},er=function(t,e){return e?t.replace(/^https:\/\/[\w.-]+/,e):t};var nr=O.site_id,ir=function(t){return/^\d+$/.test(t)?+t:void 0}(O.chatGroup),or=function(){return Array.prototype.map.call(O.chat_buttons,(function(t){return t.code_plan||t.id})).filter((function(t){return t}))},ar=function(t,e){var n=Array.prototype.find.call(O.chat_buttons,(function(n){return!n.code_plan||e>0&&n.code_plan.toString()===e.toString()||("number"==typeof n.code_plan?n.code_plan===t:n.code_plan.toLowerCase()===t)}));if(n)return n.div_id;if(O.dynamic){var i=Array.prototype.find.call(O.chat_buttons,(function(t){return null==t.code_plan}));return i&&i.div_id}},rr=O.openType,sr=O.onReady;var cr,dr,lr,ur,pr,hr=O.main_code_plan,fr=0,gr=function(t){function e(){cr===dr&&(cr=cr.slice())}function n(t){if("function"!=typeof t)throw new Error("Invalid listeners, expected a function.");var n=!0;return e(),cr.push(t),function(){n&&(e(),cr.splice(cr.indexOf(t),1),n=!1)}}function i(){fr>0||(dr=cr,cr.forEach((function(t){return t()})))}return dr=cr=[],function(e,o,a){var r,s=t(e,o,a),c=(r=s.dispatch,function(t){if(!t||!t.type||"@@redux/batch"!==t.type)return r(t);var e=[].concat(t.payload);return fr+=e.length,e.reduce((function(t,e){fr-=1;try{return r(e)}catch(t){throw t}}),null)});return s.subscribe(i),Object.assign({},s,{dispatch:c,subscribe:n})}},wr="config/updateConfig",mr="config/setMaxMessageLength",br="config/updateServerInstanceTag",vr="page/setButtonIsOnline",_r="page/updateVisitor",xr="page/showInvitation",yr="addVisitorNavigation",Cr="emptyVisitorNavigation",kr="page/setIsSubmitSSO",Sr="page/setSSOArtifact",Ir="page/setSSOJwt",Mr="chatWindow/open",Or="chatWindow/popOut",Ar="chatWindow/popIn",Br="chatWindow/showTab",Tr="chatWindow/chatInputWarning",jr="chatWindow/update-position",Nr="chatWindow/toggle-toolbox",Pr="chatWindow/reset",Dr="chatWindow/restoreCrossSiteChat",Wr="entities/updateCampaign",Fr="entities/updateButton",Vr="entities/button/visible",Er="entities/updateAgent",zr="entities/updateFields",Rr="entities/updateDepartment",Lr="footer/chatToolRating",Hr="footer/chatToolAudio",qr="footer/chatToolVideo",Ur="invitaton/accept",Gr="invitaton/refuse",Kr="web/showInvitation",Yr="page/buttonClick",Jr="page/setSkipPreChat",Qr="page/updateSize",Zr="page/updateOrientation",Xr="page/updatePageVisitorStatus",$r="window/update-upload",ts="window/sucess-file",es="window/fail-file",ns="sso/updateSSO",is="window/update-messages",os="window/remove-agent-is-typing",as="window/sendText",rs="window/sendFile",ss="window/startWaiting",cs="window/startChatBot",ds="window/updateChatBot",ls="window/updateChatBotContext",us="window/addSystemMessage",ps="window/updateChatIdentity",hs="window/updateMaxReadId",fs="window/closeMinimizeBubble",gs="window/togglePopupBubble",ws="window/addPendingMessage",ms="window/updateMaxAgentReadId",bs="window/updateMaxVisitorReadId",vs="window/updateVisitorStatus",_s="window/updateChatVersion",xs="window/updateEmailToSendTranscript",ys="window/ssoLoginInPopUp",Cs="window/ssoLoginInSelf",ks="window/updateTransferCampaignId",Ss="window/updateRequestFromAnotherDone",Is="window/updateCrossSiteTransfer",Ms="window/updateConfigTransferSite",Os="window/updateTransferVisitorGuid",As="window/updateRatingFieldsAfterCrossSiteTransfer",Bs="window/updateAutoEjectTranscript",Ts="window/hideRatingFormInWindow",js="page/update-window-status",Ns="page/set-focus-bar",Ps="window/toggle-error",Ds="window/toggle-warning",Ws="window/updateWindowWidth",Fs="window/removeForm",Vs="app/ready",Es="app/ban",zs="app/setIsActive",Rs="app/switchServer",Ls="app/recoverSuccess",Hs="app/increaseRecoverTimes",qs="app/setIsRecovering",Us="app/setLastSuccessTime",Gs="app/setSoundOff",Ks="window/endchat",Ys="window/toggleFocus",Js="window/contentScrollStatusUpdate",Qs="window/toggle-disable",Zs="window/updateTransferredServerInstanceTag",Xs="web/sendAction",$s="web/pageHeartbeat",tc="web/chatHeartbeat",ec="web/prechatHeartbeat",nc="web/offlineHeartbeat",ic="web/submitRating",oc="web/emailTranscript",ac="web/endChat",rc="web/submitOfflineMessage",sc="web/submitPostChat",cc="web/submitPrechat",dc="web/submitSSOInfo",lc="web/submitSSOInfo4ChatBot",uc="web/skipLogin",pc="web/sendPageVisit",hc="web/updateUrl",fc="web/updateCustomVariables",gc="web/getChatButton",wc="web/getConfig",mc="web/getChatWindowConfig",bc="web/agentMsgSeenByVisitor",vc="web/getSSORecoverInfo",_c="web/fromChatbotToAgent",xc="web/chatBotSelectQuestion",yc="web/chatBotAnswerHelpful",Cc="web/startChatAgain",kc="window/updateQueue",Sc="chatinput/setVisitorIsTyping",Ic="window/sendChatMessages",Mc="window/prepareP2pChat",Oc="window/hangupAudioVideoChat",Ac="window/acceptAudioVideoChat",Bc="window/unmuteRemote",Tc="window/updateMessageIsProcessed",jc="window/updateMessageIfDisable",Nc="sideWindow/hideAudioVideoChat",Pc="sideWindow/sideWidowTabSelect",Dc="sideWindow/toggleSideWindow",Wc="sideWindow/setWindowTabs",Fc="sideWindow/closeKnowledgeBase",Vc="sideWindow/closePushPage",Ec="sideWindow/replaceSideWindowTab",zc="app/setIsOpenerExists",Rc="window/closeSliently",Lc="window/setFrequencyLimitState",Hc="web/chatBotVisitorCancelBotForm",qc="web/chatBotVisitorSubmitBotForm",Uc="web/setBotVariable",Gc="window/cleanPendingMessages",Kc="form/update-value",Yc="form/update-error",Jc="form/focus",Qc="form/blur",Zc="form/submit-start",Xc="form/submit-success",$c="form/submit-fail",td="form/submit-social",ed="form/validate-all",nd="form/update",id="form/fill-default",od="form/reset",ad="page/setCampaignId",rd="page/setCampaignIntId",sd="window/setId",cd="window/mounted",dd="window/chatbotTimeout",ld="window/resetMaxId",ud="web/getArticles",pd="web/getArticleByID",hd="window/success-articles",fd="window/success-articleByID",gd="web/fromKBToAgent",wd="window/articleClickTitile",md="window/error-articles",bd="window/updateKBConfig",vd="sideWindow/openBotSideWindow",_d="sideWindow/closeBotSideWindow",xd="window/cleanUpCobrowseRequest",yd="window/endCobrowse",Cd="window/pushPage",kd="webView/open",Sd="webView/close",Id="webView/loading",Md="webView/visitorInfo",Od="web/setLocation",Ad="web/getVisitorInfo",Bd="window/updateBotFormMessage",Td="window/hideQuickReply",jd="state/restore",Nd="state/get-restore",Pd="window/updateVisibleInputAreaWhenBotChatting",Dd="window/updateIsMessageScrollBottom",Wd="window/updateMessageStatusToRead",Fd="window/updatePostChatVisible",Vd=((lr={})[Vs]=function(t){return Object.assign({},t,{isReady:!0})},lr[Es]=function(t){return Object.assign({},t,{banned:!0})},lr[Rs]=function(t,e){return Object.assign({},t,{server:e})},lr[zs]=function(t,e){return Object.assign({},t,{isActive:e})},lr[zc]=function(t,e){return Object.assign({},t,{isOpenerExists:e})},lr[Ls]=function(t){return Object.assign({},t,{recoverFailTimes:0,isRecovering:!1})},lr[Hs]=function(t){var e=t.recoverFailTimes;return Object.assign({},t,{recoverFailTimes:e+1})},lr[qs]=function(t,e){return Object.assign({},t,{isRecovering:e})},lr[Us]=function(t,e){return Object.assign({},t,{lastSuccessTime:e})},lr[Gs]=function(t,e){return e?Object.assign({},t,{isSoundOff:!0}):Object.assign({},t,{isSoundOff:!1})},lr),Ed=P({banned:!1},Vd),zd="open",Rd="restored",Ld="minimized",Hd="close",qd="waitingForChat",Ud="chatting",Gd="preChat",Kd="manuallyInvited",Yd="autoInvited",Jd="offlineMessage",Qd="refusedByVisitor",Zd="chatEnded",Xd="inSite",$d="manuallyInvitedByWindow",tl="systemProcessing",el="searchKB",nl="popupImage",il="embeddedWindow",ol="bubble",al="mobile",rl={agentAvatar:"agentAvatar",image:"image"},sl="button",cl="autoInvitation",dl="manualInvitation",ll="landscape",ul="portrait",pl="monitor",hl="text",fl="image",gl="float",wl="adaptive",ml={platform:le,buttons:{},windowStatus:Hd,dynamicCampaign:!1,campaignId:0,chatGroup:0,invitation:null,visitor:{},skipPreChat:!1,width:0,height:0,orientation:ul,visitorStatus:Xd,artifact:void 0},bl=function(t,e){return Ki(t,{type:e.isManual?dl:cl,invitationId:e.id,invitationType:e.type})},vl=((ur={})[vr]=function(t,e){var n,i,o=e.campaignId,a=e.ifOnline;if(t.buttons[o]===a)return t;var r=t.isDynamicCampaign?((n={})[o]=a,n):Object.assign({},t.buttons,((i={})[o]=a,i));return Object.assign({},t,{buttons:r})},ur[xr]=function(t,e,n){var i=n.buttonType;if(e.type===il){var o=e.windowStatus||zd;return Object.assign({},t,{requestChatAction:bl(t.campaignId,e),windowStatus:o,visitorStatus:e.isManual?$d:Yd})}return e.isManual&&i===wl&&e.type===ol?e.bubbleInvitationHeader===rl.image?Object.assign({},t,{requestChatAction:bl(t.campaignId,e),visitorStatus:$d,invitation:e}):Object.assign({},t,{requestChatAction:bl(t.campaignId,e),windowStatus:Ld,visitorStatus:$d,manualInvitation:e}):e.isManual&&i!==wl&&e.type===ol?Object.assign({},t,{requestChatAction:bl(t.campaignId,e),visitorStatus:$d,invitation:e}):null==t.invitation?Object.assign({},t,{invitation:e,visitorStatus:e.isManual?Kd:Yd}):t},ur[_r]=function(t,e){var n=Object.assign({},t.visitor,e);return Object.assign({},t,{visitor:n})},ur["page/resetVisitor"]=function(t,e){return Object.assign({},t,{visitor:e})},ur[Gr]=function(t){return Object.assign({},t,{invitation:null,visitorStatus:Qd})},ur[Dr]=function(t,e){var n=e.chatInfo,i=e.campaignId;return Object.assign({},t,{windowStatus:n.windowStatus||zd,requestChatAction:Ki(i)})},ur[Mr]=function(t,e){var n=e.campaignId;return Object.assign({},t,{windowStatus:zd,invitation:null,requestChatAction:t.requestChatAction||Ki(n,{type:sl})})},ur[js]=function(t,e){return Object.assign({},t,{windowStatus:e,invitation:e===zd?null:t.invitation})},ur[Ns]=function(t,e){return Object.assign({},t,{shouldFocusBar:e})},ur[Or]=function(t){return Object.assign({},t,{windowStatus:Hd})},ur[Ur]=function(t,e){var n=t.invitation;return n?Object.assign({},t,{invitation:null,requestChatAction:bl(e,n)}):t},ur[Yr]=function(t,e){return Object.assign({},t,{invitation:null,requestChatAction:Ki(e,{type:sl})})},ur[Cc]=function(t){return Object.assign({},t,{requestChatAction:Ki(t.requestChatAction.campaignId,{type:sl})})},ur[Jr]=function(t,e){return t.skipPreChat===e?t:Object.assign({},t,{skipPreChat:e})},ur[Qr]=function(t,e){var n=e.size;return t.width===n.width&&t.height===n.height?t:Object.assign({},t,n)},ur[fs]=function(t,e,n){return n?Object.assign({},t,{windowStatus:Hd,visitorStatus:Qd}):t},ur[Zr]=function(t,e){return t.orientation===e?t:Object.assign({},t,{orientation:e})},ur[ad]=function(t,e){if(t.campaignId===e)return t;var n="number"==typeof e?e:e.toLowerCase();return Object.assign({},t,{campaignId:n})},ur[rd]=function(t,e){var n=e.guid,i=e.intId;return t.campaignIntId===i?t:Object.assign({},t,{campaignId:n,campaignIntId:i})},ur[Xr]=function(t,e){return t.visitorStatus===e?t:Object.assign({},t,{visitorStatus:e})},ur[Sr]=function(t,e){return t.artifact===e?t:Object.assign({},t,{artifact:e})},ur[Ir]=function(t,e){return t.jwt===e?t:Object.assign({},t,{jwt:e})},ur[kr]=function(t,e){return t.isSubmitSSO===e?t:Object.assign({},t,{isSubmitSSO:e})},ur[cc]=function(t,e){var n=e.form.ticketId;return Object.assign({},t,{requestChatAction:Object.assign({},t.requestChatAction,{ticketId:n})})},ur),_l=P(ml,vl),xl="fetching",yl="done",Cl="error",kl=["entity"],Sl=["name","avatar"],Il=["name","avatar","id"],Ml={entities:{},errors:{},fetchStatus:{}},Ol={agents:Ml,messages:Ml,buttons:Ml,campaigns:Ml,fields:Ml,departments:Ml,kbArticles:Ml},Al=function(t,e){var n,i,o,a=t.entities,r=t.errors,s=t.fetchStatus,c=e.id,d=e.entity,l=e.error,u=e.fetchStatus;return{entities:Object.assign({},a,(n={},n[c]=Object.assign({},a[c],d),n)),errors:Object.assign({},r,(i={},i[c]=l||r[c],i)),fetchStatus:Object.assign({},s,(o={},o[c]=u||s[c],o))}};function Bl(t){var e=t.fields.entities,n=Object.keys(e).reduce((function(t,n){var i=t,o=e[n];return i[n]=Object.assign({},o,{value:null,isFocused:!1,isErrorShowed:!1}),delete i[n].error,i}),{});return Object.assign({},t,{fields:Object.assign({},t.fields,{entities:n})})}function Tl(t,e){if(t.buttons.entities[e]){var n=t.buttons,i=n.entities,o=n.errors,a=n.fetchStatus;return delete i[e],delete o[e],delete a[e],Object.assign({},t,{entities:i,errors:o,fetchStatus:a})}return t}var jl,Nl,Pl,Dl=(pr={},pr[Vr]=function(t,e){var n=e.isHidden,i=e.campaignId,o=t.buttons.entities[i];return o?o.isHidden===n?t:Object.assign({},t,{buttons:Al(t.buttons,{id:i,entity:{isHidden:n}})}):t},pr[zr]=function(t,e){var n=e.fields,i=e.type,o=e.campaignId,a=n.reduce((function(t,e){var n=t;return n.entities[i+"-"+e.id]=Object.assign({},e,{id:i+"-"+e.id}),n.errors[i+"-"+e.id]=null,n.fetchStatus[i+"-"+e.id]="done",n}),{entities:Object.assign({},t.fields.entities),errors:Object.assign({},t.fields.errors),fetchStatus:Object.assign({},t.fields.fetchStatus)}),r=Object.assign({},t.campaigns.entities[o]);return r[i]=n.map((function(t){return t.id})),Object.assign({},t,{campaigns:Al(t.campaigns,{id:o,entity:r}),fields:a})},pr[Fr]=function(t,e){return Object.assign({},t,{buttons:Al(t.buttons,e)})},pr[Wr]=function(t,e){var n=e.entity;if(null==n)return Object.assign({},t,{campaigns:Al(t.campaigns,e)});n.prechat&&n.prechatCaptcha&&n.prechat.push({id:-1,type:jo,label:n.prechatCaptchaLabel,value:null,isRequired:!0});var i=["prechat","postchat","offline"],o=[];i.forEach((function(t){var n=e.entity[t];n&&n.length>0&&(o=o.concat(n.map((function(e){return Object.assign({isErrorShowed:!1,isFocused:!1},e,{id:t+"-"+e.id})}))))}));var a=e.entity?i.reduce((function(t,e){var n;return t[e]?Object.assign({},t,((n={})[e]=t[e].map((function(t){return t.id})),n)):t}),e.entity):null;return Object.assign({},t,{campaigns:Al(t.campaigns,Object.assign({},e,{entity:a})),fields:o.reduce((function(t,e){return Al(t,{id:e.id,entity:e,error:null,fetchStatus:yl})}),t.fields)})},pr[Er]=function(t,e,n){var i=n.ifHideAgentName,o=n.agentDefaultName,a=n.apiHost,r=e.entity,s=B(e,kl);return r.name=i?o:r.name,r.avatar=er(r.avatar,a),Object.assign({},t,{agents:Al(t.agents,Object.assign({entity:r},s))})},pr[Rr]=function(t,e){return Object.assign({},t,{departments:Al(t.departments,e)})},pr[xr]=function(t,e,n){var i=e.agent,o=n.ifHideAgentName,a=n.agentDefaultName,r=n.apiHost;if(i){var s=i.name,c=i.avatar,d=B(i,Sl);return Object.assign({},t,{agents:Al(t.agents,{id:i.id,entity:Object.assign({name:o?a:s,avatar:er(c,r)},d),fetchStatus:yl})})}return t},pr[Yc]=function(t,e){var n,i=t.fields.entities[e.id];if(i.customError===e.error&&i.isErrorShowed)return t;var o=Object.assign({},i,{customError:e.error,isErrorShowed:!0,isFocused:!0}),a=Object.assign({},t.fields,{entities:Object.assign({},t.fields.entities,(n={},n[e.id]=o,n))});return Object.assign({},t,{fields:a})},pr[Kc]=function(t,e){var n,i=t.fields.entities[e.id];if(i.value===e.value&&i.isErrorShowed)return t;var o=Object.assign({},i,{value:e.value,isErrorShowed:!0,customError:""}),a=Object.assign({},t.fields,{entities:Object.assign({},t.fields.entities,(n={},n[e.id]=o,n))});return Object.assign({},t,{fields:a})},pr[Jc]=function(t,e){var n,i=t.fields.entities[e.id];if(!i)return t;var o=Object.assign({},i,{isFocused:!0}),a=Object.assign({},t.fields.entities,((n={})[e.id]=o,n)),r=Object.assign({},t.fields,{entities:a});return Object.assign({},t,{fields:r})},pr[Qc]=function(t,e){var n,i=t.fields.entities[e.id],o=Object.assign({},i,{isErrorShowed:!0,isFocused:!1}),a=Object.assign({},t.fields.entities,((n={})[e.id]=o,n)),r=Object.assign({},t.fields,{entities:a});return Object.assign({},t,{fields:r})},pr[ed]=function(t,e){var n=!1,i=e.ids.reduce((function(t,e){var i=t[e],o=t;return o[e]=Object.assign({},i,{isErrorShowed:!0,isFocused:!n}),n=!0,o}),Object.assign({},t.fields.entities)),o=Object.assign({},t.fields,{entities:i});return Object.assign({},t,{fields:o})},pr[is]=function(t,e,n){return e.reduce((function(t,e){if(e.type!==Ne&&e.type!==Be&&e.type!==Ve)return t;var i=e.content.agent,o=i.name,a=i.avatar,r=i.id,s=B(i,Il);return r?Object.assign({},t,{agents:Al(t.agents,{id:e.content.agent.id,entity:Object.assign({name:n&&n.ifHideAgentName?n.agentDefaultName:o,avatar:er(a,n.apiHost)},s),error:null,fetchStatus:yl,index:Object.keys(t.agents).length})}):t}),t)},pr[od]=Bl,pr[js]=function(t,e,n){if(e!==Hd)return t;var i=t;return n&&n.transferCampaignId&&(i=Tl(t,n.transferCampaignId)),Bl(i)},pr[Or]=function(t,e,n){var i=t;return n&&n.transferCampaignId&&(i=Tl(t,n.transferCampaignId)),Bl(i)},pr[fs]=function(t,e,n){return n?Bl(t):t},pr[hd]=function(t,e){var n=e.reduce((function(t,e){var n=t;return n[e.id]=e,n}),{});return Object.assign({},t,{kbArticles:{entities:n}})},pr),Wl=P(Ol,Dl),Fl="none",Vl="requesting",El="running",zl="loading",Rl="prelogin",Ll="ssoLogin",Hl="prechat",ql="chat",Ul="postchat",Gl="offline",Kl="kb",Yl="none",Jl="pending",Ql="success",Zl="visitor",Xl="agent",$l="system",tu="chatbot",eu="taskbot",nu="waiting",iu="invited",ou="chatting",au="chatted",ru="prechat",su="postchat",cu="offline",du="sso",lu="rating",uu=Object.freeze({__proto__:null,offline:cu,postchat:su,prechat:ru,rating:lu,sso:du}),pu="maxFileSize",hu="emptyFile",fu="maxLengh",gu="limited",wu="maxFileCount",mu="notSupported",bu="kb",vu="bot",_u="media",xu="voice",yu="bubble",Cu="kbSearch",ku="coBrowsing",Su="pushPage",Iu="taskbotCollectName",Mu="taskbotCollectEmail",Ou="taskbotCollectPhoneNumber",Au="taskbotCollectCompanyName",Bu="taskbotCollectComment",Tu="taskbotCollectLocation",ju="taskbotCollectVariableData",Nu="taskbotSendMessage",Pu="taskbotSendImage",Du="taskbotSendVideo",Wu="taskbotSSOLoginButton",Fu="taskbotQuickReply",Vu="taskbotMessage",Eu="taskbotBookMeeting",zu="taskbotActionBookingViaMicrosoftBooking",Ru="loading",Lu="taskbotActionSendAMenu",Hu="taskbotActionCollectFeedback",qu="horizontal",Uu="agent",Gu="banner",Ku="logo",Yu=function(t,e){return D(t,"entities.campaigns.entities."+e)},Ju=function(t,e){return D(t,"entities.campaigns.entities."+e)},Qu="main",Zu="standby",Xu=function(t){return t.app.isReady},$u=function(t){return t.app.server===Qu},tp=function(t){return t.app.isPoppedOut},ep=function(t){return t.app.banned},np=function(t){return t.app.isActive},ip=function(t){return!t.app.isActive},op=function(t){return t.app.isRecovering},ap=function(t){return t.app.isSoundOff},rp=function(t,e){return/^https?:/.test(e)||null==t.configuration?e:null==e?null:[$u(t)?t.configuration.url:t.configuration.standbyUrl,e].join(/^\//.test(e)?"":"/")},sp=function(t){return null==t.configuration?"":$u(t)?t.configuration.url:t.configuration.standbyUrl},cp=function(t,e){return/^https?:/.test(e)||null==t.configuration?e:null==e?null:[t.configuration.vue,e].join(/^\//.test(e)?"":"/")},dp=function(t){return cp(t,"/visitorside/location/position.html")},lp=function(t,e){var n=function(t,e){return cp(t,"/visitorside/sso/ssoredirect.html")}(t),i="returnUrl="+encodeURIComponent(n),o=/\breturnurl=[^&]+/i;return o.test(e)?e.replace(o,i):e+"&"+i},up=function(t){return/^(https?:\/\/)?([^/]*)/gi.exec(t)[2]},pp=function(t,e){if(/^https?:/.test(e))return e;if(null==t.configuration)return e;var n=t.configuration.webrtcSignalingServiceUrl;return[up(n),e].join(/^\//.test(e)?"":"/")},hp=function(t){return t.configuration.heartbeat.online},fp=function(t){return t.configuration.heartbeat.offline},gp=function(t){return t.configuration.heartbeat.stopAfter},wp=function(t){return t.configuration.attachmentMaxSize},mp=function(t){return t.configuration.frequencyLimit},bp=function(t){return t.configuration.messageLengthLimit},vp=function(t){return t.configuration.kbClientUrl},_p=function(t){return!!t.configuration.features.hideAgentName&&t.configuration.features.hideAgentName},xp=function(t){return t.configuration.encoding},yp=function(t){return t.configuration.ifPartner},Cp=function(t){return t.configuration.features.audioVideoChatRecording},kp=function(t){return t.configuration.brandConfig},Sp=function(t){return t.window?t.window.crossSiteChatTransfer:null},Ip=function(t){return function(e){var n=e.configuration.features||{};return function(t){return t.window&&!!t.window.crossSiteChatTransfer}(e)&&(n=Sp(e).configuration&&Sp(e).configuration.features||{}),void 0===n[t]||n[t]}},Mp="goToIntent",Op="contactAgent",Ap="text",Bp=function(t){return D(t,"window")},Tp=function(t,e){return function(n){var i=Bp(n);return i?t(i,n):e}},jp=Tp((function(t){return t.chatStatus}),"none"),Np=function(t){var e=t.window;return e?e.tab!==ql&&e.tab!==Ul||e.chatStatus!==ou&&e.chatStatus!==iu&&e.chatStatus!==au||e.isChatBot||0===e.involvedAgents.length?null:t.entities.agents.entities[e.involvedAgents[0]]:null},Pp=function(t){var e=t.window;return e&&(e.tab===ql||e.isChatBot&&e.tab===Ul)?e.chatStatus!==ou&&e.chatStatus!==nu&&e.chatStatus!==au?null:e.isChatBot?t.window.chatBot||{}:null:null},Dp=function(t){var e=t.window;return e?e.chatbotContext||{}:null},Wp=function(t){var e=Dp(t);return e?e.variables:null},Fp=function(t){var e=Dp(t);return e?e.visitorInfo:null},Vp=Tp((function(t,e){if(!e.entities)return!1;if(!e.entities.campaigns)return!1;var n=e.entities.campaigns;return n.fetchStatus[t.id]===yl&&!!n.entities[t.id]}),!1),Ep=function(t){return D(t,"window.tab")},zp=Tp((function(t){return t.sideWindowItems}),[]),Rp=function(t){return D(t,"window.id")},Lp=function(t){return D(t,"window.crossSiteChatTransfer.campaignId")},Hp=Tp((function(t,e){var n=Lp(e)||Rp(e);return e.entities.campaigns.entities[n]}),null),qp=Tp((function(t,e){return e.entities.campaigns.entities[e.window.id]}),null),Up=Tp((function(t,e){return e.entities.campaigns.entities[e.window.id].mainColor}),""),Gp=function(t){var e=t.entities.campaigns.entities[t.window.id].chat.texture;return e?"url("+e+")":null},Kp=Tp((function(t){return t.ssoUrl}),""),Yp=Tp((function(t){return t.showPrelogin}),!1),Jp=Tp((function(t){return t.isChatBot}),!1),Qp=Tp((function(t){return t.pendingMessage}),void 0),Zp=t(1)((function(t,e,n,i,o){return function(a){var r=e.entities[n];if(a.sender.type===Xl){var s=t.entities[a.sender.id];return Object.assign({},a,{sender:s||{name:r.languages.operatorDefaultName}})}if(a.type===jn)return Object.assign({},a,{sender:Object.assign({},a.sender,{name:o?o.name:"",avatar:o?o.avatar:""})});if(a.sender.type===tu){var c=o?o.name:"",d=a.sender?a.sender.name:"",l=o?o.avatar:"",u=a.sender?a.sender.avatar:"";return Object.assign({},a,{sender:Object.assign({},a.sender,{name:d||c,avatar:u||l})})}if(ve===a.type)return Object.assign({},a,{queuePosition:i.position,estimatedWaitTime:i.waitTime});if(a.type===Ne||a.type===je||a.type===Pe){var p=t.entities[a.sender.id];return Object.assign({},a,{sender:p||{name:r.languages.operatorDefaultName}})}return a}})),Xp=t(1)((function(t,e,n,i,o,a,r){return o.map(Zp(t,e,n,i,r)).filter(function(t){return function(e){return e.type!==ti&&e.type!==ai&&e.type!==oi&&e.type!==ri&&e.type!==ii&&e.type!==si&&e.type!==ci&&e.type!==di&&e.type!==Me&&e.type!==ni&&(e.type!==fe||t===nu)&&(e.type===Tn||!!e.content&&("string"==typeof e.content||("string"==typeof e.content.fileName?e.content.fileName:"string"==typeof e.content.name?e.content.name:"string"==typeof e.content.text?e.content.text:null!==e.content.text&&"object"==typeof e.content&&Object.keys(e.content).length>0)))}}(a))})),$p=Tp((function(t,e){var n=t.messages,i=e.entities,o=i.agents,a=i.campaigns,r=t.id,s=t.queue,c=t.chatStatus,d=t.chatBot;return Xp(o,a,r,s,n,c,d)}),[]),th=Tp((function(t){return t.messages}),[]),eh=Tp((function(t){return t.sourceMessages}),[]),nh=Tp((function(t){return t.queue}),{}),ih=Tp((function(t){return t.involvedAgents}),[]),oh=Tp((function(t){return t.audioVideoAgentId}),0),ah=Tp((function(t){return t.chatGuid})),rh=Tp((function(t){return t.visitorTyping}),!1),sh=Tp((function(t){return t.draft}),""),ch=Tp((function(t){return t.maxId}),-1),dh=Tp((function(t){return t.error})),lh=Tp((function(t){return t.warning})),uh=Tp((function(t){return t.maxReadId}),-1),ph=Tp((function(t,e){for(var n=$p(e),i=t.maxReadId,o=0,a=n.length-1;a>=0;a-=1){var r=n[a];if(r.id<=i)break;if(void 0!==r.id&&Ma(r)&&(o+=1)>=99)return 99}return o}),0),hh=Tp((function(t,e){var n=$p(e);if(!(ph(e)<=0))for(var i=n.length-1;i>=0;i-=1){var o=n[i];if(Ma(o))return o}})),fh=Tp((function(t,e){var n=$p(e);if(ph(e)<=0)return 0;for(var i=n.length-1;i>=0;i-=1){var o=n[i];if(Ma(o))return o.id}return 0})),gh=function(){var t=W.href;return"https://www.${brandingNameLowerCase}.com/powered-by/".replace("${brandingNameLowerCase}",N.brandingNameLowerCase)+"?customer="+(encodeURIComponent(F(t))||"")+"&utm_source=PoweredBy&utm_medium=ChatWindow&utm_campaign=BottomLink"},wh=function(t){return t.window&&t.window.messages&&t.window.messages.find((function(t){return t.type===Te}))},mh=Tp((function(t){if(t.tab!==ql)return!1;var e=function(){switch(t.chatStatus){case ou:return!t.isChatBot||!1!==t.isVisibleInputAreaWhenBotChatting;case nu:return!!t.allowWaitingSendMessage&&!t.isChatBot;case au:return!1;case iu:return!0;default:return!1}};return t.isTaskBot?!1!==t.enableChatInputWhenTaskbot&&(t.isVisibleInputAreaWhenTaskbot&&e()):e()}),!1),bh=Tp((function(t){return!!t.webView}),!1),vh=Tp((function(t){if(t.tab!==ql)return!1;return function(){switch(t.chatStatus){case ou:return!0;case nu:return!!t.allowWaitingSendMessage;case au:return!1;default:return!0}}()}),!1),_h=function(t){return t.window&&t.window.messages&&t.window.messages.find((function(t){return t.type===Jn}))},xh=Tp((function(t){return t.chatStatus===ou}),!1),yh=Tp((function(t){return t.chatStatus===iu}),!1),Ch=function(t){var e=ih(t);if(0!==e.length){var n=e[0];return t.entities.agents.entities[n]}},kh=function(t){var e=ih(t);if(0!==e.length){var n=oh(t);if(n>0)return t.entities.agents.entities[n];if(e.length>1)return{avatar:cp(t,"/visitorside/images/avatar.png"),name:""};var i=e[0];return t.entities.agents.entities[i]}},Sh=function(t){var e=yh(t);if(xh(t)||e){if(e){if(!(t.page.requestChatAction.source.type===dl))return;return Ch(t)}var n=Pp(t);if(n)return n;var i=Ff(t);return i||Ch(t)}},Ih=function(t){var e=Sh(t);return e?e.avatar:e},Mh=function(t){var e=kh(t);return e?e.avatar:""},Oh=function(t){var e=kh(t);return e?e.name:""},Ah=Tp((function(t){return t.chatStatus===nu||t.chatStatus===ou}),!1),Bh=Tp((function(t){return t.chatStatus===nu}),!1),Th=Tp((function(t){return t.chatStatus===ou&&t.isChatBot}),!1),jh=Tp((function(t){return t.chatStatus===nu&&t.isChatBot}),!1),Nh=Tp((function(t){return t.chatStatus===au}),!1),Ph=Tp((function(t){return t.ifHideBio}),!1),Dh=Tp((function(t){return t.fileUploadCount}),0),Wh=function(t,e){return D(t,"window.fields."+e)},Fh=Tp((function(t){return t.disabled}),!1),Vh=function(t){var e=t.window,n=D(t,"page.windowStatus");return e&&(e.tab===ql||e.tab===Kl||e.tab===zl||e.tab===Ll||e.tab===Rl||e.tab===Hl||e.tab===Gl)&&(n===zd||n===Rd)&&!!e.sideWindowSelectedTab},Eh=function(t){var e=Np(t);return!!e&&e.isSupportWebrtc},zh=function(t){return D(t,"window.sideWindowItems")},Rh=Tp((function(t){return t.audio_video_disabled}),!1),Lh=function(t){return D(t,"window.showChatWindowInSidewindow")},Hh=function(t){return D(t,"window.sideWindowSelectedTab")},qh=function(t){var e=D(t,"window.pushPage.url").trim();return V(e)},Uh=function(t){return qp(t).customCSS},Gh=function(t,e){var n=Yu(t,e);return n?n.customCSS:""},Kh=Tp((function(t){return t.vChatStatus}),Ro),Yh=Tp((function(t){return t.audioVideoChatStartTime}),0),Jh=function(t){var e=Kh(t);return e===Ho||e===Uo},Qh=Tp((function(t){return t.isRecording}),!1),Zh=Tp((function(t){return t.isFocused}),!1),Xh=Tp((function(t){return t.frequencyLimitState}),!1),$h=Tp((function(t){return t.autoEjectTranscript}),!1),tf=function(t){var e=qp(t);return e&&e.isRTL},ef=function(t,e){var n=Yu(t,e);return n&&n.isRTL},nf=function(t){var e=Np(t);return!(!e||!e.bio)&&(!Tp((function(t){return t.ifHideBio}),!1)(t)&&qp(t).header.showBio)},of=Tp((function(t){return t.kbChatWithAgentClicked}),!1),af=function(t){return D(t,"window.kb.activeArticle")},rf=function(t){return D(t,"window.kbConfig.greetingMessage")},sf=function(t){return D(t,"window.kbConfig.maxCount")},cf=function(t){var e=D(t,"window.kb");if(!e)return!1;if(!1!==e.isLoading)return!1;var n=e.articles;return!(n&&n.length>0)},df=function(t){return D(t,"window.kb.isLoading")},lf=function(t){return D(t,"window.kbConfig.notShowContent")},uf=Tp((function(t){return t.botSideWindow}),null),pf=function(t){return t.window?t.window.cobrowsing:Fl},hf=function(t){return pf(t)===El},ff=function(t){return pf(t)===Vl},gf=Tp((function(t){return t.bottom}),0),wf=Tp((function(t){return t.right}),0),mf=function(t,e){var n=e?t.entities.campaigns.entities[e]:qp(t);return n&&n.ifEnableVisitorSeeMsgSentSeen},bf=Tp((function(t){return t.maxAgentReadId}),""),vf=Tp((function(t){return t.maxVisitorReadId}),""),_f=function(t){return Th(t)?t.window.quickReply:xh(t)&&t.window.quickReply?Object.assign({},t.window.quickReply,{items:t.window.quickReply.items.filter((function(t){return t.type!==Op}))}):null},xf=Tp((function(t){return t.webView}),null),yf=function(t){var e=xf(t);return!e||e.ifLoading},Cf=function(t){var e=xf(t);return!!e&&e.success},kf=function(t){var e=xf(t);return e?e.visitorInfo:null},Sf=Tp((function(t){return t.showToolbox}),!1),If=Tp((function(t){return t.chatVersion}),""),Mf=Tp((function(t,e){return{chatGuid:ah(e),chatVersion:If(e)}}),{chatGuid:null,chatVersion:""}),Of=Tp((function(t){return t.visitorStatus}),Xd),Af=function(t){var e=eh(t).find((function(t){return t.type===Be||t.type===me||t.type===mi}));return e?e.time:""},Bf=function(t){var e=eh(t).find((function(t){return t.type===he}));return e?e.time:""},Tf=function(t){var e=th(t);return e.length>0?e[e.length-1].guid:""},jf=Tp((function(t){return t.emailToSendTranscript}),""),Nf=function(t){var e=th(t),n=!1;return e.forEach((function(t){t.type===Le?n=!0:t.type===ke&&(n=!1)})),n&&jp(t)===ou},Pf=Tp((function(t,e){return e.entities.campaigns.entities[t.id]}),"none"),Df=function(t){return void 0===t.window.ifOpenSignInPageEmbeddedWindow||t.window.ifOpenSignInPageEmbeddedWindow},Wf=Tp((function(t){return t.popupBubble}),!1),Ff=function(t){var e=t.window;return e&&e.isTaskBot&&(e.tab===ql||e.isThatBot)?e.chatStatus!==ou&&e.chatStatus!==nu&&e.chatStatus!==au?null:e.taskBot||{}:null},Vf=Tp((function(t){return t.isMessageScrollBottom}),!0),Ef=function(t){return th(t).filter((function(t){return!1===t.isSeenByVisitor})).length},zf=Tp((function(t){return t.width})),Rf=Tp((function(t){return t.isPostChatVisible})),Lf=Math.pow(2,0),Hf=Math.pow(2,1),qf=Math.pow(2,2),Uf=Math.pow(2,3),Gf=Math.pow(2,4),Kf=Math.pow(2,5),Yf=Math.pow(2,6),Jf=function(t){return t.page.campaignId},Qf=function(t){return t.window&&t.window.id?t.window.id:t.page.campaignId},Zf=function(t){return t.page.chatGroup},Xf=function(t){return t.page.buttons},$f=function(t){return t.page.siteId},tg=function(t){return t.window&&t.window.crossSiteChatTransfer?t.window.crossSiteChatTransfer.siteId:t.page.siteId},eg=function(t){return t.page.windowStatus},ng=function(t){return t.page.visitor.guid},ig=function(t){return t.window&&t.window.crossSiteChatTransfer?t.window.crossSiteChatTransfer.visitorGuid:t.page.visitor.guid},og=function(t){var e=function(t){return t.page}(t).popout;return e?{url:e.url,title:e.title}:{url:W.href,title:j.title}},ag=function(t,e){void 0===e&&(e=0);var n=og(t);return t.page.requestChatAction?Object.assign({},t.page.requestChatAction,{campaignId:e,source:Object.assign({},t.page.requestChatAction.source,{page:n})}):Ki(e,{type:sl,page:n})},rg=function(t){var e=ag(t);return e&&e.source},sg=function(t){var e=function(t,e){void 0===e&&(e=0);var n=og(t);if(t.page.requestChatAction){var i={};return Jp(t)&&(i={type:"bot"}),jp(t)===nu&&(i={type:"queue"}),Object.assign({},t.page.requestChatAction,{campaignId:e,source:Object.assign({},Object.assign({},t.page.requestChatAction.source,i),{page:n})})}return Ki(e,{type:sl,page:n})}(t);return e&&e.source},cg=function(t){return(rg(t)||{}).type},dg=function(t){return(rg(t)||{}).invitationId},lg=function(t){return t.page.manualInvitation},ug=function(t,e){return t.page.buttons[e]},pg=function(t){return t.page.platform===ue||t.page.platform===pe},hg=function(t){return t.page.platform===pe},fg=function(t){return Object.keys(t.page.buttons).map((function(e){var n=t.entities.buttons.entities[e];if(!n)return null;var i=$f(t);return Object.assign({},n,{chatWindowLink:cp(t,Zo(i,e))})})).filter((function(t){return t}))},gg=function(t,e){var n=t.type;return(n===gl||n===wl)&&function(t){return t!==Hd}(e)},wg=t(1)((function(t,e,n){return t.map((function(t){var i=!function(t,e){return t.isHideOffline&&!e[t.id]}(t,e)&&!gg(t,n)&&!t.isHidden;return Object.assign({},t,{isHidden:!i})}))})),mg=function(t){var e=fg(t),n=Xf(t),i=eg(t);return wg(e,n,i)},bg=function(t){return t.page.skipPreChat},vg=function(t){return t.page.artifact},_g=function(t){return t.page.height},xg=function(t){return t.page.width},yg=function(t){return t.page.isDynamicCampaign},Cg=function(t){return t.page.visitorStatus},kg=function(t){return t.page.shouldFocusBar},Sg=function(t){return t.page.jwt},Ig=function(t,e){var n=D(t,"entities.campaigns.entities."+e+".chat.tools");return void 0===n?0:n},Mg=function(t,e){return!(!(qf&Ig(t,e))||t.window.chatStatus!==au&&t.window.chatStatus!==ou)},Og=function(t,e){return!!(Lf&Ig(t,e))&&t.window.chatStatus!==au},Ag=function(t,e){return!!(Uf&Ig(t,e))&&t.window.chatStatus!==au&&Ip("audioVideoChat")(t)&&m},Bg=function(t,e){return!!(Gf&Ig(t,e))&&t.window.chatStatus!==au&&Ip("audioVideoChat")(t)&&m},Tg=function(t,e){return!!(Yf&Ig(t,e))},jg=function(t,e){var n=Hp(t);return n&&n.postchat?n.postchat.map((function(e){return t.entities.fields.entities["postchat-"+e]})).find((function(t){return t.type===e})):null},Ng=function(t){return jg(t,xo)},Pg=function(t){return jg(t,yo)},Dg="classic",Wg="circle",Fg="bubble",Vg=function(t){return"window--"+t},Eg=Object.freeze({__proto__:null,bubble:Fg,circle:Wg,classic:Dg,styleClassName:Vg}),zg=function(t,e){return t.entities.agents.entities[e]},Rg=function(t){return(e=t.entities.agents.entities)&&Object.keys(e)||[];var e},Lg=function(t){return t.entities.agents.entities},Hg=function(t){var e=$f(t),n=function(t){return Rg(t).reduce((function(e,n){return e.concat([zg(t,n)])}),[])}(t).sort((function(t,e){return t.index-e.index})).filter((function(t){return t.siteId===e})).map((function(t){return t.avatar})).filter((function(t){return t})),i=null;switch(n.length){case 0:return null;case 1:i=[n[0],cp(t,"/visitorside/images/avatar-male.png"),cp(t,"/visitorside/images/avatar-female.png")];break;case 2:i=[].concat(n,[cp(t,"/visitorside/images/avatar-male.png")]).filter((function(t){return t}));break;default:i=n.slice(0,3)}return i},qg=function(t,e){var n=e,i=t.entities.buttons.entities,o=Number(e);if(!isNaN(o)){var a=Object.keys(i).filter((function(t){return i[t].intId===o}));if(a.length>0)return i[a[0]]}return"number"!=typeof e&&(n=e.toLowerCase()),i[n]},Ug=function(t,e){var n=t.entities.buttons.entities;if(!n)return null;var i=Object.keys(n).filter((function(t){return n[t].intId===e}));return i.length>0?n[i[0]].id:null},Gg=function(t,e){var n=qg(t,e);return n&&n.customOffline},Kg=function(t,e){return!!t.entities.buttons&&qg(t,e).isEmbeddedWindow},Yg=function(t){return t.entities.departments.entities},Jg=/(#chat-window(?!-)\b[^{}]*?{([^}]*?)})(?!(.*|\r\n|\r|\n)\*\/)/,Qg=/(?:;|\s|{)width\s*:\s*(?:-?)(\d+)/,Zg=/(?:;|\s|{)height\s*:\s*(?:-?)(\d+)/,Xg=function(t){return t===Dg?580:605},$g=function(t,e){var n=Ju(t,e),i=qg(t,e);if(i){var o=i.iframeStyle;if(!o)return o;if(!n)return o;var a=n.style;if(a===Fg)return o;if(n.customCSS&&Jg.test(n.customCSS)){var r=Jg.exec(n.customCSS)[0],s=Qg.exec(r),c=Zg.exec(r);return o.width=s?parseInt(s[1]):385,o.height=c?parseInt(c[1]):Xg(a),o}return o.width=385,o.height=Xg(a),o}},tw=function(t,e){var n=qg(t,e),i=pg(t);return n&&n.type===wl?{right:i?n.adaptiveButtonRightOffsetOnMobile:n.adaptiveButtonRightOffset,bottom:i?n.adaptiveButtonBottomOffsetOnMobile:n.adaptiveButtonBottomOffset}:{right:0,bottom:0}},ew=function(t){var e=D(t,"window.kb.articles");return e&&e.map((function(e){var n=t.entities.kbArticles.entities[e];return{id:n.id,title:n.title,summary:n.body.replace(/<\/?[^>]+(>|>$)/g," ").substr(0,200)}}))},nw=function(t,e){var n=t.entities.campaigns.entities[e];return n?n.mainColor:""},iw=function(t){return t.entities.campaigns.entities[Qf(t)].ifRemovePoweredBy},ow="promptPressEnterToSend",aw="titleChatWindow",rw="titleOfflineMessageWindow",sw="titlePreChatWindow",cw="eventSendTranscript",dw="errorVisitorNotExist",lw="buttonKBChatWithAgent",uw="buttonKBLeaveMessage",pw=function(t,e,n){return n+"_"+t+(e?"_"+e:"")},hw=(jl={},{get:function(t){return jl[t]||null},set:function(t,e){null!=e&&(jl[t]=e)},setSession:function(t,e){jl[t]=e},remove:function(t){delete jl[t]}}),fw={get:function(t){for(var e=j.cookie.split("; "),n=0;n<e.length;n+=1){var i=e[n].split("=");if(null!=i&&2===i.length&&t===i[0])return i[1]}return null},set:function(t,e,n){void 0===n&&(n=!1),null!==e&&(j.cookie=t+"="+e+";path=/;"+(n?"secure=true;":"")+"expires=Sat, 01 Jan 10000 00:00:00 GMT")},setSession:function(t,e,n){void 0===n&&(n=!1),null!==e&&(j.cookie=t+"="+e+";path=/;"+(n?"secure=true;":""))},remove:function(t){j.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;"}},gw=fw,ww=function(){gw=hw},mw=function(t){return gw.get(t)},bw=function(t){return gw.remove(t)},vw=function(t,e,n){return void 0===n&&(n=!1),gw.set(t,e,n)},_w=function(t,e,n){return void 0===n&&(n=!1),gw.setSession(t,e,n)},xw=function(t){return gw.remove(t)},yw=N.brandingNameLowerCase+"_session",Cw=N.brandingNameLowerCase+"standby_session",kw=N.brandingNameLowerCase+"_visitor",Sw=N.brandingNameLowerCase+"_visitorguid",Iw=N.brandingNameLowerCase+"_visitor",Mw=N.brandingNameLowerCase+"_chat",Ow=N.brandingNameLowerCase+"_session",Aw=N.brandingNameLowerCase+"_page",Bw=N.brandingNameLowerCase+"_crossSiteChatTransfer",Tw=N.brandingNameLowerCase+"_frequencyLimit",jw=N.brandingNameLowerCase+"_soundOff",Nw=(Nl=function(){var t="livechattestkey",e=N.sessionStorage;try{return e.setItem(t,"test"),e.removeItem(t),!1}catch(t){return t.code===DOMException.QUOTA_EXCEEDED_ERR&&0===e.length}},function(){return void 0===Pl&&(Pl=Nl()),Pl}),Pw=function(t){var e=window[t]||{};return window[t]=e,{getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n.toString()},removeItem:function(t){delete e[t]}}},Dw=function(){try{return!window.localStorage||Nw()?Pw("localStorage"):N.localStorage}catch(t){return Pw("local-storage")}},Ww=Dw(),Fw=function(){try{return!window.sessionStorage||Nw()?Pw("sessionStorage"):N.sessionStorage}catch(t){return Pw("session-storage")}}(),Vw=!1,Ew=function(t){Vw=t},zw=function(){return pw(nr,ir,kw)},Rw=function(){return t=mw(zw()),isNaN(+t)||0==+t?void 0:Math.floor(+t);var t},Lw=function(t){return pw(t||nr,ir,Sw)},Hw=function(t){return mw(Lw(t))},qw=function(t,e){t&&(Vw?_w:vw)(Lw(e),t)},Uw=function(t){return pw(t||nr,ir,Iw)},Gw=function(t){try{return JSON.parse(Ww.getItem(t))||{}}catch(t){return{}}},Kw=function(t,e){try{return Ww.setItem(t,JSON.stringify(e))}catch(t){}},Yw=function(t){return Gw(Uw(t))},Jw=function(t,e){return Ww.setItem(Uw(e),JSON.stringify(Object.assign({},Yw(e),t)))},Qw=function(t){return Gw(Uw(t)).sessionId},Zw=function(t){return pw(t||nr,ir,""+Mw)},Xw=function(t,e){var n=Gw(Zw(e));return n.chatGuid===t?n:{}},$w=function(){return Tw+"_"+nr},tm=function(t){Kw($w(),t)},em=function(t,e,n){if(Ww){var i=Xw(t,n);Ww.setItem(Zw(n),JSON.stringify(i.chatGuid===t?Object.assign({},i,e):Object.assign({chatGuid:t},e)))}},nm=function(t){return pw(t||nr,ir,""+Ow)},im=function(t){void 0===t&&(t=Hw());var e=Gw(nm());return e.visitorGuid===t?e:{}},om=function(t,e){void 0===e&&(e=Hw());var n=im(e);Ww.setItem(nm(),JSON.stringify(n.visitorGuid===e?Object.assign({},n,t):Object.assign({visitorGuid:e},t)))},am=function(){return pw(nr,ir,""+Aw)},rm=function(){return function(t){try{return JSON.parse(Fw.getItem(t))||{}}catch(t){return{}}}(am())},sm=function(t){return Fw&&Fw.setItem(am(),JSON.stringify(Object.assign({},rm(),t)))},cm=function(){bw(pw(nr,ir,yw)),bw(pw(nr,ir,Cw))},dm=function(){return rm().mediaChatHash},lm=function(t){return Xw(t).mediaChatHash},um=function(t){em(t,{mediaChatHash:dm()})},pm=function(t){var e=lm(t);e&&e===dm()&&em(t,{mediaChatHash:null})},hm=function(t){em(t,{mediaChatHash:null}),sm({mediaChatHash:null})},fm=function(){return(Yw()||{}).lastChattedAgents||[]},gm=pw(nr,ir,"SSOSessionToken"),wm=function(t){_w(gm,t)},mm=pw(nr,ir,"SSOSessionInfo"),bm=function(t){_w(mm,t.replace(/=/g,"#").replace(/;/,"@"))},vm=function(){var t=mw(mm);return t?t.replace(/#/g,"=").replace(/@/,";"):null},_m=pw(nr,ir,"SSOSessionLoggedIn"),xm=function(){_w(_m,!0)},ym=function(){xw(_m)},Cm=function(){xw(gm),xw(mm),ym()},km=function(t,e){return Bw+"_"+t+(e?"_"+e:"")},Sm=function(t,e){try{Ww.removeItem(km(t,e))}catch(t){}},Im=function(t,e,n){Kw(km(t,e),n)},Mm=function(t,e){var n=Gw(km(t,e));return n.siteId&&n},Om=function(){return"true"===Ww.getItem(jw)},Am=function(){return Ww.removeItem(jw)},Bm=Math.pow(2,0),Tm=Math.pow(2,1),jm=Math.pow(2,2),Nm=t(1)((function(t){var e=Object.assign({},t);return e.id=t.id,e.isManual=t.isManual,e.type=ol,e.campaignId=t.campaignId,e.message=t.text,e.textTypeHere=t.textTypeHere,e.messageCount=t.messageCount,t.agent&&(e.agentName=t.agent.name,e.avatar=t.agent.avatar),e.agent=t.agent,e})),Pm=t(1)((function(t){var e=Object.assign({},t);return e.id=t.id,e.type=al,e.campaignId=t.campaignId,e.message=t.text,e.acceptText=t.acceptText,e.refuseText=t.refuseText,e.themeColor=t.themeColor,e.title=t.title,e.agent=t.agent,e})),Dm=t(1)((function(t){var e={};if(e.id=t.id,e.type=nl,e.image=t.image,e.message=t.text,e.fontSize=t.fontSize,e.color=t.color,e.themeColor=t.themeColor,e.fontFamily=t.fontFamily,e.ifModal=t.ifModal,t.fontStyle){var n=t.fontStyle;e.fontWeight=n&Bm?"bold":"",e.fontStyle=n&Tm?"italic":"",e.textDecoration=n&jm?"underline":""}return e.messageArea={left:t.textArea[0],top:t.textArea[1],width:t.textArea[2],height:t.textArea[3]},e.closeArea={left:t.closeArea[0],top:t.closeArea[1],width:t.closeArea[2],height:t.closeArea[3]},e.textAlign=t.textAlign,t.position&&(e.position=t.position),e.isManual=t.isManual,e.campaignId=t.campaignId,e.agent=t.agent,e}));function Wm(t){var e=D(t,"page.invitation");if(!e)return null;var n=e.type;return ol===n?Nm(e):nl===n?Dm(Object.assign({},e,{image:rp(t,e.image)})):al===n?Pm(e):null}var Fm,Vm,Em,zm=function(t){return t.page&&t.page.invitation},Rm=Tp((function(t){return t.isTaskBot}),!1),Lm=function(t){var e=t.window;return e?e.chatStatus!==ou&&e.chatStatus!==nu&&e.chatStatus!==au?null:e.taskBot||{}:null},Hm=function(t){Rm(t);var e=Lm(t);return e&&e.id?e.id:"00000000-0000-0000-0000-000000000000"},qm=t(1)((function(t){return Object.keys(t).map((function(e){var n=t[e];return{value:n.id,label:n.name,isOnline:n.isOnline}})).sort((function(t,e){return t.label.toLowerCase()<e.label.toLowerCase()?-1:1}))})),Um={custom:{}},Gm=function(t,e,n,i,o){return e.configuration.features[n]?t:t.filter((function(t){return e.entities.fields.entities[o+"-"+t].type!==i}))},Km=function(t){var e=Lp(t)||Rp(t);return Ym(t,su,e)},Ym=function(t,e,n){var i;e===ru?i="prechat":e===su?i="postchat":e===cu&&(i="offline");var o=t.entities.campaigns.entities[n],a=t.configuration.customVariableResult;if(o&&o[i]){var r=o[i];return r=Gm(r,t,"department",vo,i),(r=Gm(r,t,"ticket",_o,i)).map((function(e){var n=t.entities.fields.entities[i+"-"+e],r="";if(n.type===vo){var s=t.entities.departments.entities;n=Object.assign({},n,{options:qm(s)})}var c,d,l=t.window?t.window.fields:Um;if(c=n.type===fo?l.name:n.type===go?l.email:n.type===wo?l.phone:n.type===mo?l.company:n.type===bo?l.product:n.type===vo?l.department:n.type===xo?l.rating:n.type===yo?l.comment:n.type===Co?l.subject:n.type===ko?l.content:n.type===So?l.attachment:n.type===_o?l.ticketId:n.type===jo?void 0:n.type===Oo||n.type===Ao?void 0===l.custom[n.label]||null===l.custom[n.label]?"false":l.custom[n.label]:n.type===To&&void 0===l.custom[n.label]?"":l.custom[n.label],!(c=null!=n.value?n.value:c)&&a&&a[n.label]&&(c=a[n.label]),n.isRequired){((n.type===To?""===c||void 0===c:n.type===Oo||n.type===Ao?c&&"true"!==c:!c||c.trim&&""===c.trim())||Array.isArray(c)&&0===c.length||n.type===vo&&c===ki)&&(r=o.languages.promptRequired)}if(n.type===go&&c&&!ca(c)&&(r=o.languages.promptInvalidEmail),n.type!==_o||!c||(d=c).length<=10&&/^\d{0,10}$/.test(d)&&parseInt(d,10)<Math.pow(2,31)||(r="Invalid number"),n.type===So&&"undefined"!=typeof File&&c&&"undefined"!==c.size){var u=wp(t);c.size>Math.pow(1024,2)*u&&(r=o.languages.promptFileSizeExceed.replace("{fileSize}",u))}return Object.assign({},n,{value:c,error:n.customError||r})}))}return[]},Jm=function(t,e){return t.window.forms[e]},Qm=function(t){var e=t.entities.campaigns.entities[t.window.id];return e&&e.prechat?e.prechat.map((function(e){return t.entities.fields.entities["prechat-"+e]})):[]},Zm=function(t){var e=t.entities.campaigns.entities[t.window.id],n=[];e&&(n=(n=(n=n.concat(e.prechat?e.prechat.map((function(e){return t.entities.fields.entities["prechat-"+e]})):[])).concat(e.postchat?e.postchat.map((function(e){return t.entities.fields.entities["postchat-"+e]})):[])).concat(e.offline?e.offline.map((function(e){return t.entities.fields.entities["offline-"+e]})):[]));var i={text:!0,textarea:!0,radio:!0,checkbox:!0,select:!0,"checkbox-list":!0,attachment:!0,rating:!0};return n.filter((function(t){return i[t.type]}))},Xm=function(t){var e=ih(t),n=[];e&&e.length>0&&e.map((function(e){return zg(t,e)&&n.push(zg(t,e))}));var i=t.window.chatBot;return i&&(n=n.concat(i)),n},$m=function(t){return t.window&&!!t.window.crossSiteChatTransfer},tb=function(t){return t.window?t.window.crossSiteChatTransfer:null},eb=function(t){return tb(t)?tb(t).siteId:0},nb=function(t){return!tb(t)||tb(t).isTransferDone},ib=function(t){return tb(t)?tb(t).campaignId:Qf(t)},ob=function(t){var e=tb(t);return e&&e.configuration?e.configuration.serverInstanceTag:function(t){return t.configuration.serverInstanceTag}(t)},ab=function(t){var e,n=tb(t),i=xp(t),o=Qo(eh(t),i),a=function(t){for(var e=t.length-1;e>=0;e-=1)if(t[e].type===Ci&&t[e].sender&&t[e].extras&&"null"!==t[e].extras)return t[e].id;return null}(o),r=n.siteId,s=n.toCompanyName,c=n.fromCompanyName,d=n.fromSiteId,l={toSiteId:r,toCompanyName:s,fromSiteId:d,fromCompanyName:c,withChatTranscript:n.withChatTranscript,departmentId:n.departmentId,agentId:n.agentId,campaignId:n.campaignId,chatbotId:n.chatbotId,chatbot:n.chatbot,messages:o.filter((function(t){return t.id!==a})),name:Yw(d).name,email:Yw(d).email,visitorSendTranscript:!!jf(t),agents:Xm(t)};return e=l,Object.assign({},e,{type:Ai.requestChatFromAnotherSite,isSupportWebrtc:m})},rb=Ip("sendFile"),sb=Ip("heartbeat"),cb=Ip("autoInvitation"),db=Ip("isFreemium"),lb=function(t,e){if(e=e||Qf(t),Ig(t,e)<1)return!1;var n=t.window,i=Ep(t);return!(!n||i===su)&&(n.chatStatus===ou||n.chatStatus===au)},ub=function(t){return t.configuration.features.ga},pb=function(t,e){return D(t,"entities.campaigns.entities."+e+".style")},hb=function(t,e){return D(t,"entities.campaigns.entities."+e+".cornerStyle")},fb=function(t){var e=Rp(t);return pb(t,e)},gb=function(t){var e=Rp(t);return hb(t,e)},wb=function(t){return t.configuration.customVariables},mb=function(t){return t.configuration.customVariableResult},bb=function(t){return t.configuration.features.hideCreditCard},vb=function(t){return t.configuration.features.showTypingContent},_b=function(t){return t.entities.campaigns.entities[t.window.id].languages},xb=function(t){var e=t.entities;if(!e)return!1;var n=e.campaigns.entities;if(!t.window||!n)return!1;var i=n[t.window.id];return!!i&&!!i.languages},yb=function(t){return function(e,n){var i=function(t){var e=Lp(t)||Rp(t);if(!t.entities.campaigns.entities[e])return{};var n=t.entities.campaigns.entities[e].greetingMessages;return n||{}}(e),o=t[n];if(o)return i[o]}}(((Fm={})[ru]="preChatGreetingMessage",Fm[su]="postChatGreetingMessage",Fm[cu]="offlineMessageGreetingMessage",Fm)),Cb=function(t,e){var n=Lp(t)||Rp(t);if(e===ru)return t.entities.campaigns.entities[t.window.id].formStyles.preChatFormStyle===qu;if(e===su){var i=t.entities.campaigns.entities[n];if(!i)return!1;if(i.formStyles)return i.formStyles.postChatFormStyle===qu}return t.entities.campaigns.entities[t.window.id].formStyles.offlineMessageFormStyle===qu},kb=function(t){return function(e,n){var i=_b(e),o=t[n];if(o)return i[o]}}(((Vm={})[ru]="buttonStartChat",Vm[su]="buttonSubmit",Vm[cu]="buttonSubmit",Vm)),Sb=function(t,e){if(!(e<=0))return _b(t).embeddedWindowNewMessages.replace("{count}",e)},Ib=function(t){return _b(t).writeReply},Mb=function(t){var e=Rp(t),n=Ju(t,e).mainColor;return va(n)},Ob=function(t){return D(t,"entities.campaigns.entities."+(t.window&&t.window.id)+".chat.showAvatar")},Ab=function(t){var e=Qf(t),n=t.entities.campaigns.entities[e].header,i=n.chatWindowShowAvatar,o=n.type;return!!i||!(!Jp(t)||o!==Gu)},Bb=function(t,e){if(t.window){var n=function(t){return t.entities.campaigns.entities[t.window.id].sounds}(t);return n&&n[e]}},Tb=function(t){if(t.window&&t.window.crossSiteChatTransfer){var e=t.window.crossSiteChatTransfer;return{siteId:e.siteId,chatServer:e.urls.chatServer,standbyChatServer:e.urls.standbyChatServer,isEnabled:!e.configuration||e.configuration.features.maxon}}return{siteId:t.page.siteId,isEnabled:!t.configuration.features||t.configuration.features.maxon,chatServer:t.configuration.url,standbyChatServer:t.configuration.standbyUrl}},jb=function(t){var e=Tb(t);return e.isEnabled&&e.standbyChatServer?e.standbyChatServer+"/moderator.aspx?siteId="+e.siteId:null},Nb=function(t){var e=Tb(t);return e.chatServer?e.chatServer+"/status.ashx":null},Pb=function(t,e){var n=t.siteId,i=t.visitorGuid;return(e?t.urls.chatServer:t.urls.standbyChatServer).concat(["/visitor.ashx?",n?"siteId="+n:"",i?"&visitorGuid="+i:""].join(""))},Db=function(t){var e=Zf(t),n=$f(t),i=ng(t);if($m(t)){var o=tb(t);return Pb(o,$u(t))}return rp(t,["/visitor.ashx?",n?"siteId="+n:"",e?"&chatGroup="+e:"",i?"&visitorGuid="+i:""].join(""))},Wb=function(t){return cg(t)===dl&&jp(t)===iu},Fb=function(t){return function(t,e){var n=qg(t,e);if(n)return n.customJs}(t,Jf(t))},Vb=function(t){return tp(t)&&null==cg(t)},Eb=function(t){return function(t){return t.app.isOpenerExists}(t)&&tp(t)&&Kg(t,Qf(t))&&!Vb(t)&&!Nf(t)},zb=function(t,e){return(t.entities.campaigns.entities[e||Qf(t)]||{}).languages},Rb=function(t,e){return(t.entities.campaigns.entities[e||Qf(t)]||{}).languageCode||"en"},Lb=function(t,e,n){if(n=n||Qf(t),e===aw)return function(t,e){return D(t,"entities.campaigns.entities."+e+".popupChatWindowTitle")}(t,n);if(e===sw)return function(t,e){return D(t,"entities.campaigns.entities."+e+".popupPreChatTitle")}(t,n);if(e===rw)return function(t,e){return D(t,"entities.campaigns.entities."+e+".popupOfflineMessageTitle")}(t,n);var i=zb(t,n);return i&&i[e]},Hb=function(t){var e=tb(t),n=e?e.configuration:t.configuration;return n?n.fileServiceUrl:""},qb=function(t){var e=tb(t);return e?e.configuration.fileServiceAddress:t.configuration.fileService||t.configuration.fileServiceAddress},Ub=function(t){return t.configuration.fileService},Gb=function(t){var e=tb(t);return e&&e.configuration?e.configuration.fileServiceStandbyAddress:t.configuration.fileServiceStandbyAddress},Kb=function(t){return t.configuration.apiHost},Yb=function(t){return function(e){return _b(e)[t]}},Jb=Yb("cobrowseAllowControl"),Qb=Yb("cobrowseStop"),Zb=function(t){var e=_b(t).cobrowseAgentWait,n=function(t){var e=function(t){return t.window.cobrowseAgent}(t);if(!e)return"";var n=zg(t,e);return n?n.name:""}(t);return e.replace(/{name}/g,n)},Xb=Yb("cobrowseNotes"),$b=function(t){var e=Qf(t);return qg(t,"string"==typeof e?e.toLowerCase():e).type===wl},tv=function(t){var e=$b(t),n=pg(t)&&!hg(t),i=eg(t);if(i===Hd)return!1;var o=!tp(t)&&e;return o&&n&&(o=i===Ld),o},ev=((Em={})[Kl]="kbWin",Em[zl]="loadingWin",Em[Rl]="loginWin",Em[Gl]="offlineWin",Em[Ul]="postWin",Em[Hl]="preWin",Em[Ll]="loginWin",Em),nv=function(t){var e=Ep(t),n=E[Rb(t)];if(e!==ql)return n[ev[e]];var i=jp(t),o=zb(t);if(i===nu)return o.embeddedWindowWaitingForChat;if(i===iu)return n.invited;if(i===au)return o.embeddedWindowChatEnded;var a=function(t){var e=Sh(t);return e?e.name:e}(t);return o.embeddedWindowChattingWithOperator.replace(/{agent}/g,a)},iv=function(t){if(!function(t){return!!qp(t).prechat}(t))return"";var e=Wh(t,vo);if(e>0){var n=Yg(t)[e];return n?n.name:""}return""},ov=function(t){var e=function(t){return t.window?t.window.messages.map((function(t){if(t.senderType===Xl||t.type===Be||t.type===Ne||t.type===Ve)return t.senderId||t.sender&&t.sender.id})).reduce((function(t,e){return e&&-1===t.indexOf(e)&&t.push(e),t}),[]).map((function(e){return zg(t,e)})).filter((function(t){return!!t})):[]}(t).map((function(t){return t.name}));return t.window.chatBot?e.concat(t.window.chatBot.name):e},av=function(t){var e=Bp(t),n=Of(t);return e||(n=Cg(t)),n},rv=function(t){var e=tb(t);if(!e)return!1;var n=ih(t);if(0===n.length)return!1;var i=zg(t,n[0]);return!i||e.siteId!==i.siteId},sv=function(){return{type:Es}},cv=function(){return{type:Vs}},dv=function(t){return{type:zs,payload:t}},lv=function(){return{type:Ls}},uv=function(t){return{type:qs,payload:t}},pv=function(t){return{type:jd,payload:t}},hv=function(){return{type:Nd}},fv=function(t){return{type:Gs,payload:t}},gv=function(t,e){return{type:vr,payload:{campaignId:t,ifOnline:e}}},wv=function(t){return{type:xr,payload:t}},mv=function(t){return{type:_r,payload:t}},bv=function(t){return{type:yr,payload:t}},vv=function(){return{type:Cr}},_v=function(t){return{type:Ur,payload:t}},xv=function(t){return{type:Yr,payload:t}},yv=function(){return{type:Gr}},Cv=function(){return{type:Fc}},kv=function(){return{type:Vc}},Sv=function(t,e){return{type:Ec,payload:{targetTab:t,newTab:e}}},Iv=function(t,e){return void 0===e&&(e=!1),{type:Mr,payload:{campaignId:t,isRestoreChat:e}}},Mv=function(t){return{type:js,payload:t}},Ov=R(Mv,zd),Av=function(){var t=R(Mv,Ld).apply(void 0,arguments);return setTimeout((function(){if(top.frames.chat_button_adaptive_container){var t=top.frames.chat_button_adaptive_container.contentWindow;if(t){var e=t.document.querySelector(".chatButton");e&&e.focus()}}else if(top.frames.chat_button_bar_container){var n=top.frames.chat_button_bar_container.contentWindow;if(n){var i=n.document.querySelector(".minimize-bar");i&&i.focus()}}}),500),t},Bv=R(Mv,Hd),Tv=R(Mv,Rd),jv=function(t){return{type:Ns,payload:t}},Nv=function(t){return{type:Jr,payload:t}},Pv=function(t,e){return{type:Qr,payload:{size:t,buttonOffset:e}}},Dv=function(t){return{type:Zr,payload:t}},Wv=R(Dv,ll),Fv=R(Dv,ul),Vv=function(t){return{type:ad,payload:t}},Ev=function(t,e){return{type:rd,payload:{guid:t,intId:e}}},zv=function(t){return{type:Xr,payload:t}},Rv=function(t){return{type:Sr,payload:t}},Lv=function(t){return{type:kr,payload:t}},Hv=function(t){return{type:Ir,payload:t}},qv=function(t){return{type:wr,payload:t}},Uv=function(t){return{type:mr,payload:t}},Gv=function(t){return{type:br,payload:t}},Kv=function(t){return{type:Wr,payload:t}},Yv=function(t){return{type:Fr,payload:t}},Jv=function(t,e){return{type:Vr,payload:{isHidden:!t,campaignId:e}}},Qv=function(t){return{type:Er,payload:t}},Zv=function(t){return{type:Rr,payload:t}},Xv=function(t,e){return{type:t,payload:e}},$v=function(t){return{type:es,payload:t}},t_=function(t){return{type:Br,payload:t}},e_=function(t,e,n){return{type:ns,payload:{ssoUrl:t,showPrelogin:e,ifOpenSignInPageEmbeddedWindow:n}}},n_=function(t){return{type:ls,payload:t}},i_=function(t){return{type:is,payload:t}},o_=function(t){return{type:us,payload:t}},a_=function(t,e,n){return void 0===n&&(n={}),{type:as,payload:{message:t,guid:L(),ifCardMasking:e,options:n}}},r_=function(t,e){return{type:rs,payload:t,meta:e}},s_=function(t){return{type:Fs,payload:t}},c_=R((function(t){return{type:Ds,payload:t}}),""),d_=function(t){return{type:Ps,payload:t}},l_=function(){return{type:Ks}},u_=d_,p_=R(d_,""),h_=function(){return{type:_c}},f_=function(t,e,n,i){return{type:Hc,payload:{formActionType:2,guid:t,intentId:e,agentId:n,botId:i,formName:""}}},g_=function(t,e,n,i,o,a,r){return{type:qc,payload:{formActionType:0,guid:t,intentId:e,agentId:n,values:a,botId:i,question:o,message:r,formName:""}}},w_=function(t){return{type:Uc,payload:t}},m_=function(t,e){return{type:ps,payload:{chatGuid:t,serverTime:e}}},b_=function(t,e){return{type:Tr,payload:{type:t,params:e}}},v_=function(t){return{type:Lc,payload:t}},__=function(t){return{type:Js,payload:t}},x_=function(t){return{type:Qs,payload:t}},y_=R(x_,!0);R(x_,!1);var C_=function(){return{type:Or}},k_=function(){return{type:Ar}},S_=function(t){return{type:kc,payload:t}},I_=function(t){return{type:Sc,payload:{message:t}}},M_=function(t,e,n){return{type:Mc,payload:{localVideoContainer:t,remoteVideoContainer:e,unmuteRemoteContainer:n}}},O_=function(){return{type:Nc}},A_=function(t,e){return{type:Ac,payload:{localVideoContainer:t,remoteVideoContainer:e}}},B_=function(){return{type:Bc}},T_=function(t){return{type:Pc,payload:t}},j_=function(t){return{type:Dc,payload:t}},N_=function(t){return{type:Wc,payload:t}},P_=function(t){return{type:hs,payload:t}},D_=function(t){return{type:ms,payload:t}},W_=function(t){return{type:bs,payload:t}},F_=function(t){return{type:gs,payload:t}},V_=function(t){return{type:sd,payload:t}},E_=function(){return{type:os}},z_=function(){return{type:gd}},R_=function(t){return{type:wd,payload:t}},L_=function(t){return{type:kd,payload:t}},H_=function(){return{type:Sd}},q_=function(){return{type:Id}},U_=function(t){return{type:Md,payload:t}},G_=function(){return{type:_d}},K_=function(t){return{type:ws,payload:t}},Y_=function(){return K_(void 0)},J_=function(){return{type:Hr,payload:!0}},Q_=function(){return{type:qr,payload:!0}},Z_=function(t,e){return{type:Bd,payload:{guid:t,fieldsValue:e}}},X_=function(t){return{type:Nr,payload:t}},$_=function(t){return{type:vs,payload:t}},tx=function(t){return{type:_s,payload:t}},ex=function(t){return{type:xs,payload:t}},nx=function(){return{type:Td}},ix=function(){return{type:ys}},ox=function(){return{type:Cs}},ax=function(t){return{type:Tc,payload:{guid:t}}},rx=function(t){return{payload:t,type:jc}},sx=function(t){return{payload:t,type:ks}},cx=function(t,e){return{payload:{isTransferDone:t,chatGuid:e},type:Ss}},dx=function(t){return{payload:t,type:Ms}},lx=function(t){return{payload:t,type:Os}},ux=function(t){return{type:Zs,payload:t}},px=function(t){return{type:Dd,payload:t}},hx=function(){return{type:Ts}},fx=function(t){return{type:Fd,payload:t}},gx=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{type:Xs,payload:1===e.length?e[0]:no(e)}},wx=function(){return{type:$s}},mx=function(){return{type:tc}},bx=function(t){return{type:ic,payload:t}},vx=function(t){return{type:oc,payload:t}},_x=function(){return{type:ac}},xx=function(t){return{type:dc,payload:t}},yx=function(t){return{type:lc,payload:t}},Cx=function(){return{type:uc}},kx=function(){return{type:pc}},Sx=function(t){return{type:fc,payload:t}},Ix=function(t){return{type:Ic,payload:t}},Mx=function(){return{type:Oc}},Ox=function(t,e){return void 0===e&&(e=!1),{type:gc,payload:{campaignId:t,alreadyCampaignId:e}}},Ax=function(){return{type:wc}},Bx=function(t){return{type:mc,payload:t}},Tx=function(t){return{type:ud,payload:t}},jx=function(t,e){return{type:Ic,payload:[{type:t,time:new Date,content:e,sender:{type:Zl},guid:L()}]}},Nx=function(){return jx(li,L())},Px=function(){return jx(pi)},Dx=function(){return jx(gi)},Wx=function(t){return{type:bc,payload:t}},Fx=function(t){return{type:Od,payload:t}},Vx=function(){return{type:Ad}},Ex=function(t){return{type:Kr,payload:t}},zx=function(t,e,n){return{type:Kc,payload:{id:e,value:n},meta:{formType:t}}},Rx=function(t,e,n){return{type:Yc,payload:{id:e,error:n},meta:{formType:t}}},Lx=function(t,e){return{type:Jc,payload:{id:e},meta:{formType:t}}},Hx=function(t,e){return{type:Qc,payload:{id:e},meta:{formType:t}}},qx=function(t){return{type:Zc,payload:t,meta:{formType:t}}},Ux=function(t){return{type:Xc,payload:t,meta:{formType:t}}},Gx=function(t){return{type:$c,payload:t,meta:{formType:t}}},Kx=function(t,e){return{type:nd,payload:t,meta:e}},Yx=function(t){return{type:id,payload:t}},Jx=function(t,e){return{type:ed,payload:{ids:e},meta:{formType:t}}},Qx=function(t,e,n){return function(i,o,a){return function(r){return new Promise((function(s,c){var d=a.filter((function(t){return""!==t.error}));if(d.length>0){var l=d.map((function(t){return t.id}));return r(Jx(e,l)),void c(l)}var u=za(a),p=rm().popout;p&&p.ticketId&&!Number.isNaN(+p.ticketId)&&(u.ticketId=+p.ticketId),p&&p.departmentId&&!Number.isNaN(+p.departmentId)&&(u.department=+p.departmentId),r(qx(e)),Oy(i+".submit",u),r(t(Ca(u),(function(t){return new Promise((function(c){Oy(i+".submit.success"),r(Ux(e));var d=u;if(u.custom){var l=Object.keys(u.custom).reduce((function(t,i){var o=t;return o[a.find((function(t){return t.id===(n||e)+"-"+i})).label]=u.custom[i],o}),{});d=Object.assign({},u,{custom:l})}delete d.captcha,r(Kx(d,e)),setTimeout((function(){r(e===cu?y_():function(t){return{type:od,meta:t}}(e)),c(t),s()}),o)}))}),(function(t){Oy(i+".submit.fail",t),c(null,t)})))}))}}},Zx=Qx((function(t,e){return{type:cc,payload:{form:t,onSuccess:e}}}),ru),Xx=Qx((function(t,e){return{type:sc,payload:{form:t,onSuccess:e}}}),su,su),$x=Qx((function(t,e){return{type:rc,payload:{form:t,onSuccess:e}}}),cu),ty=function(t,e,n){return t===ru?Zx("livechat.prechat",e,n):t===su?Xx("livechat.postChat",e,n):$x("livechat.offlineMessage",e,n)},ey=3e4,ny=18e4,iy=function(t,e){return t===e||typeof t==typeof e&&(null==t||null==e?t==e:Object.keys(t).reduce((function(n,i){return n&&t[i]===e[i]}),!0)&&Object.keys(e).reduce((function(n,i){return n&&e[i]===t[i]}),!0))},oy=function(t,e){return Object.keys(t).reduce((function(n,i){if(t[i]===e[i])return n;var o=n;return o[i]=t[i],o}),{})};function ay(t,e,n){void 0===n&&(n=!0);var i=t.getState(),o=mb(i),a=Object.assign({},o,e);if(!iy(a,o)){n&&t.dispatch(qv({customVariableResult:a}));var r=oy(a,o);Object.keys(r).length>0&&t.dispatch(Sx(r))}}var ry,sy,cy,dy=function(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n.forEach((function(e){t.dispatch(e.apply(void 0,i))}))}}},ly=function(t,e){O[t]=function(){return console.warn("$brandingNameAPI".replace("$brandingName",N.brandingName)+"."+t+" is deprecated. Please use new version of JavaScript API instead."),e.apply(void 0,arguments)}},uy=function(t){return function(){return $f(t.getState())}},py=function(t){return function(){return yg(t.getState())}},hy=function(t){return function(){return"mobile"===t.getState().page.platform}},fy=function(t){return function(e){var n;return void 0===e&&(e=Qf(t.getState())),!!(n=t.getState(),fg(n).filter((function(t){return!t.isHidden}))).find((function(t){return t.id===e}))}},gy=function(t){return function(e){return void 0===e&&(e=Qf(t.getState())),Xf(t.getState())[e]?"online":"offline"}},wy=function(t){return function(){return!!bg(t.getState())}},my=function(t){return function(){return Vh(t.getState())}},by=function(t,e){return function(n){var i=n;return void 0===i&&(i=or()[0]),Ym(e.getState(),t,i).map((function(e){return Object.assign({},e,{id:e.id.slice(t.toString().length+1)})}))}},vy=function(t){return function(){return vg(t.getState())}},_y=function(t){return function(){return zp(t.getState())}},xy=function(t){return function(){return ng(t.getState())}},yy=function(t){return function(){return bp(t.getState())}},Cy=function(t,e){return function(n,i){var o=i||or()[0];t.dispatch(function(t,e,n){return{type:zr,payload:{type:t,fields:e,campaignId:n}}}(e,n,o))}},ky=function(t,e){return function(){return e.dispatch(ty(t,0,Ym(e.getState(),t,Rp(e.getState()))))}},Sy={},Iy=function(){return Sy},My={},Oy=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];My[t]&&setTimeout((function(){My[t].forEach((function(t){try{t.apply(void 0,n)}catch(t){}}))}),0)},Ay=function(t,e){return My[t]||(My[t]=[]),My[t].push(e),function(){My[t]=My[t].filter((function(t){return t!==e}))}},By=function(t){return function(e){var n=t[e];if(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return n.apply(void 0,o)}}},Ty="text",jy="htmlText",Ny="image",Py="video",Dy="button",Wy="quickReply",Fy="file",Vy="complex",Ey="loading",zy=((ry={})[bi]=function(t,e,n){var i=e.content.taskbot,o=i.isEnableChatInput;return i&&i.avatar&&-1!==i.avatar.indexOf("|")&&(i=Object.assign({},i,{avatar:er(i.avatar.split("|")[1],n)})),Object.assign({},t,{isTaskBot:!0,taskBot:Object.assign({},t.taskBot,i,{avatar:er(i.avatar,n)}),isVisibleInputAreaWhenTaskbot:o,enableChatInputWhenTaskbot:!0,chatStatus:ou,visitorStatus:Ud,webView:null,quickReply:null})},ry),Ry="taskBot/startTaskBot",Ly="taskBot/locationCancelled",Hy="taskBot/visitorSSOCancelled",qy="taskBot/meetingCancelled",Uy="taskBot/meetingSubmitted",Gy="taskBot/updateMessageIfDisable",Ky="taskBot/updateMessageIsProcessed",Yy="taskBot/microsoftBooking",Jy="bot/botFeedback",Qy=((sy={})[Ry]=function(t){return Object.assign({},t,{isTaskBot:!0,messages:t.messages.filter((function(t){return"system"===t.sender.type})),maxId:-1,chatStatus:ou,visitorStatus:Ud})},sy["taskBot/updateTaskBot"]=function(t,e){var n=e;return n&&n.avatar&&-1!==n.avatar.indexOf("|")&&(n=Object.assign({},n,{avatar:n.avatar.split("|")[1]})),Object.assign({},t,{taskBot:n})},sy[Gy]=function(t,e){var n=e.guid,i=e.ifDisable,o=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{ifDisable:i}):t}));return Object.assign({},t,{messages:o})},sy[Ky]=function(t,e){var n=e.guid,i=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{isProcessed:!0}):t}));return Object.assign({},t,{messages:i})},sy),Zy=["avatar"],Xy=["avatar","apiHost"],$y=[je,Ne,ge,we,"visitorSetEmail"],tC=function(t){var e=t.length,n=e-1,i=t[n];if(i&&$y.includes(i.type))for(var o=e-1;o>=0;o--)if(!$y.includes(t[o].type)){n=o;break}return n},eC=function(t,e){return t.concat(e)},nC=function(t,e,n){for(var i=function(){var i=t[o];if(n(i))return{v:t.map((function(t){return t===i?Object.assign({},e,{displayedText:t.displayedText}):t}))}},o=0;o<t.length;o+=1){var a=i();if("object"==typeof a)return a.v}return eC(t,e)},iC=function(t){return t.type!==ti&&t.type!==ai&&t.type!==oi&&t.type!==ri&&t.type!==ii&&t.type!==si&&t.type!==ci&&t.type!==di&&t.type!==ni&&t.type!==We&&t.type!==Kn&&t.type!==Yn&&t.type!==li&&t.type!==ui&&t.type!==gi&&t.type!==hi&&t.type!==fi&&t.type!==pi&&t.type!==wi&&t.type!==Jn},oC=function(t){return t.type!==ai&&t.type!==oi&&t.type!==ri&&t.type!==ii},aC=[li,ui,gi,hi,fi,pi,wi],rC=function(t){return aC.every((function(e){return t.type!==e}))},sC=function(t,e){return t.map((function(t){return(!e||t.sender.type!==tu)&&e||t.type!==Pn&&t.type!==qn&&t.type!==En&&t.type!==zn&&t.type!==Dn&&t.type!==Vn?t:Object.assign({},t,{ifDisable:!0,notShowLoading:!0})}))},cC=function(t){return t.map((function(t){return t.sender.type===eu&&t.type===vi?Object.assign({},t,{ifDisable:!0,isProcessed:!0}):t}))},dC=function(t){return t.map((function(t){return t.sender.type===tu&&t.type===yi?Object.assign({},t,{ifDisable:!0,isProcessed:!0}):t}))},lC=function(t){return t.map((function(t){return t.type===Pn||t.type===Vn?Object.assign({},t,{notShowLoading:!0}):t}))},uC=function(t,e){return t.messages.filter((function(t){return t.type===e})).length>0},pC=function(t){return function(e,n){var i=lC(e.messages);return Object.assign({},e,{isUploading:!0,error:"",warning:"",messages:i.concat({type:t,time:new Date,content:{fileName:n.fileName,percent:0,onCancel:void 0},sender:{type:Zl}}),quickReply:null})}},hC=function(t,e){dm()||sm({mediaChatHash:Date.now().toString()});var n=t.involvedAgents||[];return n.filter((function(t){return t===e})).length>0?Object.assign({},t,{chatStatus:ou,visitorStatus:Ud}):(n=(t.involvedAgents||[]).concat([e]),Object.assign({},t,{involvedAgents:n,chatStatus:ou,isChatBot:!1,webView:null,quickReply:null,visitorStatus:Ud}))},fC=function(t,e){var n=t.disPlayPriority+1;t.sideWindowItems.some((function(t){var i=t.id===e;return i&&(t.disPlayPriority=n),i}));var i=e===yu||e===Cu;return{sideWindowSelectedTab:e,disPlayPriority:n,showChatWindowInSidewindow:i,isFocused:i}},gC=function(t,e){var n=t.disPlayPriority;n?n+=1:n=0;var i=t.sideWindowItems,o=e.id,a=e.noFocus||!1,r=xa()&&e.id===vu&&a,s=e.id;return xa()&&(s=t.tab===Kl?Cu:yu,r&&(o=s)),i&&i.some((function(t){var i=t.id===e.id;return i&&(t.disPlayPriority=n),i}))?{sideWindowSelectedTab:o,showChatWindowInSidewindow:r,isFocused:!1,disPlayPriority:n}:(e.disPlayPriority=n,i&&0!==i.length||(i=[],xa()&&i.push({id:s,isSystem:!0,disPlayPriority:0})),i.push(e),{sideWindowItems:i,sideWindowSelectedTab:o,showChatWindowInSidewindow:r,isFocused:!1,disPlayPriority:n})},wC=function(t,e,n,i){return void 0===i&&(i=!1),e?gC(t,{id:n,isSystem:!0,noFocus:i}):function(t,e){var n=t.sideWindowItems;if(n){var i=-1;n.some((function(t,n){var o=t.id===e;return o&&(i=n),o}));var o={};if(i>-1)return 1===n.length||2===n.length&&xa()?(o.sideWindowSelectedTab=void 0,o.disPlayPriority=0,n=[]):t.sideWindowSelectedTab===e?(n.splice(i,1),o.sideWindowSelectedTab=n.reduce((function(t,e){return t.disPlayPriority>e.disPlayPriority?t:e})).id,o.sideWindowSelectedTab===yu||o.sideWindowSelectedTab===Cu?(o.showChatWindowInSidewindow=!0,o.isFocused=!0,o.maxReadId=Math.max(t.maxReadId,t.maxId)):(o.showChatWindowInSidewindow=!1,o.isFocused=!1)):n.splice(i,1),o.sideWindowItems=n,o}return{}}(t,n)},mC=function(t,e){return Object.assign({},t,wC(t,e.status===Lo||e.status===zo||e.status===Ho,_u),wC(t,e.status===Go||e.status===qo||e.status===Uo,xu),{vChatStatus:e.status,audioVideoChatStartTime:e.startTime||0,audio_video_disabled:e.status!==Ro})},bC=function(t){return Object.assign({},mC(t,{status:Ro,startTime:0}),{audioVideoAgentId:0,isRecording:!1})},vC=function(t){var e=Dw();if(e.removeItem("pushpage_list"),e.removeItem("botConfidenceAnswerLoading_list"),!t)return t;var n=sC(t.messages.filter(iC),!1);return n=cC(n.filter((function(t){return t.type!==_i}))),n=dC(n),Object.assign({},t,wC(t,!1,bu),wC(t,!1,vu),{disPlayPriority:0,chatStatus:au,error:"",warning:"",messages:n,webView:null,quickReply:null,visitorStatus:Zd})},_C=function(t,e){return n=t.chatGuid,((i=lm(n))?i===dm():(um(n),1))?e():t;var n,i},xC=function(t){return function(e,n){if(e.cobrowsing===t)return e;var i=t===Vl,o=t===El?n.content.sessionCode:void 0,a=t===El?n.content.groupId:void 0,r=t!==El?void 0:e.cobrowseCallId,s=t===Vl?n.sender.id:0;return Object.assign({},e,wC(e,i,ku),{cobrowsing:t,cobrowseSessionCode:o,cobrowseGroupId:a,cobrowseAgent:s,cobrowseCallId:r})}},yC=function(t,e){return!!t.crossSiteChatTransfer&&(!!e.siteId&&t.crossSiteChatTransfer.siteId!==e.siteId)},CC=function(){return function(t,e){return t.webView?Object.assign({},t,{webView:null}):t}},kC=function(){return function(t,e){if(e.type===Hn){var n=CC()(t,e);if(e.content.options&&e.content.options.length>0)return Object.assign({},n,{quickReply:{items:e.content.options.map((function(t){return{type:Ap,name:t.label}})),botId:e.content.botId,agentId:e.content.agentId}})}if(e.type===Wn&&e.content.textChatWithAgent)return Object.assign({},t,{quickReply:{items:[{type:Op,name:e.content.textChatWithAgent}],contactAgentText:e.content.textChatWithAgent}});if(e.type===zn||e.type===En||e.type===qn){var i=CC()(t,e);return Object.assign({},i,{quickReply:null})}if(e.type===Pn||e.type===Vn){var o=t;if(e.type===Pn&&(o=CC()(t,e)),e.content.intentAnswers&&e.content.intentAnswers.length>0){var a=null,r=e.content.intentAnswers.filter((function(t){return t.type===Wy}));r.length>0&&(a=r[r.length-1]);var s=0;return e.content.intentAnswers.forEach((function(t,e){s+=t.delayTime})),a&&a.content&&a.content.quickReplyItems&&a.content.quickReplyItems.length>0?Object.assign({},o,{quickReply:{delayTime:s-a.delayTime,items:a.content.quickReplyItems,contactAgentText:e.content.ifAgentOnline?a.content.agentOnlineText:a.content.agentOfflineText,botId:e.content.botId,agentId:e.content.agentId}}):Object.assign({},o,{quickReply:null})}}return Object.assign({},t,{quickReply:null,webView:null})}},SC=function(t,e,n,i,o,a){var r,s=Object.assign({},zy,((r={})[xi]=function(n){var i=cC(n.messages.filter((function(t){return t.id<e.id&&t.type!==_i})));return Object.assign({},t,{messages:i.concat(n.messages.filter((function(t){return t.id>=e.id}))),isTaskBot:!1,isVisibleInputAreaWhenTaskbot:!0,enableChatInputWhenTaskbot:!0})},r[Be]=function(t){if(yC(t,e))return t;var n=e.content.agent.id||e.senderId;return Object.assign({},hC(t,n),{involvedAgents:[n],isTaskBot:!1,webView:null})},r[Ne]=function(t){return yC(t,e)?t:hC(t,e.content.agent.id)},r[Ve]=function(t){return yC(t,e)?t:t.involvedAgents?t.involvedAgents.indexOf(e.senderId)>=0?t:Object.assign({},t,{involvedAgents:t.involvedAgents.concat(e.senderId)}):t},r[je]=function(t){var n=t.involvedAgents||[];return n.length<=1?t:Object.assign({},t,{involvedAgents:n.filter((function(t){return t.toString()!==e.sender.id.toString()}))})},r[Te]=function(t){return Object.assign({},t,wC(t,!1,bu),{chatStatus:au,visitorStatus:"refusedByOperator"})},r[be]=function(t){return Object.assign({},t,{quickReply:null,isVisibleInputAreaWhenBotChatting:!0})},r[he]=function(t){if(!(a||n).postchat)return vC(t);var e=cC(t.messages.filter((function(t){return t.type!==_i}))).filter((function(t){return t.type!==Tn})).concat({type:Tn,sender:{type:Xl}});return Object.assign({},t,{error:""},wC(t,!1,bu),{chatStatus:au,quickReply:null,webView:null,visitorStatus:Zd,messages:e})},r[ve]=function(t){return Object.assign({},t,{chatStatus:nu,quickReply:null,webView:null,visitorStatus:qd})},r[Gn]=function(t){return Object.assign({},t,{chatStatus:nu,quickReply:null,webView:null,visitorStatus:qd})},r[Fn]=function(t,e){return function(t,e,n){return Object.assign({},t,{isChatBot:!0,isTaskBot:!1,chatBot:Object.assign({},t.chatBot,function(){var t=e.content.bot;if(t&&t.avatar&&-1!==t.avatar.indexOf("|"))return t.avatar=er(t.avatar.split("|")[1],n),t;var i=t.avatar,o=B(t,Zy);return i=er(i,n),Object.assign({avatar:i},o)}()),chatStatus:ou,visitorStatus:Ud})}(t,e,o)},r[Je]=function(t){return _C(t,(function(){return mC(t,{status:Lo})}))},r[Ze]=function(t,e){return _C(t,(function(){return mC(t,{status:Ho,startTime:e.time-t.timeDelay})}))},r[bn]=function(t){return _C(t,(function(){return mC(t,{status:Go})}))},r[_n]=function(t,e){return _C(t,(function(){return mC(t,{status:Uo,startTime:e.time-t.timeDelay})}))},r[qe]=function(t,e){return t.vChatStatus!==Ro?t:_C(t,(function(){return Object.assign({},mC(t,{status:zo}),{audioVideoAgentId:e.sender.id})}))},r[Ge]=function(t,e){return _C(t,(function(){return Object.assign({},mC(t,{status:Ho,startTime:e.time-t.timeDelay}),{audioVideoAgentId:e.sender.id})}))},r[hn]=function(t,e){return t.vChatStatus!==Ro?t:_C(t,(function(){return Object.assign({},mC(t,{status:qo}),{audioVideoAgentId:e.sender.id})}))},r[gn]=function(t,e){return _C(t,(function(){return Object.assign({},mC(t,{status:Uo,startTime:e.time-t.timeDelay}),{audioVideoAgentId:e.sender.id})}))},r[Ue]=bC,r[Ke]=bC,r[Ye]=bC,r[mn]=bC,r[wn]=bC,r[fn]=bC,r[Cn]=bC,r[kn]=bC,r[tn]=bC,r[en]=bC,r[vn]=bC,r[xn]=bC,r[yn]=bC,r[Qe]=bC,r[Xe]=bC,r[$e]=bC,r[We]=function(t){return t.limitClockerCount>0?Object.assign({},t,{warning:"",limitClockerCount:0,stopLimitClocker:!0}):t},r.systemAudioIsBeingRecorded=function(t){return Object.assign({},t,{isRecording:!0})},r.systemVideoIsBeingRecorded=function(t){return Object.assign({},t,{isRecording:!0})},r[nn]=xC(Vl),r[cn]=xC(Fl),r[dn]=xC(Fl),r[ln]=xC(Fl),r[pn]=xC(Fl),r[un]=xC(Fl),r[sn]=xC(Fl),r[rn]=xC(Fl),r[on]=xC(El),r[an]=function(){var n=e.content;return Object.assign({},t,{cobrowseCallId:n})},r[yi]=kC(),r[Pn]=kC(),r[Hn]=kC(),r[Wn]=kC(),r[Vn]=kC(),r[Ln]=function(t,e){return t.webView&&t.webView.content&&t.webView.content.GUID&&e.content.GUID===t.webView.content.GUID?Object.assign({},t,{webView:Object.assign({},t.webView,{success:!0})}):t},r[qn]=kC(),r[zn]=kC(),r[En]=kC(),r[Rn]=kC(),r.cancelBotForm=kC(),r[Ae]=function(t){return Object.assign({},t,{visitorStatus:$d})},r)),c=s[e.type],d=t;return c&&(d=c(t,e,o)),d.isFocused&&(d=Object.assign({},d,{maxReadId:Math.max(t.maxReadId,t.maxId)})),d},IC=function(t){return Object.assign({fields:{name:"",email:"",phone:"",company:"",product:"",department:void 0,ticketId:void 0,custom:{}},forms:{prechat:"none",postchat:"none",offline:"none",rating:"none"},chatStatus:"none",messages:[],sourceMessages:[],maxId:-1,involvedAgents:[],draft:"",maxReadId:-1,isFocused:!1,isFrequencyLimited:!1,showPrelogin:!1,ssoUrl:"",queue:{},error:"",warning:"",fileUploadCount:0,disabled:!1,vChatStatus:Ro,audioVideoChatStartTime:0,stopLimitClocker:!1,limitClockerCount:0,popupBubble:"none",cobrowsing:Fl,cobrowseAgent:0,bottom:0,right:0,pendingMessage:void 0,maxAgentReadId:"",maxVisitorReadId:"",showToolbox:!1,visitorStatus:Xd,chatVersion:"",isMessageScrollBottom:!0},t)},MC=t(1)((function(t,e){return t.find((function(t){return t.guid===e.guid}))}));function OC(t){return IC({id:t.id,tab:zl,right:t.right,bottom:t.bottom})}var AC,BC,TC=function(t,e){var n=t;return 0===e.sourceMessages.length||t.find((function(t){return t.type===Ci}))&&t.forEach((function(t){if(t.type===Ci)if(t.sender.type===Xl)n=n.filter((function(t){return t.type!==he}));else{var i=function(t){for(var e=t.length-1;e>=0;e-=1)if(t[e].type===Ci&&t[e].extras&&"null"!==t[e].extras)return!0;return!1}(e.sourceMessages);i&&(n=n.filter((function(t){return t.type!==Ci})))}})),n},jC=Object.assign({},Qy,((cy={})[ws]=function(t,e){return Object.assign({},t,{pendingMessage:e})},cy[Dr]=function(t,e,n){var i=e.campaignId,o=e.crossSiteChatTransfer,a=e.chatInfo,r=n.right,s=n.bottom;return IC({id:i,tab:ql,involvedAgents:[],chatStatus:ou,visitorStatus:Ud,chatGuid:o.chatGuid,crossSiteChatTransfer:o,right:r,bottom:s,maxReadId:a.maxReadId,isFocused:a.windowStatus!==Ld})},cy[Mr]=function(t,e,n){var i=e.campaignId,o=n.right,a=n.bottom;return IC({id:i,tab:zl,right:o,bottom:a})},cy[Cc]=OC,cy[Pr]=OC,cy[xr]=function(t,e,n){var i=n.campaignId,o=n.right,a=n.bottom,r=e.chat;return t?Object.assign({},t,{chatGuid:r&&r.guid}):e.type===il||e.type===ol&&e.isManual?function(t,e,n,i){var o=e.isManual,a=o&&(e.type===ol||e.type===il),r=e.chat,s=Yd;return o&&(s=a?$d:Kd),IC({id:t,tab:ql,chatStatus:iu,chatGuid:r&&r.guid,right:n,bottom:i,messages:a?[]:[{id:-1,time:new Date,type:ei,sender:{id:e.agent?e.agent.id:0,type:Xl},content:e.text,guid:L()}],sourceMessages:[],involvedAgents:e.agent?[e.agent.id]:[],visitorStatus:s})}(i,e,o,a):t},cy[jr]=function(t,e){return Object.assign({},t,{right:e.right,bottom:e.bottom})},cy[Qr]=function(t,e){var n=e.buttonOffset;return t?Object.assign({},t,{right:n.right,bottom:n.bottom}):t},cy[ns]=function(t,e){return Object.assign({},t,e)},cy[ds]=function(t,e){return Object.assign({},t,{chatBot:function(){var t=e;if(t&&t.avatar&&-1!==t.avatar.indexOf("|"))return t.avatar=er(t.avatar.split("|")[1],e.apiHost),t;var n=t.avatar,i=t.apiHost,o=B(t,Xy);return n=er(n,i),Object.assign({avatar:n},o)}()})},cy[ls]=function(t,e){return Object.assign({},t,{chatbotContext:e})},cy[bd]=function(t,e){return Object.assign({},t,{kbConfig:e})},cy[is]=function(t,e,n){var i=n.campaign,o=(n.fields,n.downloadUrl),a=n.apiHost,r=n.crossSiteTransferCampaign,s=e;t.isMessageScrollBottom||(s=e.map((function(t){return Ta(t)||Na(t)||Pa(t)||Fa(t)||Wa(t)?Object.assign({},t,{isSeenByVisitor:!1}):t})));var c=s.filter((function(e){return!MC(t.sourceMessages,e)})),d=t.isVisibleInputAreaWhenBotChatting,l=c[c.length-1];l&&([Nn].includes(l.type)||[eu,Xl].includes(l.sender.type))&&(d=!0);var u=s.find((function(t){return t.type===Me})),p=t.visitorTyping;u&&(p=!1);var h=s[s.length-1].guid,f=s.find((function(t){return t.type===ve}))&&t.messages.find((function(t){return t.type===ve})),g=s.find((function(t){return t.type===fe}))&&t.messages.find((function(t){return t.type===fe})),w=s.filter((function(e){var n=(void 0===e.id||MC(c,e))&&e.type!==Me;return(!n||!f||e.type!==ve)&&((!n||!g||e.type!==fe)&&("botConfirmForm"!==e.type&&"visitorConfirmBotForm"!==e.type&&"agentAttachTicketFail"!==e.type&&((e.type!==he||!s.find((function(t){return t.type===Ci&&t.extras})))&&(n&&e.type===Ci?function(t,e){if(e.sender.type===Xl&&e.extras&&"null"!==e.extras)return!0;for(var n=!0,i=t.messages.length-1;i>=0;i-=1)if(t.messages[i].type===Ci&&t.messages[i].extras&&null!==t.messages[i].extras){n=!1;break}return n}(t,e):n))))})),m=function(t){var e=t.find((function(t){return t.type===bi})),n=t.find((function(t){return t.type===vi}));if(e&&n){var i=t.reduce((function(t,e,n){return e.type.toLowerCase().startsWith("visitor")?t.concat(n):t}),[]);if(i.length>0){var o=i[i.length-1];return t.map((function(t,e){return e<o&&t.type===vi?Object.assign({},t,{isProcessed:!0}):Object.assign({},t,{isProcessed:!1})}))}}return t}(w),b=m.reduce(function(t,e,n){return function(i,o){var a=o.type;if(a===Sn||"systemGotoOfflineMessage"===a)return i;var r=i;a!==jn&&(r=r.filter((function(t){return t.type!==jn}))),o.sender.type!==tu&&o.sender.type!==Xl||(r=lC(i));var s=Object.assign({},o,{time:new Date(o.time-e),originalTime:o.time});if(a===ve){var c=sC(r,!0);return eC(c,s)}if(s.sender.type===tu&&a===Nn){var d=r.filter((function(t){return t.type!==jn}));return d.forEach((function(t,e){t.type===yi&&(d[e]=Object.assign({},t,{content:Object.assign({},t.content,{isIntentEnd:!0})}))})),d}if(s.sender.type===tu&&s.type!==jn&&s.type!==Vn){var l=!1,u=r.map((function(t){return t.type!==jn||t.timeout||t.content!==s.content.messageGuid?t.type===jn&&t.content.messageGuid===s.content.messageGuid?(l=!0,t):t:(l=!0,s)}));return l?u:eC(r,s)}if(s.type===Be){var p=[].concat(r);return p=p.map((function(t){return t.sender&&t.sender.type===Xl&&0===t.sender.id?Object.assign({},t,{sender:Object.assign({},t.sender,{id:s.content.agent.id})}):t})),p=sC(p,!0),p=cC(p),p=dC(p),eC(p,s)}if(s.type===ze)return nC(r,s,(function(t){return t.type===Re&&t.content===s.content.guid}));if(s.type===be){var h=r.map((function(t){return t.type===zn?Object.assign({},t,{ifDisable:!0}):t}));return nC(h,s,(function(t){return t.type===Kn&&t.guid===s.guid}))}if(s.type===xe)return nC(r,s,(function(t){return t.type===Yn}));if(s.type===_e)return nC(r,s,(function(t){return t.type===Jn}));if(s.type===Se)return nC(r,s,(function(t){return t.type===ti}));if(s.type===Me)return r;if(s.type===he)return[].concat(r).map((function(t){return t.type!==Le||t.isHidden?t:Object.assign({},t,{isHidden:!0})})).concat([s,{id:s.id,type:Zn,content:t.startChatAgain,sender:{type:$l},guid:L()},t.downloadTranscript&&{id:s.id,type:Xn,content:{text:t.downloadTranscript,url:n},sender:{type:$l},guid:L()},{id:s.id,type:$n,content:t.buttonTranscript,sender:{type:$l},guid:L()}].filter((function(t){return t})));if(s.type===bn)return nC(r,s,(function(t){return t.type===oi}));if(s.type===Fn)return nC(r,s,(function(t){return t.type===oi}));if(s.type===Je)return nC(r,s,(function(t){return t.type===ii}));if(s.type===Ze||s.type===_n)return nC(r,s,(function(t){return t.type===ai}));if(s.type===Ce)return nC(r,s,(function(t){return t.type===si}));if(s.type===ke)return nC(r,s,(function(t){return t.type===ci}));if(s.type===Ie)return nC(r,s,(function(t){return t.type===di}));if(s.type===xn||s.type===yn||s.type===vn||s.type===Xe||s.type===$e||s.type===Qe)return eC(r.filter(oC),s);if(s.type===on||s.type===un||s.type===cn||s.type===sn||s.type===dn||s.type===rn||s.type===nn||s.type===an)return eC(r.filter(rC),s);if(s.type===We){var f=r.filter((function(t){return t.type!==We}));return eC(f,s)}if(s.type===Oe&&r.length>0){if(r[0].type===ei&&!r.find((function(t){return t.type===Fn})))return r.map((function(t,e){return 0===e?Object.assign({},t,{type:Oe,id:s.id},s):t}));var g=r.filter((function(t){return t.type!==We}));return eC(g,s)}if(s.type===Un){var w=r.map((function(t){return t.type===yi&&t.content.GUID===s.content.guid?Object.assign({},t,{disableRate:!0,visitorRate:s.content.visitorRate}):t}));return eC(w,s)}if(s.type===Ln){var m=r.map((function(t){var e=t.content.GUID||t.content.messageGuid;return t.type!==zn&&t.type!==yi||e!==s.content.GUID?t:Object.assign({},t,{ifDisable:!0})}));return eC(m,s)}return s.type===On?[].concat(r).filter((function(t){return t.type!==Tn})).concat(s).concat({type:Tn,sender:{type:Xl}}):s.type===Ci?[].concat(r).map((function(t){return t.type===In?Object.assign({},t,{content:Object.assign({},t.content,{isDisable:!0})}):t.type!==Le||t.isHidden?t:Object.assign({},t,{isHidden:!0})})).filter((function(t){return t.type!==jn&&t.type!==Tn})).concat(s):eC(r,s)}}(r.languages,t.timeDelay||0,o),t.messages);if((b=function(t){return t.map((function(e,n){return Object.assign({},e,{isProcessed:n<tC(t)})}))}(b))!==t.messages){var v=!1;b.forEach((function(t,e){t.type===vi&&(v=!!t.content.messages.some((function(t){return t.type===Iu||t.type===Mu||t.type===Ou||t.type===Au||t.type===Bu||t.type===ju||t.type===Tu||t.type===Wu||t.type===Eu||t.type===zu||t.type===Hu})))}));var _=b.filter((function(t){return t.type===Yn||t.type===Jn}));if(_.length>0){var x=b.filter((function(t){return t.type!==Yn&&t.type!==Jn})).concat(_);b=x}var y=w.reduce((function(t,e){return SC(t,e,i,0,a,r)}),Object.assign({},t,{messages:b,sourceMessages:t.sourceMessages.concat(TC(c,t)),visitorTyping:p,maxId:Math.max(t.maxId,s[s.length-1].id),chatVersion:h}));return y=function(t){var e=t.messages.map((function(e){return e.type!==Pn||t.chatStatus===ou&&t.isChatBot?e:Object.assign({},e,{disableRate:!0})}));return Object.assign({},t,{messages:e})}(y),y=function(t){var e=t.messages.reverse(),n=e.findIndex((function(t){return"visitorSubmitRatingForm"===t.type})),i=e.findIndex((function(t){return t.type===Tn}));return-1!==n&&n<i&&(e=e.filter((function(t){return t.type!==Tn}))),Object.assign({},t,{messages:e.reverse()})}(y),Object.assign({},y,{enableChatInputWhenTaskbot:!v,isVisibleInputAreaWhenBotChatting:d})}return p!==t.visitorTyping?Object.assign({},t,{visitorTyping:p,sourceMessages:t.sourceMessages.concat(c),maxId:Math.max(t.maxId,s[s.length-1].id),chatVersion:h}):Object.assign({},t,{sourceMessages:t.sourceMessages.concat(c),maxId:Math.max(t.maxId,s[s.length-1].id),chatVersion:h})},cy[as]=function(t,e){var n=function(t){return function(e,n){var i=n.options,o=void 0===i?{}:i,a=e.messages.concat({type:t,time:new Date,guid:n.guid,content:n.message||"",sender:{type:Zl},textType:o.textType,isPassword:o.textType===ye,isCollect:o.isCollect,displayedText:o.displayedText,quickReplyNextActionId:o.quickReplyNextActionId});return n.ifCardMasking&&(a=a.concat({type:ti,time:new Date,guid:n.guid,content:"",sender:{type:Zl}})),Object.assign({},e,{messages:a})}}(Kn)(t,e),i=lC(n.messages);return i=function(t){var e=t.length,n=t[e-2];if(n&&(n.type===vi&&n.content.messages.some((function(t){return t.type===Fu}))||n.type===yi)){var i=[].concat(t);return i.splice(e-2,1,Object.assign({},n,{isProcessed:!0})),i}return t}(i),Object.assign({},n,{messages:i,visitorTyping:!1,draft:"",quickReply:null})},cy["window/sendImage"]=pC(Yn),cy[rs]=pC(Jn),cy[Sc]=function(t,e){var n=Object.assign({},t);return t.chatStatus!==ou||(n.visitorTyping=!0,n.draft=e.message),n},cy[$r]=function(t,e){var n=!1,i=t.messages.map((function(t){return t.type===Jn||t.type===Yn?(n=!0,Object.assign({},t,{content:Object.assign({},t.content,{fileName:e.name,percent:e.percent,onCancel:e.onCancel})})):t}));return n?Object.assign({},t,{messages:i}):t},cy[es]=function(t,e){if(!t||!t.messages)return t;var n=t.messages.filter((function(t){return t.type!==Jn&&t.type!==Yn})),i="";return"string"==typeof e?i=e:"object"==typeof e&&null!==e&&(i=e.message||""),t.chatStatus===au&&(i=""),Object.assign({},t,{messages:n,error:i,isUploading:!1})},cy[ts]=function(t,e){if(!t||!t.messages)return t;var n=t.messages.map((function(t){return t.type===Jn||t.type===Yn?Object.assign({},t,{content:Object.assign({},t.content,{fileName:e.name,fileKey:e.key,isUseStandbyFileService:e.isUseStandbyFileService,percent:e.percent,onCancel:e.onCancel})}):t}));return Object.assign({},t,{error:"",isUploading:!1,fileUploadCount:t.fileUploadCount+1,messages:n})},cy[Zc]=function(t,e){var n;return Object.assign({},t,{forms:Object.assign({},t.forms,(n={},n[e]=Jl,n)),error:"",warning:""})},cy[Xc]=function(t,e,n){var i;return Object.assign({},t,{forms:Object.assign({},t.forms,(i={},i[e]=Ql,i))})},cy[us]=function(t,e){return Object.assign({},t,{messages:t.messages.concat([{type:Qn,sender:{type:$l},content:e,guid:L()}])})},cy[$c]=function(t,e){var n;return Object.assign({},t,{forms:Object.assign({},t.forms,(n={},n[e]="fail",n))})},cy[nd]=function(t,e){var n;if(e.custom){var i=Object.assign({},t.fields.custom,e.custom);n=Object.assign({},t.fields,e,{custom:i})}else n=Object.assign({},t.fields,e);return Object.assign({},t,{fields:n})},cy[id]=function(t,e){var n=t.fields.custom;e.custom&&(n=Object.assign({},t.fields.custom,e.custom),Object.keys(t.fields.custom).forEach((function(e){t.fields.custom[e]&&(n[e]=t.fields.custom[e])})));var i=Object.assign({},t.fields,e,{custom:n});return Object.keys(t.fields).forEach((function(e){"custom"!==e&&t.fields[e]&&(i[e]=t.fields[e])})),Object.assign({},t,{fields:i})},cy[Br]=function(t,e,n){var i=t.visitorStatus;e===Gl&&(i=Jd);var o=Object.assign({},t,{tab:e,visitorStatus:i});if(e===Gl&&n){var a=o.messages.filter((function(t){return t.type===be})).map((function(t){return t.content})).join(",");o=Object.assign({},o,{fields:Object.assign({},o.fields,{content:a})})}return o},cy[ss]=function(t){return Object.assign({},t,{chatStatus:nu,allowWaitingSendMessage:t.isChatBot||t.chatStatus===iu})},cy[Fs]=function(t,e){return Object.assign({},t,{messages:t.messages.map((function(t){return t.type!==Le?t:t.content.url.indexOf("otk="+e)>0?Object.assign({},t,{isHidden:!0}):t}))})},cy[cs]=function(t){return function(t){return Object.assign({},t,{isChatBot:!0,isTaskBot:!1,chatStatus:ou,messages:t.messages.filter((function(t){return"system"===t.sender.type})),maxId:-1,visitorStatus:Ud})}(t)},cy[Ps]=function(t,e){return t&&t.error!==e?Object.assign({},t,{error:e}):t},cy[Ds]=function(t,e){return t&&t.warning!==e?Object.assign({},t,{warning:e,stopLimitClocker:""===e||t.stopLimitClocker,limitClockerCount:""===e?0:t.limitClockerCount}):t},cy[Ks]=vC,cy[ps]=function(t,e){var n=0;return e.serverTime>0&&(n=H(e.serverTime)),Object.assign({},t,{chatGuid:e.chatGuid,requestTime:e.serverTime,timeDelay:n})},cy[Ys]=function(t,e){return null==t||t.isFocused===e?t:Object.assign({},t,{isFocused:e,maxReadId:e?Math.max(t.maxId,t.maxReadId):t.maxReadId})},cy[js]=function(t,e){return e===Hd?null:e===Ld?Object.assign({},t,{isFocused:!1,maxReadId:Math.max(t.maxId,t.maxReadId)}):(e===Rd&&q&&Oy("livechat.chatwindow.restore"),e===zd||e===Rd?Object.assign({},t,{isFocused:!0,maxReadId:Math.max(t.maxId,t.maxReadId)}):t)},cy[Js]=function(t,e){return Object.assign({},t,{ifHideBio:e})},cy[yc]=function(t,e){if(t.chatStatus===ou&&t.isChatBot){var n=t.messages.map((function(t){return t.type===Pn&&t.content.GUID===e.actionGuid?Object.assign({},t,{disableRate:!0}):t}));return Object.assign({},t,{messages:n})}return t},cy[Tr]=function(t,e,n){var i,o=n.maxLength,a=n.languages,r=((i={})[fu]=function(){return a.promptInputLimit.replace(Ii,o)},i[hu]=function(){return"File must not be empty."},i[pu]=function(){return a.promptFileSizeExceed.replace("{fileSize}",e.params.fileSize)},i[gu]=function(){return"You're sending messages too frequently. Please wait for "+e.params.seconds+" second(s) and try again."},i[wu]=function(){return a.promptSendFileCountLimit.replace("{fileCount}",e.params.fileCount)},i[mu]=function(){return"This file type is not supported."},i);return e.type===gu&&e.params.fromClocker&&t.stopLimitClocker?t:e.type===gu&&t.limitClockerCount>=10?Object.assign({},t,{warning:"",limitClockerCount:0,stopLimitClocker:!0}):r[e.type]?Object.assign({},t,{warning:r[e.type](),stopLimitClocker:e.type!==gu&&t.stopLimitClocker,limitClockerCount:e.type===gu?t.limitClockerCount+1:t.limitClockerCount}):t},cy[_c]=function(t){var e=t.messages;return e[0].type===ei&&(e=e.map((function(t,e){return 0===e?Object.assign({},t,{type:Oe}):t}))),Object.assign({},t,{isVisibleInputAreaWhenBotChatting:!0,chatWithAgentClicked:!0,messages:e,webView:null,quickReply:null})},cy[Qs]=function(t,e){return e===t.disabled?t:Object.assign({},t,{disabled:e})},cy[Or]=function(){return null},cy[kc]=function(t,e){return 0===e.position&&0===e.waitTime?t:Object.assign({},t,{queue:{position:e.position,waitTime:Math.ceil(e.waitTime/60)}})},cy["window/updateVideoStatus"]=mC,cy[qr]=function(t,e){return Object.assign({},t,{showChatWindowInSidewindow:t.showChatWindowInSidewindow&&!e,maxReadId:t.showChatWindowInSidewindow&&!e?Math.max(t.maxReadId,t.maxId):t.maxReadId,audio_video_disabled:!0,isFocused:t.showChatWindowInSidewindow&&!e})},cy[Hr]=function(t,e){return Object.assign({},t,{showChatWindowInSidewindow:t.showChatWindowInSidewindow&&!e,maxReadId:t.showChatWindowInSidewindow&&!e?Math.max(t.maxReadId,t.maxId):t.maxReadId,audio_video_disabled:!0,isFocused:t.showChatWindowInSidewindow&&!e})},cy[Lr]=function(t,e){var n=Object.assign({},t.fields,{rating:e.score,comment:e.comment});return Object.assign({},t,{fields:n})},cy[Ic]=function(t,e){var n=[];return e.forEach((function(e){(e.type!==ai||uC(t,ai))&&(e.type!==ri||uC(t,ri))&&(e.type!==di||uC(t,di))&&(e.type!==ui||uC(t,gi)||t.cobrowsing===Fl)?e.type!==ri&&e.type!==ai&&e.type!==di&&n.push(e):n.push(e)})),Object.assign({},t,{messages:t.messages.concat(n)})},cy[Pc]=function(t,e){var n={};return n.showChatWindowInSidewindow=e===yu,n.isFocused=n.showChatWindowInSidewindow,n.maxReadId=n.showChatWindowInSidewindow?Math.max(t.maxReadId,t.maxId):t.maxReadId,Object.assign({},t,n,fC(t,e))},cy[Dc]=function(t,e){return e?t.sideWindowSelectedTab?t:t.sideWindowItems&&0!==t.sideWindowItems.length?Object.assign({},t,fC(t,t.sideWindowItems[0].id)):t:t.sideWindowSelectedTab?Object.assign({},t,{sideWindowSelectedTab:void 0}):t},cy[Oc]=function(t){return bC(t)},cy[Fc]=function(t){return Object.assign({},t,wC(t,!1,bu))},cy["sideWindow/showKnowledgeBaseInfo"]=function(t){return Object.assign({},t,wC(t,!0,bu))},cy[Vc]=function(t){return Object.assign({},t,wC(t,!1,Su))},cy[Ec]=function(t,e){return Object.assign({},t,function(t,e,n){var i=t.sideWindowItems;i&&i.some((function(t){var i=t.id===e;return i&&(t.id=n),i}));var o=t.sideWindowSelectedTab;return{sideWindowItems:i,sideWindowSelectedTab:o===e?n:o}}(t,e.targetTab,e.newTab))},cy[hs]=function(t,e){return Object.assign({},t,{maxReadId:e})},cy["window/updateWindowId"]=function(t,e){return Object.assign({},t,{id:e})},cy[fs]=function(t,e,n){return n?null:t},cy[gs]=function(t,e){return t?t.popupBubble===e?t:Object.assign({},t,{popupBubble:e,autoEjectTranscript:!1}):t},cy[Wc]=function(t,e){var n=t;e&&e.length>0&&[].concat(e).forEach((function(t){n=gC(n,t)}));return Object.assign({},t,n)},cy[Lc]=function(t,e){return t?t.frequencyLimitState===e?t:Object.assign({},t,{frequencyLimitState:e}):t},cy[oc]=function(t,e){return Object.assign({},t,function(t,e,n){var i=t.fields||{};return i[e]=n,{fields:i}}(t,go,e))},cy[sd]=function(t,e){return null==t||t.id===e?t:Object.assign({},t,{id:e})},cy[os]=function(t){return t?Object.assign({},t,{messages:t.messages.filter((function(t){return t.type!==We}))}):t},cy[dd]=function(t){return t},cy[ld]=function(t){var e=t.messages.length,n=t.messages.map((function(t,n){return Object.assign({},t,{id:n-e})}));return Object.assign({},t,{maxId:-1,maxReadId:-1,messages:n})},cy[gd]=function(t){return Object.assign({},t,{kbChatWithAgentClicked:!0})},cy[ud]=function(t){return Object.assign({},t,{kb:Object.assign({},t.kb,{isLoading:!0})})},cy[hd]=function(t,e){var n=e.map((function(t){return t.id}));return Object.assign({},t,{kb:Object.assign({},t.kb,{articles:n,isLoading:!1}),error:""})},cy[fd]=function(t,e){return Object.assign({},t,wC(t,!0,bu),{kb:Object.assign({},t.kd,{activeArticle:e}),error:""})},cy[wd]=function(t,e){return Object.assign({},t,wC(t,!0,bu),{kb:Object.assign({},t.kb,{activeArticle:e})})},cy[Cd]=function(t,e){return Object.assign({},t,wC(t,!0,Su),{pushPage:Object.assign({},t.pushPage,{url:e})})},cy[md]=function(t){return Object.assign({},t,{error:"Network error",kb:{isLoading:!1}})},cy["window/error-articleByID"]=function(t,e){return Object.assign({},t,{error:404===e?"Page not found":"Network error"})},cy[kd]=function(t,e){return Object.assign({},t,{webView:e})},cy[Sd]=function(t){return Object.assign({},t,{webView:null})},cy[Id]=function(t){return Object.assign({},t,{webView:Object.assign({},t.webView,{ifLoading:!0})})},cy[Md]=function(t,e){return Object.assign({},t,{webView:Object.assign({},t.webView,{ifLoading:!1,visitorInfo:e})})},cy[vd]=function(t,e){return Object.assign({},t,wC(t,!0,vu,e.noFocus),{botSideWindow:e})},cy[_d]=function(t){return Object.assign({},t,wC(t,!1,vu),{botSideWindow:null})},cy[xd]=function(t){for(var e=t.messages,n=e.length-1;n>=0&&e[n].type!==nn;n-=1);return Object.assign({},xC(Fl)(t),{messages:e.slice(0,n).concat(e.slice(n+1,e.length))})},cy[Gc]=function(t){return Object.assign({},t,{messages:t&&t.messages?t.messages.filter(oC).filter(rC):[]})},cy[ms]=function(t,e){return e!==t.maxAgentReadId?Object.assign({},t,{maxAgentReadId:e}):t},cy[bs]=function(t,e){return Object.assign({},t,{maxVisitorReadId:e})},cy[Bd]=function(t,e){return Object.assign({},t,{messages:t.messages.map((function(t){if(t.type===zn&&t.content.GUID===e.guid){var n=t.content.fields.map((function(t){var n=e.fieldsValue[t.id];return n?t.type===Bo&&n.value.indexOf(Si)>-1?Object.assign({},t,{value:n.value.split(Si)}):Object.assign({},t,{value:n.value}):t}));return Object.assign({},t,{content:Object.assign({},t.content,{fields:n})})}return t}))})},cy["window/updateChatbotSendFormMessage"]=function(t,e){return Object.assign({},t)},cy[Nr]=function(t,e){return t.showToolbox===e?t:Object.assign({},t,{showToolbox:e})},cy[vs]=function(t,e){return t.visitorStatus===e?t:Object.assign({},t,{visitorStatus:e})},cy[_s]=function(t,e){return t?t.chatVersion===e?t:Object.assign({},t,{chatVersion:e}):t},cy[xs]=function(t,e){return t.emailToSendTranscript===e?t:Object.assign({},t,{emailToSendTranscript:e})},cy[Td]=function(t){return Object.assign({},t,{quickReply:null})},cy["window/setIsRecording"]=function(t,e){return t.isRecording===e?t:Object.assign({},t,{isRecording:e})},cy[Tc]=function(t,e){var n=e.guid,i=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{isProcessed:!0}):t}));return Object.assign({},t,{messages:i})},cy[jc]=function(t,e){var n=e.guid,i=e.ifDisable,o=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{ifDisable:i}):t}));return Object.assign({},t,{messages:o})},cy[ks]=function(t,e){var n=Object.assign({},t.crossSiteChatTransfer,{campaignId:e});return Object.assign({},t,{crossSiteChatTransfer:n})},cy[Os]=function(t,e){var n=Object.assign({},t.crossSiteChatTransfer,{visitorGuid:e});return Object.assign({},t,{crossSiteChatTransfer:n})},cy[Ss]=function(t,e,n){var i=e.isTransferDone,o=e.chatGuid,a=Object.assign({},t.crossSiteChatTransfer,{isTransferDone:i,chatGuid:o});return Object.assign({},t,{crossSiteChatTransfer:a,sourceMessages:i?t.sourceMessages:t.sourceMessages.map((function(t){return Object.assign({},t,{siteId:n})}))})},cy[Is]=function(t,e){return Object.assign({},t,{crossSiteChatTransfer:e})},cy[Ms]=function(t,e){var n=Object.assign({},t.crossSiteChatTransfer,{configuration:e});return Object.assign({},t,{crossSiteChatTransfer:n})},cy[As]=function(t,e){return Object.assign({},t,{fields:Object.assign({},t.fields,{rating:void 0,comment:void 0})})},cy[Zs]=function(t,e){var n=t.crossSiteChatTransfer;return Object.assign({},t,{crossSiteChatTransfer:Object.assign({},n,{configuration:Object.assign({},n.configuration,{serverInstanceTag:e})})})},cy[Zs]=function(t,e){var n=t.crossSiteChatTransfer;return Object.assign({},t,{crossSiteChatTransfer:Object.assign({},n,{configuration:Object.assign({},n.configuration,{serverInstanceTag:e})})})},cy[Pd]=function(t,e){return Object.assign({},t,{isVisibleInputAreaWhenBotChatting:e})},cy[Uc]=function(t,e){var n=t.chatbotContext,i=n.variables||{},o=e.variableName,a=e.variableValue;return o&&a&&(i[o]=a),Object.assign({},t,{chatbotContext:Object.assign({},n,{variables:Object.assign({},i)})})},cy[Dd]=function(t,e){return null===t?t:Object.assign({},t,{isMessageScrollBottom:e})},cy[Wd]=function(t){return Object.assign({},t,{messages:t.messages.map((function(t){return!1===t.isSeenByVisitor?Object.assign({},t,{isSeenByVisitor:!0}):t}))})},cy[Bs]=function(t,e){return Object.assign({},t,{autoEjectTranscript:e})},cy[Ts]=function(t){return Object.assign({},t,{messages:t.messages.filter((function(t){return t.type!==Tn})),forms:Object.assign({},t.forms,{rating:Yl})})},cy[Ws]=function(t,e){return Object.assign({},t,{width:e})},cy[Fd]=function(t,e){return null===t?t:Object.assign({},t,{isPostChatVisible:e})},cy)),NC=P(null,jC),PC=P({},((AC={})[wr]=function(t,e){return Object.assign({},t,e)},AC[mr]=function(t,e){return Object.assign({},t,{messageLengthLimit:e})},AC[hc]=function(t){var e=[].concat(t.heartbeat.online);return e=0===e[0].duration&&0===e[0].timespan?e.filter((function(t,e){return 0!==e})):[{duration:0,timespan:0}].concat(e),Object.assign({},t,{heartbeat:Object.assign({},t.heartbeat,{online:e})})},AC[br]=function(t,e){return Object.assign({},t,{serverInstanceTag:e})},AC)),DC=function(t,e){return t.entities.campaigns.entities[e||t.window.id].languages},WC=function(t,e,n){return Object.assign({},e,{config:DC(t,n)})};function FC(t,e){var n=$g(t,e),i=tw(t,e);if(!n)return i;var o={right:n.right||i.right,bottom:n.bottom||i.bottom},a=void 0!==n.top,r=void 0!==n.left;if((a||r)&&(o.right=n.right||0,o.bottom=n.bottom||0),a){var s=_g(t);o.bottom=s-n.top-n.height}if(r){var c=xg(t);o.right=c-n.left-n.width}return o}var VC=((BC={})[Mr]=function(t,e){var n=FC(t,e.payload.campaignId);return Object.assign({},e,{config:n})},BC[Dr]=function(t,e){var n=FC(t,e.payload.campaignId);return Object.assign({},e,{config:n})},BC[xr]=function(t,e){var n=zb(t),i=e.payload.campaignId,o=FC(t,i),a=o.right,r=o.bottom,s=function(t,e){return qg(t,e).type}(t,i);return Object.assign({},e,{config:{right:a,bottom:r,campaignId:i,ifHideAgentName:_p(t),agentDefaultName:n&&n.operatorDefaultName||"Agent",buttonType:s,apiHost:Kb(t)}})},BC[Tr]=function(t,e){return Object.assign({},e,{config:{languages:DC(t),maxLength:bp(t)}})},BC[dd]=function(t,e){return WC(t,e)},BC[is]=function(t,e){var n=qp(t),i=Hp(t),o=t.entities.fields.entities,a=function(t){return tg(t),ah(t),ig(t),Hb(t)+"/download.ashx?siteId="+$f(t)+"&chatGuid="+ah(t)+"&visitorGuid="+ng(t)+"&TranscriptPDF=1"}(t),r=_p(t),s=n&&n.languages,c=s?s.operatorDefaultName:"Agent",d=Kb(t);return Object.assign({},e,{config:{campaign:n,fields:o,downloadUrl:a,ifHideAgentName:r,agentDefaultName:c,apiHost:d,crossSiteTransferCampaign:i}})},BC[Xc]=function(t,e){return WC(t,e,ib(t))},BC[fs]=function(t,e){return Object.assign({},e,{config:Wb(t)})},BC[Rc]=function(){return Bv()},BC[Br]=function(t,e){var n=cg(t)===cl;return Object.assign({},e,{config:n})},BC[wd]=function(t,e){var n=function(t,e){return D(t,"entities.kbArticles.entities."+e)}(t,e.payload);return Object.assign({},e,{payload:n})},BC[Er]=function(t,e){var n=_p(t),i=function(t){return Ju(t,Jf(t))}(t),o=i&&i.languages,a=o?o.operatorDefaultName:"Agent",r=Kb(t);return Object.assign({},e,{config:{ifHideAgentName:n,agentDefaultName:a,apiHost:r}})},BC[js]=function(t,e){if(e.payload!==Hd)return e;if(t.window&&t.window.crossSiteChatTransfer){var n=t.window.crossSiteChatTransfer.campaignId;return n===t.page.campaignId?e:Object.assign({},e,{config:{transferCampaignId:n}})}return e},BC[Or]=function(t,e){if(t.window&&t.window.crossSiteChatTransfer){var n=t.window.crossSiteChatTransfer.campaignId;return n===t.page.campaignId?e:Object.assign({},e,{config:{transferCampaignId:n}})}return e},BC[Ss]=function(t,e){return Object.assign({},e,{config:$f(t)})},BC),EC=i({app:Ed,page:_l,entities:Wl,window:NC,configuration:PC}),zC=function(t,e){return e.payload&&e.payload.window&&e.type===jd?function(t,e){var n=Object.assign({},e.payload.window,{messages:e.payload.window.messages.map((function(t){return Object.assign({},t,{time:new Date(t.time)})}))}),i=z(),o=Object.assign({},e.payload.page,{height:i.height,width:i.width});return Object.assign({},t,{configuration:e.payload.configuration,entities:e.payload.entities,page:o,window:n})}(t,e):EC(t,function(t,e){return VC[e.type]?VC[e.type](t,e):e}(t,e))},RC="",LC=function(){var t=rm().popout;if(t){var e={};return t.ticketId&&(e.ticketId=t.ticketId),t.departmentId&&(e.department=t.departmentId),e}return{}},HC="granted",qC="denied",UC="notsupported",GC=function(){var t=[HC,"default",qC,UC],e=["auto","ltr","rtl"],n=-1,i=["click","scroll","focus"],o=function(t){var e=t.lastIndexOf(".");return(-1!==e?t.substr(0,e):t)+".ico"};function a(){var t=j.createElement("div");this.addEventListener=function(e,n){t.addEventListener(e,n.bind(this))},this.removeEventListener=function(e,n){t.removeEventListener(e,n.bind(this))},this.dispatchEvent=function(e){if("string"==typeof e)try{t.dispatchEvent(new Event(e))}catch(i){var n=j.createEvent("Event");n.initEvent(e,!1,!0),t.dispatchEvent(n)}}}function r(){}function s(){var t=this;a.call(this);var e=n;Object.defineProperties(this,{close:{value:function(){var t=this;e===n&&(window.external.msSiteModeClearIconOverlay(),i.forEach((function(e){N.removeEventListener(e,t.close)})),this.dispatchEvent("click"),this.dispatchEvent("close"),e=null)}.bind(this)}}),this.close(),this.icon&&window.external.msSiteModeSetIconOverlay(o(this.icon),this.description||this.title),window.external.msSiteModeActivate(),this.dispatchEvent("show"),i.forEach((function(e){N.addEventListener(e,t.close)})),e=n+=1}var c=window.Notification||window.webkitNotifications&&r||"external"in window&&"msIsSiteMode"in window.external&&void 0!==window.external.msIsSiteMode()&&s||a;function d(t,n){var i=t;if(!arguments.length)throw TypeError('Failed to construct "Notification": 1 argument required, but only 0 present.');if(""===i&&(i="\b"),arguments.length>1&&"object"!=typeof n)throw TypeError('Failed to construct "Notification": parameter 2 ("options") is not an object.');var o=Object(n),a=o.dir;if(void 0!==a&&-1===e.indexOf(a))throw TypeError('Failed to construct "Notification": The provided value "'+a+'" is not a valid enum value of type NotificationDirection.');var r=new c(i,o);return r.body||Object.defineProperty(r,"body",{value:String(o.body||"")}),r.data||Object.defineProperty(r,"data",{value:o.data||null}),r.dir||Object.defineProperty(r,"dir",{value:a||e[0]}),r.icon||Object.defineProperty(r,"icon",{value:String(o.icon||"")}),r.lang||Object.defineProperty(r,"lang",{value:String(o.lang||"")}),r.requireInteraction||Object.defineProperty(r,"requireInteraction",{value:Boolean(o.requireInteraction)}),r.silent||Object.defineProperty(r,"silent",{value:Boolean(o.silent)}),r.tag||Object.defineProperty(r,"tag",{value:String(o.tag||"")}),r.title||Object.defineProperty(r,"title",{value:String(i)}),r.timestamp||Object.defineProperty(r,"timestamp",{value:(new Date).getTime()}),r}return Object.defineProperty(a,"permission",{enumerable:!0,get:function(){return UC}}),Object.defineProperty(a,"requestPermission",{enumerable:!0,writable:!0,value:function(t){t(this.permission)}}),Object.defineProperty(s,"permission",{enumerable:!0,get:function(){return window.external.msIsSiteMode()?HC:qC}}),Object.defineProperty(s,"requestPermission",{enumerable:!0,writable:!0,value:function(){var t=this;return new Promise((function(e){e(t.permission)}))}}),Object.defineProperty(s,"PERMISSION_REQUEST_MESSAGE",{writable:!0,value:"IE supports notifications in pinned mode only. Pin this page on your taskbar to receive notifications."}),Object.defineProperty(r,"permission",{enumerable:!0,get:function(){return t[window.webkitNotifications.checkPermission()]}}),Object.defineProperty(r,"requestPermission",{enumerable:!0,writable:!0,value:function(){return new Promise((function(t){window.webkitNotifications.requestPermission((function(e){t(e)}))}))}}),c.permission||Object.defineProperty(c,"permission",{enumerable:!0,get:function(){return c.permissionLevel&&c.permissionLevel()}}),Object.defineProperty(d,"permission",{enumerable:!0,get:function(){return c.permission}}),Object.defineProperty(d,"requestPermission",{enumerable:!0,value:function(){return new Promise((function(t,e){var n=c.requestPermission((function(e){t(e)}));n&&("function"==typeof n.then&&"function"==typeof n.catch?t(n):e(n))}))}}),d}(),KC=GC.requestPermission,YC="video-request",JC="video-end",QC=function(){var t={},e=function(e){if(null==e)return Promise.reject("sound url is null");if(t[e])return Promise.resolve(t[e]);var n=new Promise((function(t,n){var i=new Audio(e);i.oncanplay=function(){i.oncanplay=null,t(i)},i.onerror=n}));return t[e]=n,n};return{play:function(t,n){return e(t).then((function(t){return t.loop=n?"loop":"",t.play()}))},stop:function(t){return e(t).then((function(t){t.loop=""}))}}}(),ZC=G(QC.play,500),XC=K((function(t,e){if(GC.permission===HC){var n=new GC(W.host,{body:t,icon:e,tag:"livechat_notify"}),i=null;n.onclick=function(){N.focus(),n.close()},n.onshow=function(){i=setTimeout((function(){n.close(),i=null}),5e3)},n.onclose=function(){i&&clearTimeout(i)}}}),50);function $C(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent}var tk,ek=function(){return{type:Ly,payload:{type:"locationCancelled"}}},nk=function(){return{type:Hy,payload:{type:"visitorSSOCancelled"}}},ik=function(){return{type:qy,payload:{type:"meetingCancelled"}}},ok=function(){return{type:Yy,payload:{type:"microsoftBooking"}}},ak=function(t){var e=t.eventUri,n=t.inviteeUri;return{type:Uy,payload:{bookMeetingEventUri:e,bookMeetingEventInviteeUri:n,type:"meetingSubmitted"}}},rk=function(t){return{payload:t,type:Gy}},sk=function(t){return{type:Ky,payload:{guid:t}}},ck="chat",dk="chatbot",lk="taskbot",uk="offline",pk="systemProcessing",hk=((tk={}).prechat=function(t){t(t_(Hl)),t($_(Gd)),t(zv(Gd))},tk[ck]=function(t,e){Ah(e)||(t({type:ss}),t(t_(ql)),t($_(qd)),t(zv(qd)))},tk[dk]=function(t,e,n){var i,o=Kb(e);t((n.url,i=Object.assign({apiHost:o},n.bot),{type:ds,payload:i})),t({type:cs}),t(t_(ql)),t($_(Ud)),t(zv(Ud))},tk[lk]=function(t,e,n){t({type:Ry}),t(t_(ql)),t($_(Ud)),t(zv(Ud))},tk[uk]=function(t){t(t_(Gl)),t($_(Jd)),t(zv(Jd))},tk.sso=function(t,e,n){t(e_(lp(e,n.url),n.showPrelogin,n.ifOpenSignInPageEmbeddedWindow));var i=Y(N.location.href,"ssoInfo");if(i){t(xx(i));var o=N.location.href.substring(0,N.location.href.indexOf("&ssoInfo="));N.history.replaceState(N.history.state,document.title,o)}else n.showPrelogin?t(t_(Rl)):t(t_(Ll)),n.showPrelogin||n.ifOpenSignInPageEmbeddedWindow||(tp(e)?t(ox()):t(ix()));t($_(Xd)),t(zv(Xd))},tk.kb=function(t){t(t_(Kl)),t($_(el)),t(zv(el))},tk),fk=function(t,e,n){if(n.next===ck||n.next===dk||n.next===lk){var i=n.chatGuid,o=n.serverTime;t(m_(i,o)),setTimeout((function(){return t(Wx(),0)}))}if("kb"===n.next){var a=n.ifOnline,r=n.id,s=n.greetingMessage,c=n.maxCount;t(gv(Rp(e),a)),t({type:bd,payload:{id:r,greetingMessage:s,maxCount:c}})}else t(gv(Rp(e),n.next!==uk));(hk[n.next]||function(){})(t,e,n)},gk=1004,wk=1036,mk=314,bk=1050,vk=4342338,_k="GET";function xk(t){return/\bjson\b/gi.test(function(t){return t.contentType?t.contentType:t.getResponseHeader?t.getResponseHeader("content-type"):null}(t))?JSON.parse(t.responseText):t.responseText}function yk(t,e,n,i,o){return new Promise((function(a,r){var s=function(){if("withCredentials"in new XMLHttpRequest)return new XMLHttpRequest;if(window.XDomainRequest)return new window.XDomainRequest;throw new Error("No CORS support.")}(),c=R((function(t,i){return r({url:e,input:n,error:{code:t,message:i,statusCode:s.status}})}),vk);!function(t,e,n){if(window.XDomainRequest&&t instanceof window.XDomainRequest&&/^https?:/.test(n)){var i=W.href.toString().match(/^(https?):/)[1];t.open(e,i+n.substr(n.indexOf(":")),!0)}else t.open(e,n,!0)}(s,t,e),s.withCredentials=!(n instanceof window.FormData)&&t!==_k,o&&o.forEach((function(t){return s.setRequestHeader(t.prop,t.value)})),function(t,e){if(e){var n=function(){t.abort()};t.upload&&t.upload.addEventListener("progress",(function(t){var i=t.lengthComputable?Math.round(100*t.loaded/t.total):void 0;e(i,n)}),!1),e(void 0,n)}}(s,i),s.onload=function(){if(null==s.status||s.status>=200&&s.status<300)a({url:e,input:n,output:xk(s)});else{var t="http error "+s.status;if(s.responseText)try{t=JSON.parse(s.responseText).message}catch(t){}c(t)}},s.onabort=function(){return c("")},s.ontimeout=function(){return c("request timeout")},s.onerror=function(){return c("network error")},s.onprogress=function(){},null!=window.FormData&&n instanceof window.FormData?(s.timeout=ny,s.send(n)):(s.timeout=ey,s.send(JSON.stringify(n)))}))}var Ck,kk,Sk=R(yk,_k),Ik=R(yk,"POST"),Mk=Sk,Ok=Ik,Ak=function(t,e,n,i,o){var a=new FormData;return a.append("file",e,o),Ok(t,a,i,[{prop:"Authorization",value:"Bearer "+n.token}])},Bk=function(t,e,n,i){var o=n.replace(/\/campaign\.ashx.*$/i,""),a=function(t){return t&&o+(/^\//.test(t)?t:"/"+t)};return t(Kv({id:e,entity:null,fetchStatus:xl})),Mk(n).then((function(n){var o=function(t){return Object.assign({},t,{sounds:t.sounds&&Object.keys(t.sounds).reduce((function(e,n){var i;return Object.assign({},e,((i={})[n]=a(t.sounds[n]),i))}),{}),chatBot:t.chatBot&&Object.assign({},t.chatBot,{avatar:a(t.chatBot.avatar)}),chat:t.chat&&Object.assign({},t.chat,{texture:t.chat.texture?cp(i,"/visitorside/"+t.chat.texture):t.chat.texture}),header:t.header&&Object.assign({},t.header,{banner:t.header.banner&&a(t.header.banner),logo:t.header.logo&&a(t.header.logo)})})}(n.output);return t(Kv({id:e,entity:o,error:null,fetchStatus:yl})),o})).catch((function(n){throw t(Kv({id:e,entity:null,error:n.error.message,fetchStatus:Cl})),n}))},Tk=((Ck={})[vi]=function(t,e){try{var n=JSON.parse(t.content);return Object.assign({},t,{content:n})}catch(e){var i=[{type:"complex",content:{text:t.content}}];return Object.assign({},t,{content:i})}},Ck[yi]=function(t,e,n){try{var i=JSON.parse(t.context),o=i&&i.ChatbotContext||{},a=o.Variables||{},r=o.CustomData||{};n(n_({variables:a,visitorInfo:r}))}catch(t){n(n_({}))}try{var s=JSON.parse(t.content);return Object.assign({},t,{content:s})}catch(e){var c=[{content:{text:t.content}}];return Object.assign({},t,{content:c})}},Ck[Vn]=function(t,e){try{var n=JSON.parse(t.content);return Object.assign({},t,{content:n})}catch(n){var i=[{type:Vy,content:{text:t.content}}],o=Pp(e),a={ifAgentOnline:!0,ifRate:!1,intentAnswers:i,botId:o&&o.id||0};return Object.assign({},t,{content:a})}},Ck[Gn]=function(t,e,n){return n(dv(!1)),t},Ck[In]=function(t,e,n){var i=t.content.info.split(Si);if(4===i.length){var o=lp(e,i[2]),a="true"===i[3].split("=")[1].toLowerCase();n(e_(o,!1,a))}return t},Ck[he]=function(t,e,n){return n({type:vc}),t},Ck),jk=function(t,e,n){return t.map((function(t){var i=Tk[t.type];return i?i(t,e,n):t}))},Nk=function(t,e,n){return t.forEach((function(t){if(t.type===Ci&&t.extras){var i=JSON.parse(t.extras);if(i){if(tb(e)){var o=tb(e);if(o.siteId===i.siteId&&o.fromSiteId===i.fromSiteId)return}n(function(t){return{payload:t,type:Is}}(Object.assign({},i,{visitorGuid:Hw(i.siteId)}))),n(cx(!1)),n(Ax()).then((function(t){var o=t.output.payload.crossSiteTransferDefaultCampaignId;Yu(e,o)||Bk(n,o,Pb(i,!0).replace(/\/visitor.ashx.*$/i,"/campaign.ashx?siteId="+i.siteId+"&campaignId="+o))})),n(Bx(i.siteId)),n({type:As})}}}))},Pk="{email}",Dk=Ai,Wk=function(t,e,n){var i=R(rp,e),o=tg(e),a=qg(e,n).lastUpdateTime,r=Yu(e,n);if(r)return Promise.resolve(r);var s=i("/campaign.ashx?siteId="+o+"&campaignId="+n+"&lastUpdateTime="+a);return Bk(t,n,s,e)},Fk=function(t,e,n){var i=R(rp,e);return Mk(i(n.customizedAdaptiveButtonIcon)).then((function(e){t(Yv({id:n.id,entity:Object.assign({},n,{customizeIcon:e.output,fetchStatus:yl})}))})).catch((function(e){throw t(Yv({id:n.id,entity:Object.assign({},n,{fetchStatus:Cl})})),e}))};function Vk(t,e,n){var i,o=t.dispatch,a=t.getState,r=e.input,s=e.output,c=a(),d=((i={})[Dk.getConfig]=function(t){t.features&&(Ew(!!t.features.useSessionCookie),t.features.disableCookie&&ww()),$m(a())?(o(sx(t.crossSiteTransferDefaultCampaignId)),o(dx(t))):o(qv(t.customVaraibles?t:Object.assign({},t,{kbAPIUrl:er(t.kbAPIUrl,Kb(c)),customVariableResult:tp(c)?mb(c):Xo(t.customVariables)}))),o(kx())},i[Dk.getChatWindowConfig]=function(t){var e=t.messageLengthLimit||Ii;r.siteId&&r.siteId===eb(a())?o(dx(Object.assign({},t,{messageLengthLimit:e,features:Object.assign({},tb(a()).configuration.features,t.features)}))):o(qv(Object.assign({},t,{messageLengthLimit:e,features:Object.assign({},c.configuration.features,t.features)})))},i[Dk.getCustomVariables]=function(t){var e="product service",n=J(t,["name","email","phone","company",e]),i=n[0],a=n[1];i[e]&&(i.product=i[e],delete i[e]);var r=Zm(c).map((function(t){return t.label})),s=J(a,r)[0];o(Kx(Object.assign({},i,{custom:s})))},i[Dk.getChatButton]=function(t){var e=yg(c);if(e)o(Vv(t.id));else{var n=Qf(c);n===t.id||isNaN(parseInt(n,10))||o(Ev(t.id,n))}var i=0;r.campaignId===t.id||isNaN(parseInt(r.campaignId,10))||(i=parseInt(r.campaignId,10)),o(Yv({id:t.id,entity:Object.assign({},t,{intId:i,divId:ar(t.id,i)}),fetchStatus:t.isCustomizedAdaptiveButtonUsed?xl:yl})),e&&Oy("livechat.dynamicCampaign.change",t.id),t.isCustomizedAdaptiveButtonUsed&&Fk(o,a(),t),Wk(o,a(),t.id).then((function(t){return $m(a())||o(cv()),new Promise((function(e){setTimeout(e,0,t)}))})).then((function(t){var n=a(),i=tp(n),s=j.getElementsByTagName("iframe"),d="$brandingName-iframe".replace("$brandingName",N.brandingNameLowerCase);if(s.length>0&&s[d]&&s[d].setAttribute("lang",t.languageCode),i){var l=j.getElementsByTagName("html");l.length>0&&l[0].setAttribute("lang",t.languageCode)}if(Tg(n,t.id)){var u=Om();o(fv(u))}else Am(),o(fv(!1));i&&eg(n)!==zd&&(rr===Or?o(hv()):Mm($f(c),Zf(c))||(o(Iv(Qf(a()))),o(Ov()))),(e||r.alreadyCampaignId)&&o(V_(t.id));var p=j.getElementById("windowLoading");p&&p.parentNode.removeChild(p)}))},i[Dk.checkManualInvitation]=function(t){var e=r.campaignId===Mi,n=/^-?\d+$/.test(r.campaignId)?Ug(c,parseInt(r.campaignId,10)):r.campaignId,i=e?Qf(c):n;if(t&&t.agent&&!zm(c)&&eg(c)===Hd){var a=function(){var e=Object.assign({},t,{isManual:!0,campaignId:i});o(wv(e)),Oy("livechat.invitation.display",e)};t.type===il||t.type===ol?o(Bx()).then(a):a()}},i[Dk.confirmAutoInvitation]=function(t){var e=r.campaignId===Mi?Qf(c):r.campaignId,n=Number(e);if(isNaN(n)||(e=Ug(c,n)),t&&!zm(c)&&eg(c)===Hd){var i=function(){var n=Object.assign({},t,{isManual:!1,campaignId:e});o(wv(n)),Oy("livechat.invitation.display",n)};t.type===il?o(Bx()).then(i):i()}},i[Dk.checkAutoInvitation]=function(t){null!=t&&t.forEach((function(t){var e=t.id,n=t.delay;setTimeout((function(){eg(a())===Hd&&o(gx(eo(),Fi(r.campaignId,e)))}),1e3*n)}))},i[Dk.showInvitation]=function(t){var e=Qf(c);if(t&&!zm(c)&&eg(c)===Hd){var n=function(){var n=Object.assign({},t,{isManual:!1,campaignId:e});o(wv(n)),Oy("livechat.invitation.display",n)};t.type===il?o(Bx()).then(n):n()}},i[Dk.getIfOnline]=function(t){var e=t.campaignId,n=t.ifOnline;o(gv(e,n))},i[Dk.checkIfOnline]=function(t){var e=t.campaignId,n=t.ifOnline;o(gv(e,n))},i[Dk.batchAction]=function(t){for(var e=0;e<t.length;e+=1)Vk({dispatch:o,getState:a},{input:r.actions[e],output:t[e]})},i[Dk.newVisitor]=function(t){var e=t.visitorGuid,n=t.ifNewVisitor,i=t.sessionId,r=t.ifMigrated,s=t.migrationInfo,d={guid:e,sessionId:i};d.ifNewVisitor=n,r&&(d.migrationInfo=s),$m(a())&&o(lx(e)),$m(c)?tg(c):$f(c),o(mv(d)),o(vv())},i[Dk.getDynamicCampaign]=function(t){t!==Qf(c)&&o(Ox(t))},i[Dk.pageVisit]=function(t){var e=t.page,n=t.time,i=Qf(a());Object.keys(a().page.buttons).forEach((function(t){var e="number"==typeof t?+t:t;0!==e&&e!==Mi&&e!==i&&o(Ox(e))})),o(bv({page:e,time:n}))},i[Dk.requestChat]=function(t){fk(o,a(),t),o(mv({persistentVisitor:!0})),t.campaignId&&t.campaignId!==Mi&&o(Ox(t.campaignId,!0))},i[Dk.requestChatFromChatbot]=function(t){fk(o,a(),t),t.campaignId&&o(Ox(t.campaignId,!0))},i[Dk.getChatMessages]=function(t){Bp(a())&&0!==t.length&&(o(i_(jk(t,a(),o))),Nk(t,c,o))},i[Dk.submitRating]=function(){o(Ux(lu)),setTimeout((function(){o(hx())}),1500)},i[Dk.emailTranscript]=function(t){if(t){var e=Lb(c,cw,ib(c)).replace(Pk,r.email);o(o_(e))}o(ex(r.email))},i[Dk.getAgents]=function(t){return t&&t.forEach((function(t,e){return o(Qv({id:t.id,entity:Object.assign({},t,{index:e}),fetchStatus:yl}))}))},i[Dk.getDepartments]=function(t){return t&&t.forEach((function(t){return o(Zv({id:t.id,entity:t,fetchStatus:yl}))}))},i[Dk.submitPostChat]=function(){return o(t_(ql))},i[Dk.endChat]=function(){o(l_());var t=av(c);t===qd&&o(zv(Xd)),t===Ud&&o(zv(Zd)),Sm($f(c),Zf(c))},i[Dk.checkManuallyInvited]=function(t){t||(o(Bv()),o(zv(Xd)))},i[Dk.getChatQueue]=function(t){t&&o(S_({position:t.position,waitTime:t.est}))},i[Dk.getVisitorInfo]=function(t){o(U_(t))},i[Dk.restoreChat]=function(t){if(t&&Kg(a(),Qf(a()))){o(Iv(Qf(a()),!0)),o(m_(t.guid));var e=Xw(t.guid);e&&((e.windowStatus===Ld||pg(c))&&o(Av()),e.maxReadId&&o(P_(+e.maxReadId)))}},i[Dk.visitorGetLatestMsgSeen]=function(t){Ka(t,bf(a()),th(a()))&&o(D_(t))},i[Dk.agentMsgSeenByVisitor]=function(t){o(W_(t))},i[Dk.submitSSOInfo]=function(t){if(o(Lv(!1)),t&&"object"==typeof t){var e=Yg(c),n=Qm(c),i={};Object.keys(t).forEach((function(o){if("fields"===o)i.custom={},t[o].forEach((function(t){n.filter((function(e){return e.label===t.name&&e.type===Bo})).length>0?i.custom[t.name]=t.value.split(Si):i.custom[t.name]=t.value}));else if("department"===o){var a=Object.keys(e).filter((function(n){return e[n].name===t.department}));a.length>0?i[o]=Number(a[0]):i[o]=""}else"ssoId"===o&&"userId"===o&&"variables"===o&&"ssoSessionToken"===o||(i[o]=t[o])}));var a=t.ssoSessionToken,r=t.ssoInfo;wm(a),r?(bm(r),xm()):Cm(),o(Kx(i,du))}},i[Dk.refuseAutoInvitation]=function(){o(zv(Qd))},i[Dk.refuseManualInvitation]=function(){o(zv(Qd))},i[Dk.recoverVisitor]=function(t){o(tx(t.baseVersion)),o(lv()),$m(c)?o(ux(t.serverInstanceTag)):o(Gv(t.serverInstanceTag))},i[Dk.closeWindow]=function(){var t=av(c);t!==qd&&t!==Gd&&t!==el||o(zv(Xd)),t===Ud&&o(zv(Zd))},i[Dk.getSSORecoverInfo]=function(t){t&&t!==vm()&&(bm(t),ym())},i[Dk.requestChatFromAnotherSite]=function(t){if("offline"===t.next){var e=Qf(c),n=Rb(c,e),i=E[n].transferToOffline;o(o_(i)),o(l_())}else{fk(o,a(),t),o(cx(!0,t.chatGuid)),o(tx(""));var r=tb(c);Im($f(c),Zf(c),Object.assign({},r,{isTransferDone:!0,chatGuid:t.chatGuid,agents:Object.assign({},r.agents||{},Lg(c))}))}},i);null!=r&&null!=d[r.type]&&d[r.type](s.payload)}var Ek,zk,Rk,Lk,Hk=function(t){return{chatGuid:ah(t),siteId:$f(t),sessionId:Qw(),visitorGuid:ng(t)}},qk=function(t){return Ji(ah(t),ch(t))},Uk=function(t,e){return no([Object.assign({},Hk(e),t),qk(e)])},Gk=((kk={})[qy]=Uk,kk[Uy]=Uk,kk[Ly]=Uk,kk[Hy]=Uk,kk[Yy]=Uk,kk[Jy]=function(t,e){var n=Hm(e);return no([Object.assign({taskbotId:n},Hk(e),t),qk(e)])},kk),Kk="chatbot/locationCancelled",Yk="chatbot/visitorSSOCancelled",Jk="chatbot/meetingCancelled",Qk="chatbot/meetingSubmitted",Zk="chatbot/chatbotFormCancelled",Xk="chatbot/microsoftBooking",$k=function(t){return{chatGuid:ah(t),siteId:$f(t),sessionId:Qw(),visitorGuid:ng(t)}},tS=function(t){return Ji(ah(t),ch(t))},eS=function(t,e){return no([Object.assign({},$k(e),t),tS(e)])},nS=((Ek={})[Jk]=eS,Ek[Qk]=eS,Ek[Kk]=eS,Ek[Yk]=eS,Ek[Zk]=eS,Ek[Xk]=eS,Ek),iS=0,oS=new Date,aS=Ai,rS=0,sS=[],cS={},dS={},lS=null,uS=function(t,e,n,i,o){try{var a=JSON.parse(i.output);if(i.code)return void e({input:Object.assign({},t.action,{isUseStandbyFileService:o}),error:a})}catch(e){t.action.fileServiceUrl?n({input:t.action,output:{name:t.action.fileName,key:i.output,isUseStandbyFileService:o}}):n({input:t.action,output:i.output[0]})}},pS=[aS.getChatMessages,aS.agentMsgSeenByVisitor,aS.visitorGetLatestMsgSeen],hS=function(t,e,n,i){var o=e;if(null==o.type)throw new Error("action.type is required");return o.ssoSessionToken=mw(gm),o.type===aS.uploadFileAction?new Promise((function(t,e){var i=o.action.fileServiceUrl+"/files",a=o.action.standbyFileServiceUrl+"/files",r=Ak;r(i,o.file,o.action,n,o.action.fileName).then((function(n){return uS(o,e,t,n,!1)})).catch((function(i){if(i instanceof Error)throw i;var s=i.error;s&&(!s.statusCode||s.statusCode>=500||404===s.statusCode)?r(a,o.file,o.action,n).then((function(n){return uS(o,e,t,n,!0)})).catch((function(t){if(t instanceof Error)throw t;e({input:o.action,error:i.error})})):e({input:o.action,error:i.error})}))})):(o.type===aS.newVisitor&&Cm(),new Promise((function(e,n){null==lS&&(lS=function(){var t=0;return function(){return t+=1}}());var a=lS();(function(t,e){var n=!0,i=!1;return t.forEach((function(t){oo(t,aS.submitSSOInfo)&&(i=!0)})),i&&io((function(t){pS.indexOf(t.type)>-1&&(n=!1)}),e),n})(sS,o)&&sS.push(Object.assign({},o,{id:a})),cS[a]=e,dS[a]=n,clearTimeout(rS),rS=setTimeout((function(){Ok(t,sS.splice(0,sS.length)).then((function(t){var e=t.input,n=t.output;e.forEach((function(t,e){n[e].error?dS[t.id]({input:t,error:n[e].error,serverInstanceTag:i}):cS[t.id]({input:t,output:n[e],serverInstanceTag:i}),delete cS[t.id],delete dS[t.id]}))})).catch((function(t){if(t instanceof Error)throw t;var e=t.input,n=t.error;e.forEach((function(t){dS[t.id]({input:t,error:n}),delete cS[t.id],delete dS[t.id]}))}))}),0)})))},fS=function(t,e,n,i){return hS(t,e,n,i).then((function(t){return iS=0,oS=new Date,t}))},gS=Ai,wS=null,mS=function(t){var e=t.getState,n=t.resolve;return fS(Db(e()),{type:Ai.systemProcessingHeartbeat}).then((function(t){if(!t.output.payload){clearInterval(wS),wS=null;var i=e(),o=null;if(nb(i)){var a=ag(i,yg(i)?Mi:Qf(i)),r=jp(i),s=fm();o=r===iu?no([Object.assign({},a,{isPrechatDone:!0,isProcessingDone:!0,lastChattedAgents:s})].concat(function(t){var e=ch(t),n=th(t),i=Ra(n),o=[].concat(i);if(rh(t)){var a=sh(t);o.push({type:Me,content:a,sender:{type:Zl},id:n.length+e+1})}return[0===o.length?null:$i(null,o),Ji(null,-1)]}(i))):Object.assign({},a,{isProcessingDone:!0,lastChattedAgents:s})}else o=Object.assign({},ab(i),{isProcessingDone:!0});fS(Db(i),o).then((function(t){t.output.payload&&(clearInterval(wS),wS=null,n(t))}))}}))},bS=function(t){var e=t.getState,n=t.dispatch,i=function(t){return new Promise((function(t,n){null===wS?(mS({getState:e,resolve:t}),wS=setInterval(mS,2e3,{getState:e,resolve:t})):n("Already checking system processing")})).then((function(e){var n=e.output;return function(t,e){return Object.assign({},t,{output:ao((function(t){if(t.type===gS.requestChat){if(e.type===gS.batchAction){var n=e.payload.filter((function(t){return t.type===gS.requestChat}));if(n.length>0)return Object.assign({},t,n[0])}return Object.assign({},t,e)}if(t.type===gS.requestChatFromAnotherSite){if(e.type===gS.batchAction){var i=e.payload.filter((function(t){return t.type===gS.requestChatFromAnotherSite}));if(i.length>0)return Object.assign({},t,i[0])}return Object.assign({},t,e)}if(t.type===gS.getChatMessages&&e.type===gS.batchAction){var o=e.payload.filter((function(t){return t.type===gS.getChatMessages}));if(o.length>0)return Object.assign({},t,o[0])}return t}),t.output)})}(t,n)}))};return function(t){var e=oo(t.output,gS.requestChatFromAnotherSite);if(e&&e.payload.next===pk)return i(t);var o=oo(t.output,gS.requestChat);return o&&o.payload.next===pk?(n(t_(zl)),n($_(tl)),n(zv(tl)),i(t)):t}},vS=function(t){var e=t.dispatch,n=t.getState;return function(t){if(2003===t.error.code){var i=t.error,o=i.ssoServiceUrl,a=i.artifactServiceUrl,r=i.issuer,s=n(),c=$f(s),d=vg(s)||"",l=lp(s,(d?a:o)+"?siteId="+c+"&issuer="+r+"&artifact="+d+"&cookieId="+ng(s)),u=Pf(s);e({type:Pr}),e(e_(l,"showPrelogin"===u)),e(t_(Ll))}throw t}},_S=[Ai.checkBan,Ai.checkBBSCode,Ai.closeWindow,Ai.emailTranscript,Ai.getAgents,Ai.getChatButton,Ai.getConfig,Ai.getDepartments,Ai.submitPostChat,Ai.recoverVisitor],xS=function(t,e){io((function(e){_S.indexOf(e.type)<0&&t.dispatch({type:Us,payload:Date.now()}),e.type===Ai.recoverVisitor&&t.dispatch(uv(!1))}),e.input)},yS=function(t){var e=t.getState,n=t.dispatch;return function(t){var i=t.input;if(!oo(i,Ai.recoverVisitor)||!t.error)throw t;20===e().app.recoverFailTimes&&(n(dv(!1)),n(u_(Lb(e(),dw)))),n({type:Hs}),n(uv(!1))}},CS=K((function(t,e){kS(t,e)}),3e4,{maxWait:3e4}),kS=function(t,e,n){Mk([t,"&action=4","&mainDisconnected="+(n?"0":"1"),"&visitorGuid="+e].join(""))},SS=function(){zk&&clearInterval(zk)},IS=Ai,MS=!1,OS=function(t,e){var n=t.dispatch,i=t.getState,o=function(t){return(o=jb(i()),Mk(o+"&action=1").then((function(t){return"0"===t.output?Zu:Qu})).catch((function(){return Qu}))).then((function(o){if(o!==i().app.server){if(n(function(t){return{type:Rs,payload:t}}(o)),!$u(i())&&jh(i())&&n({type:ld}),Ah(i()))return MS=!0,null;if(oo(t.input,IS.getConfig))return e(t.input)}if(t.error.code===mk)return null;throw t}));var o};return function(t){if(!((e=i()).configuration.features?e.configuration.features.maxon:e.configuration.standbyUrl))throw t;var e;eg(i())===Hd&&(MS=!1);var n,a=t.error;if(a.code===vk&&$u(i())&&CS(jb(i()),ng(i())),((n=a.code)===gk||n===wk)&&MS)throw t;if(a.code===mk)return o(t);if(a.code===vk){if($u(i())&&oo(t.input,IS.getConfig))return o(t);if(0!==(iS+=1)&&(iS>=3||Q(oS,2e4)))return o(t)}throw t}},AS=function(t){return[ro({visitorGuid:ng(t),visitorId:Rw()}),Ti(ib(t),Rw(),ng(t),j.referrer,og(t),$o(),ta(),m,Yw(tg(t)||$f(t)))]},BS=function(t,e){var n=av(t),i=n===el;n=i?Gd:n;var o=function(t){var e=Gw(Uw(t));return e.navigation?e.navigation.filter((function(t){return t})):[]}(),a=vm(),r=Rm(t),s=Hm(t);return[ro({visitorGuid:ng(t)}),ji(Qf(t),ng(t),j.referrer,$o(),ta(),m,Yw(),og(t),n,i,o,e,a,r,s)]},TS=function(t,e,n,i){var o,a=ag(t,yg(t)?Mi:e),r=a.source;return o=r.type===dl||r.type!==sl&&a.invitationtype===il,Object.assign({},a,{lastChattedAgents:n,isPrechatDone:o,artifact:i})},jS=function(t){var e=[];return function(t){return Rg(t).length}(t)<3&&e.push(eo()),function(t){return t.configuration.features.department}(t)&&e.push(to()),e},NS=function(t){var e=av(t),n=xp(t),i=e===Jd?[]:Qo(eh(t),n),o=og(t),a=Qf(t),r=Ym(t,ru,a),s=Jp(t),c=Pp(t),d=Rm(t),l=Lm(t),u=rm().popout,p=Yw(),h=p.name,f=p.email,g=p.form,w=Ca(za(r));g&&g.custom&&Object.keys(g.custom).forEach((function(t){var e=r.filter((function(e){return e.label===t}));if(e.length>0){var n=Ea(e[0].id);w.custom[n]=w.custom[n]||g.custom[t].join&&g.custom[t].join(Si)}}));var m=Object.assign({},w,{name:h,email:f,phone:w.phone||g?g.phone:"",company:w.company||g?g.company:""});return u&&u.ticketId&&!Number.isNaN(+u.ticketId)&&(m.ticketId=+u.ticketId),u&&u.departmentId&&!Number.isNaN(+u.departmentId)&&(m.department=+u.departmentId),Object.assign({chatGuid:ah(t),messages:i,source:rg(t),requestingPageUrl:o.url,requestingPageTitle:o.title,botId:s&&c?c.id:Mi,isChattingWithTaskbot:d,taskbotId:d&&l&&l.id?l.id:Mi},m,{maxAgentReadGuid:bf(t),maxVisitorReadGuid:vf(t),emailToSendTranscript:jf(t)})},PS=Ai,DS=function(t){return oo(t,PS.pageVisit)||oo(t,PS.requestChat)||oo(t,PS.requestChatFromChatbot)||oo(t,PS.submitOfflineMessage)||oo(t,PS.requestChatFromAnotherSite)||oo(t,PS.showInvitation)},WS=function(t,e){var n=t.split("-"),i=n[0],o=n[1],a=e.split("-"),r=a[0],s=a[1];return i===r&&o!==s},FS=function(t,e){var n=ob(t),i=e.serverInstanceTag,o=e.error.serverInstanceTag;return op(t)||n&&o&&WS(i,o)&&n===o},VS=function(t,e){var n=function(t){return t.app.lastSuccessTime}(t),i=Date.now()-n<12e4,o=ob(t),a=e.error.serverInstanceTag;return i&&(!o||o&&a&&WS(o,a))},ES=function(t){var e=Qf(t),n=mb(t),i=og(t);return[n&&Pi(n,e),Ni(e,i)]},zS=function(t,e){if($m(t))return RS(t,e);if(oo(e,Ai.recoverVisitor))return e;var n=e.type===PS.batchAction?e.actions:e,i=NS(t),o=BS(t,i);if(oo(e,PS.requestChat)){var a=ES(t);return no(o.concat(a).concat(n))}return no(o.concat(n))},RS=function(t,e){if(oo(e,Ai.recoverVisitor))return e;e.type===PS.batchAction&&e.actions;var n=function(t,e){var n=Rm(t),i=Hm(t);return[ro({visitorGuid:ig(t)}),ji(ib(t),ig(t),j.referrer,$o(),ta(),m,Yw(tg(t)||$f(t)),og(t),rv(t)?"transferring":Ud,!1,[],e,null,n,i)]}(t,NS(t));return no(n)},LS=function(t,e,n,i){var o=t.getState;return t.dispatch,function(t){var a=t.input,r=t.error.code,s=o(),c=oo(a,PS.newVisitor);if(r===gk){if(FS(s,t)&&!DS(a))return t;if(c)throw t;if(VS(s,t)){var d=zS(s,a);return e(d,n,i)}if(DS(a)){var l=function(t,e){var n=e.type===PS.batchAction?e.actions:e,i=AS(t);if(oo(e,PS.requestChat)){var o=ES(t);return no(i.concat(o).concat(n))}return no(i.concat(n))}(s,a);return e(l,n,i)}}else if(r===bk){if(FS(s,t)&&!DS(a))return t;if(VS(s,t)||DS(a)){var u=zS(s,a);return e(u,n,i)}}throw t}},HS=function(t,e,n){var i=$f(n),o=function(t){return D(t,"window.kbConfig.id")}(n),a=[vp(n),"/"+i+"/"+o+"/articles?keyword="+encodeURIComponent(e)].join("");Mk(a).then((function(e){t(Xv(hd,e.output))})).catch((function(){t({type:md})}))},qS=["content"],US=function(t){return Ji(ah(t),ch(t))},GS=function(t){var e=ch(t),n=ah(t),i=th(t),o=Ra(i),a=La(n,i),r=[].concat(o),s=rh(t),c=mf(t,ib(t)),d=xh(t),l=Ah(t),u=yh(t),p=bf(t),h=Tf(t);if(s){var f=sh(t);r.push({type:Me,content:f,sender:{type:Zl},id:i.length+e+1,guid:L()})}return a.concat([0===r.length?null:$i(n,r),(l||u)&&Ji(n,e),Nh(t)&&uo(),c&&d&&!Ka(p,h,th(t))&&Xi(n)])},KS=Object.assign({},Gk,nS,((Rk={})[Mr]=function(t,e){var n,i=t.campaignId,o=bg(e),a=vg(e);if(o){var r=Ym(e,ru,i),s=r.some((function(t){return""!==t.error}));if(!s){var c=rm().popout;n=Ca(za(r)),c&&c.ticketId&&!Number.isNaN(+c.ticketId)&&(n.ticketId=+c.ticketId),c&&c.departmentId&&!Number.isNaN(+c.departmentId)&&(n.department=+c.departmentId)}}var d=fm();return no([Vb(e)?{type:Ai.checkBBSCode}:null,po(),n&&TS(e,i,d,a),n&&Li(n,i),Object.assign({},TS(e,i,d,a),n?{isPrechatDone:!0}:{}),yg(e)?lo():null,wb(e)?{type:Ai.getCustomVariables}:null].concat(jS(e),[Qi(null),Ji(null,-1)]))},Rk[Gr]=function(t,e){var n=Qf(e),i=zm(e);return Ei(n,i.isManual,i.id)},Rk[ec]=function(t,e){return ip(e)?null:{type:Ai.prechatHeartbeat}},Rk[nc]=function(t,e){return ip(e)?null:{type:Ai.offlineMessageHeartbeat}},Rk[tc]=function(t,e){if(ip(e))return null;if(!Bp(e))return null;if(op(e))return null;if(xh(e)&&$m(e)&&!nb(e))return null;var n=jp(e);if(n===iu){var i=cg(e);if(i===cl)return uo();if(i===dl)return no([Hi(ah(e)),US(e)])}var o=[];return n===nu&&o.push(Qi(ah(e))),no(o.concat(GS(e)))},Rk[js]=function(t,e){if(t!==Hd)return null;if(ip(e))return null;var n=Ep(e),i=jp(e),o=Rp(e);if(n===Hl||n===Gl||n===Kl)return{type:Ai.closeWindow};if(n===ql){if(i===iu){var a=ag(e,o).source,r=a.type,s=a.invitationId;return Oy("livechat.invitation.refuse",s),Ei(o,r===dl,s)}if(i===nu)return no([Yi(ah(e)),US(e)])}return null},Rk[td]=function(t,e){return no([Gi(t),Object.assign({},ag(e,Rp(e)),{lastChattedAgents:fm(),isPrechatDone:!0,skipSSO:!0})])},Rk[dc]=function(t,e){var n=ag(e,Rp(e)),i=fm(),o=xh(e);return no([Ri(t,Rp(e)),!o&&Object.assign({},n,{isFromKB:!0,lastChattedAgents:i})])},Rk[lc]=function(t,e){return Ri(t,Rp(e))},Rk[Od]=function(t,e){return function(t,e){return{type:Ai.setLocation,chatGuid:e,location:t}}(t,ah(e))},Rk[Ad]=function(){return{type:Ai.getVisitorInfo}},Rk[xr]=function(t,e){return no([t.isManual?(n=t.id,{type:Ai.manualInvitationShowed,invitationId:n}):null].concat(jS(e)));var n},Rk[uc]=function(t,e){var n=ag(e,Rp(e)),i=fm();return Object.assign({},n,{skipSSO:!0,lastChattedAgents:i})},Rk[Cc]=function(t,e){var n=Ki(yg(e)?Mi:Rp(e),{type:sl,page:og(e)}),i=fm();return no([po($f(e)),Object.assign({},n,{lastChattedAgents:i})])},Rk[_c]=function(t,e){if(Th(e)){var n=function(t){var e=rg(t),n=(t.page.requestChatAction||{}).departmentId;return{type:Ai.requestChatFromChatbot,departmentId:n,source:e}}(e,Rp(e)),i=ah(e);return no([n,Qi(i),Zi(i)])}return null},Rk[ic]=function(t,e){var n=ah(e);return no([Ui(n,t),US(e)])},Rk[oc]=function(t,e){return function(t,e){return{type:Ai.emailTranscript,chatGuid:t,email:e}}(ah(e),t)},Rk[Xs]=function(t){return t},Rk[ac]=function(t,e){return no([Yi(ah(e)),US(e)])},Rk[yc]=function(t,e){return Th(e)?function(t,e){return Object.assign({type:Ai.chatBotAnswerHelpful,chatGuid:t},e)}(ah(e),t):null},Rk[xc]=function(t,e){return xh(e)?t.agentId<=0&&!Th(e)||t.agentId>0&&!function(t,e){var n=ih(t);return 0!==n.length&&!!n.find((function(t){return t===e}))}(e,t.agentId)?null:function(t,e){return{type:Ai.chatBotSelectQuestion,chatGuid:t,question:{questionId:e.id,questionName:e.name},clickType:e.clickType,agentId:e.agentId,botId:e.botId||Mi,senderType:e.agentId>0?1:3,senderId:e.agentId}}(ah(e),t):null},Rk[Hc]=function(t,e){return function(t,e){return Object.assign({type:Ai.visitorHandleBotForm,chatGuid:t},e,{senderType:e.agentId>0?1:3,senderId:e.agentId})}(ah(e),t)},Rk[qc]=function(t,e){return function(t,e){return Object.assign({type:Ai.visitorHandleBotForm,chatGuid:t},e,{senderType:e.agentId>0?1:3,senderId:e.agentId})}(ah(e),t)},Rk[Uc]=function(t,e){return function(t,e){return Object.assign({type:Ai.setBotVariable},e)}(ah(e),t)},Rk[Br]=function(t){return t===Gl?{type:Ai.enterOfflineMessage}:null},Rk[fc]=function(t,e){var n=yg(e)?Mi:Qf(e);return no([Pi(t,n),yg(e)?lo():null,Di(n),Wi(n)])},Rk[fs]=function(t,e){return Wb(e)?(Oy("livechat.invitation.refuse"),Ei(Rp(e),!0)):null},Rk[gc]=function(t){var e=t.campaignId,n=t.alreadyCampaignId;return no([zi(e,n),Di(e)])},Rk[pc]=function(t,e){return e.window&&e.window.crossSiteChatTransfer?function(t){return no([ab(t)])}(e):function(t){var e=Qf(t),n=ng(t),i=!!Mm($f(t),Zf(t)),o=!tp(t)&&!im(ng(t)).isEmbeddedPoppedOut&&!i,a=mb(t),r=sb(t),s=cb(t);return no([].concat(n?[]:AS(t),[a&&Pi(a,e),e!==Mi||a?null:co(),Ni(e,og(t)),zi(e),Di(e),o?so():null,r&&!i&&Vi(e),s&&!i&&Wi(e),ho()]))}(e)},Rk[hc]=function(t,e){return function(t){var e=yg(t),n=Qf(t),i=Bp(t),o=Ni(n,og(t));if(!i){var a=cb(t);return no([o,e?co():null,e?lo():null,Di(n),a&&Wi(n)])}return o}(e)},Rk[wc]=function(){return{type:Ai.getConfig}},Rk[mc]=function(t){return po(t)},Rk[gd]=function(t,e){var n=fm(),i=ag(e,Rp(e)),o=vg(e);return Object.assign({},i,{lastChattedAgents:n,isFromKB:!0,artifact:o})},Rk[bc]=function(t,e){var n=jp(e)===ou||jp(e)===iu||jp(e)===nu,i=vf(e),o=th(e),a=Tf(e),r=t||a,s=ah(e);if(s){if(!Ya(o,a)){var c=Ja(o,i);return c&&c!==r&&c!==i&&n?Zi(s,c):null}if(r&&n&&r!==i&&!Ka(i,a,o))return Zi(s,r)}return null},Rk[vc]=function(){return ho()},Rk[Kr]=function(t){return{type:Ai.showInvitation,invitationId:t}},Rk)),YS=((Lk={})[as]=function(t,e){if(jp(e)===iu){Wb(e)?Oy("livechat.invitation.accept"):Oy("livechat.invitation.accept",dg(e));var n=ag(e,Rp(e)),i=fm();return no([Object.assign({},n,{isPrechatDone:!0,lastChattedAgents:i})].concat(GS(e)))}return no(GS(e))},Lk),JS=function(t){return function(e){if(e instanceof Error)throw e;return t(e)}},QS=function(t,e){if(!t)return t;var n=Mf(e).chatVersion;return t.actions?(t.actions.forEach((function(t){return Object.assign(t,{chatVersion:n})})),t):Object.assign(t,{chatVersion:n})},ZS=function(t){var e=t.isNewWindow,n=function(t){return/^(https?:)?\/\//.test(t)?t:t&&"http://"+t}(t.url);e?N.open(n):W.href=n},XS=function(t){if(/^file:\/\//i.test(t))return"*";var e=t.match(/^[^:]+:\/\/[^/]+/);return e?e[0]:"*"};function $S(t,e,n){var i=XS(e);return{dispatch:function(e){t.postMessage(JSON.stringify(e),i)},subscribe:function(t){var e=function(e){e.origin===i&&t(e)};return(n?N:window).addEventListener("message",e),function(){return(n?N:window).removeEventListener("message",e)}}}}var tI,eI,nI,iI,oI="removeOpener",aI="popin",rI="cobrowese-end",sI="restoreState",cI="getRestoreState",dI=((tI={})[zl]=aw,tI[Rl]=sw,tI[Hl]=sw,tI[Gl]=rw,tI[ql]=aw,tI[Ul]=aw,tI[Ll]=sw,tI),lI=function(t){null!=t&&(j.title=t)},uI=function(t){return t.window.messages&&t.window.messages.filter((function(t){return t.type!==Jn}))},pI=function(t,e){var n=$g(t,e);return n?function(){try{var t=j.getElementById("chat_window_container");if(!t)return null;var e=t.contentWindow.document.querySelector(".whole-window").getBoundingClientRect();return{width:e.width,height:e.height}}catch(t){return null}}()||n:{width:360,height:600}},hI=function(t,e,n){var i=$f(t),o=Zf(t),a=og(t),r=a.title,s=a.url,c=ng(t),d=dg(t),l=cg(t)||sl,u=["chatwindow.aspx","?siteId="+i,o?"&chatGroup="+o:null,O.version?"&version="+O.version:null,"&planId="+e,"#","&chatSource="+l,d?"&invitationId="+d:null,c?"&visitorGuid="+c:null,$u(t)?null:"&isStandbyServer=1",r?"&title="+encodeURIComponent(r):null,s?"&url="+encodeURIComponent(s):null,"&openType="+n].join(""),p=cp(t,u),h=pI(t,e),f=h.width,g=h.height,w=Math.max(f,380);return{win:N.open(p,""+"$brandingNameChatWindow".replace("$brandingName",N.brandingName)+i,"width="+w+",height="+g+",left=200,top=100,status=no,toolbar=no,menubar=no,resizable=yes,location=no,titlebar=no"),url:p}},fI=!1,gI=function(){N.opener&&(N.opener=null),fI=!0,N.close()},wI=function(t,e){return{type:t,time:new Date,content:e,guid:L(),sender:{type:Zl}}};function mI(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function bI(t,e){if(mI(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}var vI=function(t){var e=pp(t,"/webrtcSignalingService/signaling.ashx");iI&&e&&iI.start(e)},_I=function(){iI&&(iI.stop(),iI=null)},xI=((eI={})[Ge]=vI,eI[gn]=vI,eI[Ue]=_I,eI[Ke]=_I,eI[Ye]=_I,eI[mn]=_I,eI[wn]=_I,eI[fn]=_I,eI[Cn]=_I,eI[kn]=_I,eI[tn]=_I,eI[en]=_I,eI[vn]=_I,eI[xn]=_I,eI[yn]=_I,eI[Qe]=_I,eI[Xe]=_I,eI[$e]=_I,eI[_n]=vI,eI[Ze]=vI,eI),yI=((nI={})[Ge]="livechat.chat.video.start",nI[gn]="livechat.chat.audio.start",nI[Ye]="livechat.chat.video.stop",nI[mn]="livechat.chat.audio.stop",nI[en]="livechat.chat.video.stop",nI[kn]="livechat.chat.audio.stop",nI[yn]="livechat.chat.audio.stop",nI[$e]="livechat.chat.video.stop",nI[_n]="livechat.chat.audio.start",nI[Ze]="livechat.chat.video.start",nI[hn]="livechat.chat.audio.request",nI[qe]="livechat.chat.video.request",nI[bn]="livechat.chat.audio.request",nI[Je]="livechat.chat.video.request",nI[Ke]="livechat.chat.video.refuse",nI[wn]="livechat.chat.audio.refuse",nI[Xe]="livechat.chat.video.refuse",nI[xn]="livechat.chat.audio.refuse",nI[Ue]="livechat.chat.video.cancel",nI[Qe]="livechat.chat.video.cancel",nI[fn]="livechat.chat.audio.cancel",nI[vn]="livechat.chat.audio.cancel",nI[Cn]="livechat.chat.audio.noanswer",nI[tn]="livechat.chat.video.noanswer",nI),CI=function(t,e){return $p(t).filter((function(t){return t.type===e})).length>0},kI=null,SI=Math.pow(2,31),II=SI-6,MI=SI-5,OI=SI-4,AI=SI-7,BI=SI-5,TI=AI+1,jI=SI-1,NI=!et,PI=0===N.location.href.indexOf("https://")||!1,DI="glance_ssn_info";var WI=function(t,e){var n=S(t),i=x(t);return"#glance_cobrowse_btn>:not(#glance_scrim):not(#glance_confirm):not(#glance_msg_box){display:none !important}#glance_cobrowse_btn{z-index:"+jI+' !important}#glance_confirm{width:240px;padding:30px;color:#000 !important;border-radius:4px;background:#fff;font-size:14px;box-shadow:0px 0px 10px rgba(0,0,0,0.2);}#glance_confirm_msg{padding-bottom:20px;}#glance_confirm_msg::before{content:"'+e+'";}#glance_yes,#glance_no{padding:5px 10px;border-radius:3px;text-decoration:none !important;display:inline-block;margin:0 10px !important;font-weight:normal !important;}#glance_yes{background-color:'+n+";color:#"+(i?"#3c3c3c":"#fff")+" !important;border:none !important;}#glance_no,#glance_no:hover{border:1px solid #ccc !important;color:#000 !important;}"},FI="#f1d00f",VI=j.createElement("div");function EI(t){if(!function(t){var e="livechat-test-cookie-key",n="value";j.cookie=e+"="+n+";domain="+t;var i=j.cookie.indexOf(e+"="+n)>=0;return j.cookie=e+"=;domain="+t+";expires=Thu, 01 Jan 1970 00:00:00 GMT;",i}(t))return null;var e=t.split(".");if(e.length<=1)return t;e.shift();var n=EI(e.join("."));return n||t}VI.id="branding-cobrowse-border",Object.assign(VI.style,{position:"fixed",pointerEvents:"none",top:0,bottom:0,right:0,left:0,margin:"auto",borderStyle:"solid",borderWidth:"3px",borderColor:FI}),VI.style.position="fixed";var zI,RI=N.location.search.indexOf("cobrowseDebug")>=0,LI=function(t,e){return zI?(zI.textContent=WI(t,e),Promise.resolve()):nt("style",{textContent:WI(t,e)},j.head,(function(){return!0})).then((function(t){zI=t}))},HI=it((function(t,e){var n={src:t,id:"cobrowsescript","data-groupid":e,"data-site":"production",charset:"UTF-8"},i=EI(N.location.host);return i?n["data-cookiedomain"]=i:n["data-cookietype"]="ls",nt("script",n,j.head,(function(){return N.GLANCE}))}));var qI=[],UI=!1,GI=function(t,e){return t.output.payload.find((function(t){return t.type===e})).payload},KI=function(t,e,n,i,o,a){return fS(t,no([so(),eo(),to()])).then((function(r){if((GI(r,Ai.restoreChat)||{}).guid!==o.chatGuid)throw new Error("try to restore cross site chat but chat guid not match.");return Bk(e,o.campaignId,t.replace(/\/visitor.ashx.*$/i,"/campaign.ashx?siteId="+o.siteId+"&campaignId="+o.campaignId),a).then((function(){var t=function(t,e){var n=Object.assign({},e.agents||{});return(GI(t,Ai.getAgents)||[]).forEach((function(t){n[t.id]||(n[t.id]=t)})),Object.values(n)}(r,o);t.forEach((function(t,n){return e(Qv({id:t.id,entity:Object.assign({},t,{index:n}),fetchStatus:yl}))}));var a=GI(r,Ai.getDepartments);a&&a.forEach((function(t){return e(Zv({id:t.id,entity:t,fetchStatus:yl}))})),e(function(t,e,n){return{type:Dr,payload:{campaignId:t,crossSiteChatTransfer:e,chatInfo:n}}}(n,o,i))}))}))},YI=function(t,e){var n=$g(t,e);return n?function(){try{var t=document.getElementById("chat_window_container");if(!t)return null;var e=t.contentWindow.document.querySelector(".whole-window").getBoundingClientRect();return{width:e.width,height:e.height}}catch(t){return null}}()||n:{width:360,height:600}};var JI;JI=o(a,(function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){var o=n();if(i.type===Mr&&!i.payload.isRestoreChat&&!ug(o,i.payload.campaignId)){var a=Gg(o,i.payload.campaignId);if(a)return ZS(a),null}if(i.type===Br&&i.payload===Gl){var r=Rp(o),s=Gg(o,r);if(s)return ZS(s),s.isNewWindow&&e({type:Rc}),e(wx()),null}return t(i)}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){var i=null,o=function(t){return function(e){return t(JSON.parse(e.data))}},a=function(e){var a=e.win,r=e.url;if(!i)var s=(i=$S(a,r,!0)).subscribe(o((function(e){if(e.type===aI)s(),i=null,N.focus(),t(pv(e.payload)),om({isEmbeddedPoppedOut:!1},ng(n()));else if(e.type===rI)try{N.GLANCE.Cobrowse.Visitor.stopSession()}catch(t){}else if(e.type===cI){var o=N.restoreState;i&&i.dispatch({type:sI,payload:o})}})))},r=function(t){i&&i.dispatch({type:aI,payload:t})};return N.addEventListener("beforeunload",(function(t){var e=n();if(tp(e)&&Kg(e,Qf(e))&&!fI&&!Nf(e)){if(Jh(e)){var i=Lb(e,"audioVideoChangeWindowType"),o=t||N.event;return o.stopPropagation(),o.preventDefault(),o.returnValue=i,i}r(e)}})),N.addEventListener("unload",(function(){Jh(n())&&(e(Mx()),r(n()))})),function(s){var c=n();if(!c)return t(s);if(s.type===Vs&&null==i&&Eb(c))var d=og(c).url||j.referrer,l=(i=$S(N.opener,d,!0)).subscribe(o((function(e){e.type===oI?(l(),N.opener=null,t({type:zc})):e.type===sI&&t(pv(e.payload))})));if(s.type===Br&&tp(c)&&(lI(Lb(c,dI[s.payload])),Y(N.location.href,"ssoInfo"))){var u,p=Y(N.location.href,"ssoInfo");if(s.payload===Rl||s.payload===Ll||s.payload===ql){u=xx(p),e(u);var h=N.location.href.substring(0,N.location.href.indexOf("&ssoInfo="));N.history.replaceState(N.history.state,j.title,h)}}if(s.type===cd&&tp(c)){var f=Ep(c);lI(Lb(c,dI[f]))}if(s.type===Mr){var g=s.payload.campaignId,w=(im(ng(c))||{}).isEmbeddedPoppedOut,m=Kg(c,g);if(!tp(c)&&(w||!m)){var b=hI(c,g,Mr);return w&&a(b),null}}if(s.type===Or){var v=Rp(c);if(!tp(c)){a(hI(c,v,Or)),om({isEmbeddedPoppedOut:!0},ng(c));var _=ah(c);_&&(hm(_),_h(c)&&(c.window.messages=uI(c))),i&&N.addEventListener("beforeunload",(function(){i.dispatch({type:oI})})),N.restoreState=c}}if(s.type===Ar&&tp(c)){var x=ah(c);return x&&(hm(x),_h(c)&&(c.window.messages=uI(c))),r(c),gI(),null}if(s.type===yd)return i&&i.dispatch({type:rI}),null;if((s.type===Rc||s.type===js&&s.payload===Hd)&&tp(c)){var y=t(s);return y&&y.catch?(Promise.race([y.catch((function(){})),Z(3e3)]).then(gI),null):(gI(),null)}return s.type===Nd&&i&&i.dispatch({type:cI}),t(s)}}}),(function(t){var e=t.getState,n=t.dispatch;return function(t){return function(){var i=X($().mark((function i(o){var a,r,s,c,d,l,u,p;return $().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=function(){var t=X($().mark((function t(i){var o,a,r;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(kI){t.next=7;break}return t.next=3,tt((function(){return import("./p2pChat.2c041bd4.js")}),(function(){n(u_("Error loading modules. Please refresh the page and try again."))}));case 3:if(o=t.sent,kI=o&&o.default){t.next=7;break}return t.abrupt("return",null);case 7:return a=T(pp(e(),"/webrtcSignalingService/Statistics")),(r=new kI(Object.assign({},i,{visitorId:ng(e()),siteId:$f(e()),url:a}))).onevent((function(t,e){if("error"===t)n(Mx());else if("start"===t){if(!iI)return;var i=iI.getRemoteVideo();i&&(mI(a=i,r="mediaChatWindow__remoteVideo--loading")||(a.className=a.className+" "+r))}else if("remoteStreamReceived"===t){if(!iI)return;var o=iI.getRemoteVideo();o&&bI(o,"mediaChatWindow__remoteVideo--loading")}var a,r})),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=e(),o.type!==Hr){i.next=11;break}if(iI){i.next=7;break}return i.next=6,a({chat:ah(r)});case 6:iI=i.sent;case 7:return iI.requirePermission(!1).then((function(){var e=wI(oi,"");n(Ix([e])),t(o)})),i.abrupt("return",null);case 11:if(o.type!==qr){i.next=20;break}if(iI){i.next=16;break}return i.next=15,a({chat:ah(r)});case 15:iI=i.sent;case 16:return iI.requirePermission(!0).then((function(){var e=wI(ii,"");n(Ix([e])),t(o)})),i.abrupt("return",null);case 20:o.type===Or?(_I(),pm(ah(r))):o.type===Ar&&_I();case 21:if(s=t(o),c=e(),d=Kh(c),l=Kh(r),o.type!==Nc){i.next=29;break}iI&&iI.hideVideos(),i.next=54;break;case 29:if(o.type!==Mc){i.next=34;break}um(ah(c)),iI&&iI.setVideoContainers(o.payload.localVideoContainer,o.payload.remoteVideoContainer,o.payload.unmuteRemoteContainer),i.next=54;break;case 34:if(o.type!==is){i.next=45;break}if(o.payload.forEach((function(t){u=yI[t.type]})),u&&Oy(u),iI&&o.payload.forEach((function(t){var e=xI[t.type];e&&e(c)})),iI||d!==Ho&&d!==Uo){i.next=43;break}return i.next=41,a({chat:ah(c)});case 41:(iI=i.sent)&&iI.requirePermission(d===Ho).then((function(){return vI(c)}));case 43:i.next=54;break;case 45:if(o.type!==Ac){i.next=53;break}if(iI){i.next=50;break}return i.next=49,a({chat:ah(c),localVideoContainer:o.payload.localVideoContainer,remoteVideoContainer:o.payload.remoteVideoContainer,unmuteRemoteContainer:o.payload.unmuteRemoteContainer});case 49:iI=i.sent;case 50:iI&&iI.requirePermission(d===zo).then((function(){var t=wI(ai,d);n(Ix([t]))})),i.next=54;break;case 53:o.type===Oc?(_I(),CI(c,ri)||(p=wI(ri,l),n(Ix([p])))):o.type===Bc&&iI&&iI.unmuteRemote();case 54:return i.abrupt("return",s);case 55:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()}}),(function(t){var n=t.getState;return function(i){var o=function i(o,a,r){void 0===r&&(r=function(t){return Promise.resolve(t)});var s=xp(n()),c=oo(o,Ai.sendChatMessages);s&&c&&(c.messages=function(t,n){return t.map((function(t){var i=t.content,o=B(t,qS);return Object.assign({content:o.encoding?i:e.Base64.encode(i),encoding:n},o)}))}(c.messages,s)),function(t,e){oo(e,Ai.recoverVisitor)&&(t.dispatch(dv(!0)),t.dispatch(uv(!0)))}(t,o);var d=ob(n());return n().page.isSubmitSSO?null:(function(t,e){oo(e,Ai.submitSSOInfo)&&t.dispatch(Lv(!0))}(t,o),fS(Db(n()),function(t){if(!t)return t;var e=Qw();return t.actions?(t.actions.forEach((function(t){return Object.assign(t,{sessionId:e})})),t):Object.assign({},t,{sessionId:e})}(o),a,d).then((function(t){return CS.cancel(),MS&&oo(t.output,IS.getChatMessages)&&(MS=!1),t})).then(bS(t)).then(r).then((function(e){return Vk(t,e),xS(t,e),e})).catch(JS(OS(t,i))).catch(JS((function(t){var e=t.error.code;throw-1!==[gk,bk].indexOf(e)&&t.error.serverInstanceTag,t}))).catch(JS(LS(t,i,a,r))).catch(JS(function(t){var e=t.getState,n=t.dispatch;return function(t){if(t.input.type===Ai.getVisitorInfo)n(U_(null));else if(oo(t.input,Ai.submitSSOInfo))n(u_(t.error.message));else{var i=t.error.code;if(-1!==[mk,gk,wk,bk].indexOf(i)){var o=e();Bp(o)&&(Ah(o)||jp(o)===iu)&&n(u_(Lb(e(),dw))),n(dv(!1))}else if(1024===i||1032===i)n(sv());else if(7601===i)t.error.message&&n(u_(t.error.message));else if(4342339===i)n(u_("Oops.We're getting problems to the chatbot. Please refresh this page to chat with a live agent.")),n(dv(!1));else if(1037===i)n(u_(t.error.message)),n(dv(!1));else{if(oo(t.input,Ai.recoverVisitor))throw t;if(i!==vk){var a=Lb(e(),"promptServerException");a&&n(u_(a.replace("{errorCode}",i)))}else{var r=t.input;r.type===Ai.requestChat&&r.isFromKB&&n(u_(t.error.message))}}}throw t}}(t))).catch(JS(yS(t))).catch(JS(function(t){var e=t.dispatch,n=t.getState;return function(t){throw t.error.code===gk&&fS(Db(n()),ro({visitorGuid:ng(n()),visitorId:Rw()})).catch((function(t){var n=t.error.code;throw 1024!==n&&1032!==n||e(sv()),t})),t}}(t))).catch(JS(vS(t))).catch(JS((function(e){throw 1===e.error.code&&t.dispatch({type:Gc}),e}))))},a=function(t,e,n,a,r){return o(e,null,n).catch((function(e){var n=e.message;if(e.error&&318===e.error.code){var o=Rb(r,Qf(r));n=E[o].recaptchaFailure}throw i(Gx(t)),i(u_(n)),a&&a(n),e}))};return function(t){t.type===ud?HS(i,t.payload,n()):t.type===pd?function(t,e,n){var i=e.link;t(Xv(fd,{url:i}))}(i,t.payload,n()):t.type===Cc&&i(t);var e=KS[t.type];if(e){var r=e(t.payload,n());if(r){QS(r,n());var s=o(r);if(t.type===wc||t.type===pc||t.type===ec||t.type===gc||t.type===mc)return s;if(t.type===js&&t.payload===Hd&&tp(n()))return s;if(t.type===Cc)return s}return i(t)}if(t.type===$s)return ip(n())||(o(Vi(Qf(n()))),function(t){return Object.keys(t.page.buttons)}(n()).forEach((function(t){return o(function(t){return{type:Ai.getIfOnline,campaignId:t}}(t))}))),null;if(t.type===rs){var c=t.payload.file;if(!c)return null;if(_h(n()))return null;var d=wp(n()),l=Dh(n()),u=function(t){return t.configuration.attachmentMaxCount}(n()),p=qb(n()),h=Gb(n());return l>=u?(i(b_(wu,{fileCount:u})),Promise.resolve()):c.size>d*Math.pow(2,20)?(setTimeout((function(){i(b_(pu,{fileSize:d}))}),1e3),Promise.resolve()):0===c.size?(i(b_(hu)),Promise.resolve()):(i(t),o(qi(!0,ah(n()))).then((function(e){var a=e.output.payload;return o(function(t,e,n,i,o,a,r,s){return Bi({type:Ai.sendFile,chatGuid:e,visitorGuid:i,siteId:n,fileServiceUrl:o,standbyFileServiceUrl:a,token:r,fileName:s},t)}(c,t.meta,$f(n()),ng(n()),p,h,a,t.payload.fileName),(function(e,n){return i(function(t,e,n){return{type:$r,payload:{name:t,percent:e,onCancel:n}}}(t.payload.fileName,e,n))})).then((function(t){var e=t.output;return i({type:ts,payload:e})})).catch(JS((function(t){var e=t.error;return i($v(e))}))).catch((function(t){return i($v({message:t.message}))}))})).catch(JS((function(t){var e=t.error;return i($v(e))}))).catch((function(t){return i($v({message:t.message}))})))}if(t.type===cc){var f=t.payload,g=f.form,w=f.onSuccess,m=f.onError,b=ag(n(),Rp(n())),v=Object.assign({},b,{lastChattedAgents:fm(),ticketId:g.ticketId||b.ticketId,departmentId:null==g.department?b.departmentId:void 0,isPrechatDone:!0,skipSSO:!0});a(ru,no([Li(g,Rp(n())),v]),w,m,n())}else if(t.type===rc){var _=n(),x=tb(_),y=x&&x.campaignId?x.campaignId:Rp(_),C=t.payload,k=C.form,S=C.onSuccess,I=C.onError,M=ah(_),O=Object.assign({},sg(_));M&&(O.chatGuid=M);var A=function(t){var e=t&&{name:t.name,fileKey:t.key};a(cu,function(t,e,n){return{type:Ai.submitOfflineMessage,campaignId:t,form:e,source:n}}(y,Object.assign({},k,{attachment:e}),O),S,I)};if(k.attachment){var B=function(t,e,n,i){var o=Ym(t,cu,n);if(o&&o.length>0){var a=o.filter((function(t){return t.type===i}));if(a.length>0)return a[0]}return""}(n(),0,y,So);o(qi(!1)).then((function(t){var e=t.output.payload;o(function(t,e,n,i,o,a){var r=t.attachment;return Bi({siteId:e,fileServiceUrl:n,standbyFileServiceUrl:i,attachmentField:o,token:a,fileName:r.name},r)}(k,$f(n()),qb(n()),Gb(n()),B,e)).then((function(t){var e=t.output;return A(Object.assign({},e))})).catch((function(t){var e=t.input,n=t.error;i(Gx(cu)),i(Rx(cu,e.attachmentField.id,n.message))}))})).catch((function(t){var e=t.input,n=t.error;i(Gx(cu)),i(Rx(cu,e.attachmentField.id,n.message))}))}else A()}else if(t.type===sc){var T=ah(n()),j=t.payload,N=j.form,P=j.onSuccess,D=j.onError;a(su,function(t,e,n){return{type:Ai.submitPostChat,chatGuid:t,form:e,campaignId:n}}(T,N,Lp(n())),P,D).then((function(){return i(t_(ql))}))}var W=i(t),F=YS[t.type];if(F){var V=F(t.payload,n());QS(V,n()),V&&o(V)}return W}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){if(!n())return t(i);var o,a=tg(n());if(i.type===_r){var r=i.payload,s=r.guid,c=r.ifNewVisitor,d=r.sessionId,l=r.migrationInfo,u=r.persistentVisitor;if(s&&(qw(s,a),bw(zw())),d&&Jw({sessionId:d},a),c){var p=Yw(a),h=p.firstVisitTime,f=p.visitTimes;Jw({firstVisitTime:h||(new Date).getTime(),visitTimes:(f||0)+1},a)}u&&Jw({persistentVisitor:u},a),l&&Jw(Object.assign({},l),a)}if(i.type===yr&&i.payload&&function(t,e){var n=Gw(Uw(e)).navigation||[];Ww.setItem(Uw(e),JSON.stringify(Object.assign({},Yw(e),{navigation:n.concat(t)})))}(i.payload,a),i.type===Cr&&(o=a,Ww.setItem(Uw(o),JSON.stringify(Object.assign({},Yw(o),{navigation:[]})))),i.type===oc){var g=Yw(a),w=g&&g.form&&void 0!==g.form.email?Object.assign({},g.form,{email:i.payload}):{};void 0!==w.email?Jw({email:i.payload,form:w},a):Jw({email:i.payload},a)}if(i.type===Br&&i.payload===Hl){var m,b=qg(n(),Rp(n())).routeDepartment;b&&(m={department:b});var v=Yw(a),_=qp(n());m=Object.assign({},!_.isForgetPrechat&&v?v.form:{},m,tp(n())?LC():{}),Object.keys(m).length>0&&t(Yx(m))}if(i.type===Br&&i.payload===Gl){var x,y=qg(n(),Rp(n())).routeDepartment;y&&(x={department:y});var C=Yw(a);(x=Object.assign({name:C.name?C.name:"",email:C.email?C.email:""},C?C.form:{},x,tp(n())?LC():{}))&&t(Yx(x))}if(i.type===xr){var k=i.payload;if(k.isManual&&k.chat){var S=k.chat.guid,I=Xw(S,a),M=I.windowStatus,O=I.maxReadId;if(M){var A=t(Object.assign({},i,{payload:Object.assign({},i.payload,{windowStatus:M})}));return null!=O&&e(P_(O)),A}}}var B=n(),T=Ah(B),j=t(i),N=n();if(a=$f(N),i.type===td||i.type===nd){var P=Yw(),D=P||{},W=D.name,F=D.email,V=Object.assign({},i.payload);P&&P.form?Jw({name:V.name&&V.name!==W?V.name:W||"",email:V.email&&V.email!==F?V.email:F||"",form:Object.assign({},P.form,{name:P.form.name&&V.name?V.name:W||"",email:P.form.email&&V.email?V.email:F||""})},a):Jw({name:V.name&&V.name!==W?V.name:W||"",email:V.email&&V.email!==F?V.email:F||""},a)}if(i.type===nd&&ru===i.meta&&!qp(N).isForgetPrechat){var E=Object.assign({},i.payload);delete E.department,delete E.ticketId,delete E.captcha,Jw({form:E},a)}var z=Ah(N),R=ah(N);if(!T&&z){var L=eg(N);L!==zd&&L!==Ld&&L!==Rd||em(R,{windowStatus:L},tg(N))}if(i.type===js){var H=i.payload===Ld||i.payload===zd||i.payload===Rd,q=Wb(N);(z||q)&&H&&em(R,{windowStatus:i.payload},tg(N))}if(i.type===Ys||i.type===js||i.type===is||i.type===ld){var U=uh(B),G=uh(N);U!==G&&em(R,{maxReadId:G},tg(N))}return i.type===is&&i.payload.forEach((function(t){var e=t.content,n=t.type;if(n!==Be&&n!==Fn||function(t,e){var n=Yw(e)||{},i=n.chatTimes;n.lastChatGuid!==t&&Jw({chatTimes:(i||0)+1,lastChatGuid:t},e)}(ah(N),a),n===Ne||n===Be||n===Ve){if(e.agent){var i=ah(N);RC!==i&&(RC=i,Jw({lastChattedAgents:[]},void 0)),function(t,e){var n=(Yw(e)||{}).lastChattedAgents||[];if(-1===n.indexOf(t)&&Number.isNaN(Number(t))){var i=n.concat([t]);Jw({lastChattedAgents:i},e)}}(e.agent.id)}}else n===je&&e.agent&&function(t,e){var n=(Yw(e)||{}).lastChattedAgents||[];if(-1!==n.indexOf(t)){var i=n.filter((function(e){return e!==t}));Jw({lastChattedAgents:i},e)}}(e.agent.id);n===he||n===Te?Cm():n===Mn&&vm()!==e.ssoInfo&&(bm(e.ssoInfo),ym())})),i.type===Ks&&Cm(),i.type===Gs&&(i.payload?Ww.setItem(jw,!0):Ww.removeItem(jw)),j}}}),(function(t){t.dispatch;var e=t.getState;return function(t){return function(n){var i=e();if(n.type===Vs){var o=$f(i),a=Zf(i),r=Mm(o,a);if(r){var s=Xw(r.chatGuid,r.siteId),c=Qf(i);Pb(r,!0),function(t,e,n,i,o){var a=Pb(i,!0);return KI(a,t,e,n,i,o).catch((function(a){var r=a&&a.error&&a.error.code;if(r===vk||r===mk){var s=Pb(i,!1);return KI(s,t,e,n,i,o)}throw a}))}(t,c,s,r,i).then((function(){t(n)})).catch((function(e){Sm(o,a),t(n)}))}else t(n)}else n.type===jd?(n.payload.window.crossSiteChatTransfer&&Im($f(n.payload),Zf(n.payload),tb(n.payload)),t(n)):t(n)}}}),(function(t){var e=t.getState;return function(t){var n=function(t,e){var n=K((function(){return e(E_())}),1e4,!1);return function(e){var i=e.type,o=e.sender,a=e.content,r=t();if(i===We)n();else if(i===Ne||i===Be||i===Ve){var s=a.agent;Oy("livechat.chat.agent.join",s)}else if(i===Pe||i===Fe){var c=zg(r,o.id);Oy("livechat.chat.agent.transfer",c)}else if(i===je){var d=zg(r,o.id);Oy("livechat.chat.agent.leave",d)}}}(e,t);return function(e){var i=t(e);return e.type===is&&e.payload.forEach(n),i}}}),(function(t){return function(e){return function(n){var i=t.getState(),o=ap(t.getState());n.type===Gs&&n.payload&&QC.stop(Bb(i,YC)),n.type!==Or&&n.type!==Ar||QC.stop(Bb(i,YC));var a=e(n),r=t.getState();if(!Xu(r))return null;var s=function(t){var e=qp(t);return e&&e.notification}(r),c=uh(i);if(n.type===Ks&&Oy("livechat.chat.end"),n.type===is){var d=jp(i),l=jp(r);d!==l&&(l===ou?Oy("livechat.chat.start",ah(r)):l===au&&Oy("livechat.chat.end"));var u=0,p=0;n.payload.forEach((function(t){if(Ma(t)&&t.id&&!(t.id<=c)&&(Ba(t.type)&&(p+=1),!m||t.type!==bn&&t.type!==hn&&t.type!==Je&&t.type!==qe?Ba(t.type)&&t.type!==_n&&t.type!==Ze&&t.type!==gn&&t.type!==Ge?o||ZC(Bb(r,JC)):t.type!==on&&t.type!==rn&&t.type!==cn&&t.type!==sn&&t.type!==nn&&t.type!==un&&(o||ZC(Bb(r,"new-response"))):u+=1,t.type!==Be)){if(t.sender.type===Xl){var e=null;switch(t.type){case Pn:e=U(function(t){var e=t.content.intentAnswers[0];return e.type===Ty?$C(e.content):e.type===Ny||e.type===Fy?e.content.name:e.type===Py?"[Video]":e.type===Vy?$C(e.content.text):e.content.text}(t),0,48);break;case En:e=t.content.message+" "+t.content.signInText;break;case zn:case qn:case Hn:e=t.content.message}if(null!=e){var n=cp(r,"/visitorside/images/logo60.png");return yp(r)&&(n=""),void XC(e,n)}}if(s){var i="string"==typeof t.content?t.content:t.content.text,a=cp(r,"/visitorside/images/logo60.png");yp(r)&&(a=""),XC(i,a)}}})),(u>0||p>0)&&(u>p?o||QC.play(Bb(r,YC),!0):QC.stop(Bb(r,YC)))}var h=ff(i),f=ff(r),g=hf(i),w=hf(r)||f;if(h||!f||o?h&&!f&&QC.stop(Bb(r,YC)):QC.play(Bb(r,YC),!0),(g||h)&&!w&&r.window&&(o||ZC(Bb(r,JC))),s&&xh(r)&&!xh(i)&&KC(),n.type===vr){var b=n.payload.campaignId;if(ug(i,b)!==ug(r,b)){var v=qg(r,n.payload.campaignId),_=ug(r,b);Oy(_?"livechat.button.online":"livechat.button.offline",v)}}if(n.type===kc){var x=nh(i),y=nh(r);y.position===x.position&&y.waitTime===x.waitTime||Oy("livechat.chat.waitingQueue.update",y)}return a}}}),(function(t){var e=t.getState,n=t.dispatch,i=function(){var t=mw(DI),e="";try{e=JSON.parse(decodeURIComponent(t)).ssnid.split(".")[2]}catch(t){}n(function(t){return jx(ui,t)}(e))},o=function(){n(Dx())},a=function(t){var e=t&&t.enabled;VI.style.borderColor=e?"#cd0808":FI},r=function t(r){var s=N.GLANCE.Cobrowse.Visitor;try{s.removeEventListener("sessionend",t),s.removeEventListener("sessionstart",i),s.removeEventListener("rc",a),s.removeEventListener("error",o),j.body.removeChild(VI)}catch(t){}e().window&&n(Dx())},s=function(t,e,n,s,c){var d=function(){var t=mw(DI);if(!t)return null;try{return JSON.parse(decodeURIComponent(t))}catch(t){return null}}(),l=!c;if(l&&!d){var u={ssnid:e+"."+n+"."+s,R:1,yb:!0,Od:!1,Fa:[EI(N.location.host)],boxstate:3,expanded:!1};vw(DI,encodeURIComponent(JSON.stringify(u)))}return HI(t,e).then((function(){var t=N.GLANCE.Cobrowse,e=t.VisitorUI,s=t.Visitor;try{e.showButton(!0),l||s.startSession(n),s.addEventListener("sessionend",r),s.addEventListener("sessionstart",i),s.addEventListener("rc",a),s.addEventListener("error",o),qI.forEach((function(e){try{var n,i=e[0],o=e[1],a=e.slice(2);(n=t[i])[o].apply(n,a)}catch(t){}})),j.body.appendChild(VI)}catch(t){}qI=[]}))};return function(t){return function(i){var o=e(),a=hf(o),r=ff(o),c=t(i),d=e(),l=hf(d),u=ff(d),p=function(t){return!tp(t)}(d),h=p&&NI&&PI;if(UI&&xb(d)){var f=Up(d),g=Jb(d);LI(f,g),UI=!1}if(!r&&u&&(h||(t({type:xd}),NI?p?PI||n(jx(wi)):n(jx(hi)):n(jx(fi)))),!a&&l){var w=function(t){return t.window.cobrowseSessionCode}(d),m=function(t){return t.window.cobrowseGroupId}(d),b=function(t){return t.window.cobrowseCallId||""}(d),v=RI?rp(e(),"cobrowse/GlanceCobrowseLoader_3.3.0M.js"):"https://www.glancecdn.net/cobrowse/CobrowseJS.ashx?group="+m+"&site=production";if(h){if(xb(d)){var _=Up(d),x=Jb(d);LI(_,x)}else UI=!0;s(v,m,w,b,r)}}if(a&&!l&&d.window)if(N.GLANCE){var y=N.GLANCE.Cobrowse.Visitor;try{y.stopSession()}catch(t){}}else tp(d)&&Eb(o)?n({type:yd}):qI.push(["Visitor","stopSession"]);return c}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){var o,a=n();if(i.type!==ys||Df(a)){if(i.type===Cs){var r=Kp(a),s=Y(r,"returnUrl"),c=N.location.href.replace("#",""),d=decodeURIComponent(s)+(s.indexOf("?")>0?"&":"?")+"return="+encodeURIComponent(c),l=Sg(a),u=l?"&jwt="+l:"";W.href=r.substring(0,r.indexOf("returnUrl="))+"returnUrl="+encodeURIComponent(d)+u}}else{var p=$f(a),h=Kp(a),f=window.location.href.match(/^[^:]+:\/\/[^/]+/)[0],g=h+encodeURIComponent("?target="+f),w=Sg(a),m=g+"&color=ffffff"+(w?"&jwt="+w:""),b="",v=Y(h,"returnUrl");v&&(b=v.match(/^[^:]+:\/\/[^/]+/)[0]);var _=Qf(a),x=YI(a,_),y=x.width,C=x.height,k=Math.max(y,380);N.open(m,""+Lb(a,sw)+p,"width="+k+",height="+C+",left=200,top=100,status=no,toolbar=no,menubar=no,resizable=yes,location=no,titlebar=no");var S=(o=b,{subscribe:function(t){var e=function(e){var n=o.match(/^[^:]+:\/\/[^/]+/)[0];e.origin===n&&t(e)};return N.addEventListener("message",e),function(){return N.removeEventListener("message",e)}}}),I=S.subscribe((function(t){if(t.data){var n=JSON.parse(t.data);"sso-login"===n.type&&(e(xx(n.payload)),I(),S=null)}}))}return t(i)}}}));var QI="$brandingName Live Chat".replace("$brandingName",N.brandingName);function ZI(t){var e=N.GoogleAnalyticsObject;if(e){var n=N[e];try{for(var i=n.getAll(),o=0;o<i.length;o+=1)n(i[o].model.data.ea[":name"]+".send","event",QI,t,t,0)}catch(t){}}else N._gaq&&N._gaq.push(["_trackEvent",QI,t,t]);N.gtag&&N.gtag("event",t,{event_category:QI,event_label:t})}var XI=R(ZI,"Chat"),$I=R(ZI,"Pre-chat"),tM=R(ZI,"Offline-Message"),eM=R(ZI,"Invitation"),nM=R(ZI,"Post-Chat"),iM=R(ZI,"Online Button Click"),oM=R(ZI,"Offline Button Click"),aM=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var n=e.prototype;return n.getChildContext=function(){return this.props.context},n.render=function(){return d(this.props.children)[0]},e}(l),rM=function(t,e){return{unmount:function(){for(var t=0;t<e.children.length;t+=1)e.removeChild(e.children[t])},render:function(i,o){var a;a=Array.isArray(i)?1===i.length?i[0]:n("div",null,i):i;var r=n(aM,{context:t.context},a);c(r,e),"function"==typeof o&&o()}}},sM=function(t,e){return"string"==typeof e?t[e]:e.reduce((function(t,e){return void 0===t?t:t[e]}),t)},cM=function(t,e,n,i){return void 0===i&&(i={}),n.some((function(n){var o=!1,a=sM(t[e],n),r=sM(i,n);return r instanceof Date&&a instanceof Date?o=JSON.stringify(r)!==JSON.stringify(a):r!==a&&(o=!0),o}))},dM=function(t){var e=t.split(".");return 1===e.length?t:e},lM=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=[]);var i=e.map(dM),o=n.map(dM);return function(e,n){return cM(t,"props",i,e)||cM(t,"state",o,n)}},uM=function t(e){return e.parentNode?t(e.parentNode):e};function pM(t){return t}var hM=function(t){function e(e){var n;return n=t.call(this,e)||this,e.enableGa?n.update=n.update.bind(at(n)):n.update=function(){},n.componentDidMount=n.update,n.componentDidUpdate=n.update,n.shouldComponentUpdate=lM(at(n),["invitation","windowTab","chatStatus"]),n}ot(e,t);var i=e.prototype;return i.update=function(){var t=this.props;if(t.invitation||t.chatStatus===iu)eM();else{var e=this.props.windowTab;if(e===ql){var n=this.props.guid;(Xw(n)||{}).gaChat||(em(n,{gaChat:!0}),XI())}e===Hl&&$I(),e===Gl&&tM(),e===Ul&&nM()}},i.render=function(){return n("div",null)},e}(l),fM=["name","children"],gM=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this.props,e=t.name;t.children;var n=B(t,fM),i=j.createElement(e);Object.keys(n).forEach((function(t){i[t]=n[t]})),j.head.appendChild(i)},i.shouldComponentUpdate=function(){return!1},i.render=function(){return n("div",null)},e}(l),wM="render",mM=function(t,e){return function(i){return function(o){function a(e,n){var i;i=o.call(this,e,n)||this;var a=n&&n[wM]?n[wM]():{};return i.replacer=a[t],i}ot(a,o);var r=a.prototype;return r.componentDidMount=function(){if(this.useOrigin=!this.replacer,!this.useOrigin){var t=this.replacer(e?this.props[e]:void 0);t?(this.element.innerHTML="",this.element.appendChild(t)):this.useOrigin=!0}},r.shouldComponentUpdate=function(){return this.useOrigin},r.render=function(){var t=this;return this.replacer?n("div",{ref:function(e){t.element=e}},n(i,this.props)):n(i,this.props)},a}(l)}},bM=function(t,e){return function(i){var o;function a(){if(this.useOrigin=!this.replacer,!this.useOrigin){var t=this.replacer();t?(this.element.innerHTML="",this.element.appendChild(t)):this.useOrigin=!0}}var r=((o={})[Hl]="livechat.prechat."+t,o[ql]="livechat.chat."+t,o[Ul]="livechat.postChat."+t,o[Gl]="livechat.offlineMessage."+t,o),s=["livechat.postChat.greeting","livechat.postChat.form","livechat.postChat.submit"];function c(t,e,n){var i=r[e];if(!n||!s.includes(i))return i?t[i]:void 0}return function(t){function o(e,n){var i;(i=t.call(this,e,n)||this).apis=n&&n[wM]?n[wM]():{},i.replacer=c(i.apis,e.tab,e.ifCrossSiteTransfer),i.useOrigin=!0;var o=a.bind(at(i));return i.componentDidMount=o,i.componentDidUpdate=function(t){t.tab!==i.props.tab&&o()},i}ot(o,t);var r=o.prototype;return r.componentWillReceiveProps=function(t){t.tab!==this.props.tab&&(this.useOrigin||(this.element.innerHTML="",this.useOrigin=!0),this.replacer=c(this.apis,t.tab,t.ifCrossSiteTransfer))},r.shouldComponentUpdate=function(){return this.useOrigin},r.render=function(){var t=this;return n("div",{ref:function(e){t.element=e},className:e},n(i,this.props))},o}(l)}},vM=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var n=e.prototype;return n.getChildContext=function(){var t;return(t={})[wM]=this.props.getRender,t},n.render=function(){return d(this.props.children)[0]},e}(l),_M="*,.innerIcon,::after,::before{box-sizing:border-box}html{margin:0;font-size:15px}body{margin:0;font-family:\"SourceSans Pro\",'',Arial;line-height:1.42857143;overflow:hidden}.chatButtonMask{position:fixed;right:25px;bottom:0;width:60px;height:100px;z-index:9}.chatButtonContainer--mobile.chatButtonMask{right:0;bottom:0;width:100px;height:100px}.chatButton,.chatButton::after,.chatButtonContainer{width:60px;height:60px;border-radius:100%}.chatButtonContainer{position:fixed;bottom:25px;right:25px;z-index:2147483636}.chatButton{position:absolute;right:0;bottom:0;box-shadow:0 3px 25px rgba(0,0,0,.3)}.chatButtonMask.chatButtonContainer--mobile .chatButton{right:25px;bottom:25px}.chatButtonMask .chatButton{bottom:25px}.chatButton::after,.chatButton::before{display:block;top:0;bottom:0;position:absolute;right:0;left:0}.chatButton:hover{box-shadow:0 3px 10px rgba(0,0,0,.3);transition:box-shadow .4s cubic-bezier(.785,.135,.15,.86);cursor:pointer;will-change:transform}.chatButton:focus{outline:#000001 auto 5px}.chatButton::after{content:''}.chatButton::before{content:'';border-radius:50%}.chatButton--ripple::before{animation:at-ripple 16.417s linear 3.625s infinite}.chatButton__svg-chat{position:absolute;left:13px;top:14px;z-index:9}.chatButton__svg-chat-path{stroke-width:0;fill:#00000b}.chatButton__svg-container{position:absolute;left:12px;top:12px;z-index:9;width:36px;height:36px}.chatButton__svg-container svg{fill:#00000b;width:100%;height:100%}.offline .chatButton__svg-chat-path{fill:#fff}.chatButton--scaleAnimation .chatButton__svg-chat-path{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:dash,fillIn;animation-duration:417ms,167ms;animation-delay:625ms,1.042s}@keyframes dash{from{stroke-dashoffset:120}to{stroke-dashoffset:0}}@keyframes fillIn{from{fill-opacity:0}to{fill-opacity:1}}.dot__element{display:inline-block;width:3px;height:3px;margin-left:3px;border-radius:100%;position:relative}.dot__element:first-child{margin-left:0}@keyframes dot--animation{0%{opacity:0;transform:translateY(-35px)}100%{opacity:1;transform:translateY(0)}}.dot--animation{animation-name:dot--animation;animation-delay:1.209s}@keyframes xAxis{100%{transform:translateX(-170px)}}@keyframes yAxis{78%{transform:translateY(-185px) translateZ(0) scale(8.97,8.97);background-color:transparent}89%{transform:translateY(-185px) translateZ(0) scale(10.235,10.235);background-color:transparent}100%{transform:translateY(-185px) translateZ(0) scale(11.5,11.5);background-color:transparent}}.chatButton--avatar .chatButton{box-shadow:none;z-index:1}.chatButton--avatar::after{content:'';display:block;width:60px;height:60px;border-radius:100%;background-repeat:no-repeat;background-size:cover;box-shadow:0 1px 6px rgba(0,0,0,.3)}.chatButton--avatar .chatButton::after{background:0 0!important}.chatButton--avatar .chatButton .chatButton__svg-chat,.chatButton--avatar .chatButton__svg-container{display:none}.chatButton--newMessage{position:absolute;right:0;top:4px;z-index:9;width:16px;height:16px;line-height:16px;background:rgba(222,57,57,.9);border-radius:100%;color:#fff;text-align:center;font-size:.8rem;animation:newincoming .4s cubic-bezier(.785,.135,.15,.86) both}@keyframes newincoming{0%{transform:scale(0)}75%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes at-ripple{0%{box-shadow:0 0 0 0 #dadada}100%,8.631%{box-shadow:0 0 0 25px rgba(218,218,218,0)}}.at-ripple{animation-name:at-ripple}.svg-container{width:60px;height:60px;position:absolute;z-index:9;left:0;top:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.chatButton--avatar .svg-container{display:none}.innerDotContainer,.outIcon{-ms-transform:scale(1);transform:scale(1);position:absolute;top:16px;left:14px;width:32px;height:32px}.innerIcon{-ms-transform:scale(1) translate(0,0);transform:scale(1) translate(0,0);-ms-transform-origin:50% 50%;transform-origin:50% 50%}.moveIn .outIcon{-ms-transform:scale(1.15);transform:scale(1.15);-ms-transform-origin:50% 50%;transform-origin:50% 50%;transition:transform 160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveIn .innerDotContainer{-ms-transform-origin:50% 50%;transform-origin:50% 50%;transition:opacity 150ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveOut .outIcon{-ms-transform:scale(1);transform:scale(1);-ms-transform-origin:50% 50%;transform-origin:50% 50%;transition:transform 160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveIn .innerIcon,.moveOut .innerIcon{transition:all 160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveIn .innerIcon{opacity:0;-ms-transform:scale(0);transform:scale(0);-ms-transform-origin:50% 50%;transform-origin:50% 50%}.moveOut .innerIcon{opacity:1;-ms-transform:scale(1);transform:scale(1);-ms-transform-origin:50% 50%;transform-origin:50% 50%}.innerDot{-ms-transform:scale(0);transform:scale(0);animation-name:bounce;-webkit-animation-name:bounce;animation-duration:.8s;-ms-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box;animation-timing-function:cubic-bezier(0,0,1,1);animation-fill-mode:both;animation-iteration-count:1;position:absolute}.innerDot:nth-child(1){animation-delay:60ms;left:5px}.innerDot:nth-child(2){animation-delay:120ms}.innerDot:nth-child(3){animation-delay:180ms}@keyframes bounce{0%,100%,66.67%{transform:translate(0,0)}6.67%{transform:translate(0,-4px)}13.33%,20%{translate:translate(0,-6px)}26.67%{transform:translate(0,-3px)}33.33%{transform:translate(0,-1px)}40%{transform:translate(0,2px)}46.67%{transform:translate(0,1px)}53.33%{transform:translate(0,-1px)}}.chatButtonHighContrast .chatButton{border:1px solid}.chatButtonHighContrast .chatButton__svg-chat-path{fill:currentColor}@media (forced-colors:active){.chatButton{border:1px solid}.chatButton__svg-chat-path{fill:currentColor}}@media (prefers-contrast:more){.chatButton{border:1px solid}.chatButton__svg-chat-path{fill:currentColor}}",xM=function(t){function e(e){var n;(n=t.call(this,e)||this).title=j.title,n.flag=!0,n.flashTitle=n.flashTitle.bind(at(n)),n.resetTitle=n.resetTitle.bind(at(n));var i=n.updateTitle.bind(at(n));return n.componentDidMount=i,n.componentDidUpdate=i,n.shouldComponentUpdate=lM(at(n),["message"]),n}ot(e,t);var i=e.prototype;return i.componentWillUnmount=function(){this.timer&&this.resetTitle()},i.flashTitle=function(){var t=this;this.timer=setTimeout((function(){t.flag&&j.title!==t.title&&(t.title=j.title),j.title=t.flag?t.message+" - "+t.title:t.title,t.flag=!t.flag,t.flashTitle()}),1e3)},i.updateTitle=function(){var t=this.props.message;-1===j.title.indexOf(this.message)&&this.title!==j.title&&(this.title=j.title),t?(this.timer||(this.flag=!0,this.flashTitle()),this.message=t):this.resetTitle()},i.resetTitle=function(){clearTimeout(this.timer),this.timer=null,j.title=this.title},i.render=function(){return n("div",null)},e}(l),yM=function(t,e,n){var i=[].concat(e),o=n?[].concat(n):[];i.forEach((function(e,n){e!==o[n]&&function(t,e,n){var i=t.head;if(i){var o=i.querySelector("style#"+e);o||((o=t.createElement("style")).id=e,i.appendChild(o)),o.innerHTML=n}}(t,"id-"+n,i[n])}))},CM=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this.props.css;this.doc=uM(this.div),yM(this.doc,t)},i.componentDidUpdate=function(t){var e=this.props.css,n=t.css;e!==n&&yM(this.doc,e,n)},i.componentWillUnmount=function(){var t=this.props.css;!function(t,e){var n=[].concat(e),i=t.head;i&&n.forEach((function(t,e){var n=i.querySelector("style#id-"+e);n&&i.removeChild(n)}))}(this.doc,t)},i.render=function(){var t=this;return n("div",{ref:function(e){t.div=e}})},e}(l),kM=["children","innerCss","noIframe","languageTag","title","extraJs"],SM=function(t){var e=[];return t.forEach((function(t){return e.push('<script src="'+t+'" async type="text/javascript" charset="utf-8"><\/script>')})),e.join("")},IM=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t,e,n=this,i=this.props,o=i.noIframe,a=i.languageTag,r=i.extraJs,s=i.baseTarget,c=i.title;if(o)this.container=this.div,t=N,e=uM(this.div);else{var d=function(t,e,n){return["<!doctype html>",t?'<html lang="'+t+'" translate="no">':"<html>","<head><title>"+n+"</title></head>",'<meta charset="utf-8" />','<meta name="viewport" content="width=device-width, initial-scale=1.0" />',e?SM(e):"","</head>","<body>",'<div id="container"></div>',"</body>","</html>"].join("")}(a,r,c);this.container=function(t,e){var n=t.contentDocument;return n.open(),n.write(e),n.close(),n.getElementById("container")}(this.iframe,d),t=this.iframe.contentWindow,e=this.iframe.contentDocument,s&&function(t,e){var n=document.createElement("BASE");n.target=e,t.head.appendChild(n)}(e,s)}var l,u=rM(this,this.container),p=u.render,h=u.unmount,f=lM(this,["style","innerCss","className"]);this.shouldComponentUpdate=function(n){var i=f(n);return i||(o?n.callback&&n.callback(t,e):p(n.children,(function(){return n.callback&&n.callback(t,e)}))),i},this.componentDidUpdate=function(){o?n.props.callback&&n.props.callback(t,e):p(n.props.children,(function(){return n.props.callback&&n.props.callback(t,e)}))},this.componentWillUnmount=o?function(){}:h,o||p(this.props.children),this.props.onMounted&&this.props.onMounted(t,e),this.props.callback&&this.props.callback(t,e),l=e,et&&l.addEventListener("selectionchange",(function(){var t=l.activeElement;if(t&&("TEXTAREA"===t.tagName||"INPUT"===t.tagName&&"text"===t.type)){var e=l.createEvent("CustomEvent");e.initCustomEvent("input",!0,!0,{}),t.dispatchEvent(e)}})),function(t,e){var n="global-showFocus",i=new RegExp("\\b"+n+"\\b"),o=function(){e.documentElement.className=e.documentElement.className.replace(i,"").trim()};t.addEventListener("keydown",(function(){i.test(e.documentElement.className)||(e.documentElement.className+=" "+n+" ")}),!0),t.addEventListener("touchstart",o,!0),t.addEventListener("mousedown",o,!0)}(t,e)},i.render=function(){var t=this,e=this.props,i=e.children;e.innerCss;var o=e.noIframe,a=e.languageTag,r=e.title;e.extraJs;var s=B(e,kM);return o?n("div",rt({},s,{ref:function(e){t.div=e}}),i):n("iframe",rt({allowFullScreen:"1",allow:"microphone;camera;midi;encrypted-media",title:r},s,{lang:a||"en",ref:function(e){t.iframe=e}}))},e}(l),MM=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={isMouseDown:!1},n.doDrag=n.doDrag.bind(at(n)),n.stopDrag=n.stopDrag.bind(at(n)),n.startDrag=n.startDrag.bind(at(n)),n.mouseStart={x:0,y:0},n.divStart={x:0,y:0},n.benchmarkTopAndLeft=void 0!==e.left&&void 0!==e.top,n}ot(e,t);var i=e.prototype;return i.startDrag=function(t){var e=t;st(e),this.mouseStart.x=e.clientX,this.mouseStart.y=e.clientY,this.setState({isMouseDown:!0});var n=this.props,i=n.left,o=n.top;this.benchmarkTopAndLeft?(this.divStart.x=i,this.divStart.y=o):(this.divStart.x=this.props.width-Math.min(this.props.right,this.props.width-this.props.ifrWidth)-this.props.ifrWidth,this.divStart.y=this.props.height-Math.min(this.props.bottom,this.props.height-this.props.ifrHeight)-this.props.ifrHeight),j.addEventListener("mousemove",this.doDrag),j.addEventListener("mouseup",this.stopDrag)},i.doDrag=function(t){var e=t;if(e||e.button){var n=e.clientX-this.mouseStart.x+this.divStart.x,i=e.clientY-this.mouseStart.y+this.divStart.y,o=this.props.width-this.props.ifrWidth,a=this.props.height-this.props.ifrHeight;n=(n=n<0?0:n)>o?o:n,i=(i=i<0?0:i)>a?a:i;var r=this.props.width-n-this.props.ifrWidth,s=this.props.height-i-this.props.ifrHeight,c=n,d=i;this.benchmarkTopAndLeft?this.props.ifrLeftAndTopPositionChanged(c,this.props.ifCanOnlyHorizontalDrag?this.props.top:d):this.props.ifrPositionChanged(r,s)}else this.stopDrag()},i.stopDrag=function(){this.setState({isMouseDown:!1}),j.removeEventListener("mousemove",this.doDrag),j.removeEventListener("mouseup",this.stopDrag)},i.render=function(){var t,e,i=this.props,o=i.id,a=i.left,r=i.top,s=i.width,c=i.height,d=i.barHeight,l=i.barWidth,u=i.ifrHeight,p=i.ifrWidth,h=i.ifrOffsetTop,f=i.ifrOffsetLeft;return t=this.state.isMouseDown?this.benchmarkTopAndLeft?c-r-d:Math.min(this.props.bottom,c-u):this.benchmarkTopAndLeft?c-r-d:Math.min(this.props.bottom+u,c)-(d+h),e=this.state.isMouseDown?this.benchmarkTopAndLeft?s-a-l-f:Math.min(this.props.right,s-p):this.benchmarkTopAndLeft?s-a-l-f:Math.min(this.props.right+p,s)-(l+f),n("div",{id:o,className:"movediv",onMouseDown:this.startDrag,style:{height:this.state.isMouseDown?u:d,width:this.state.isMouseDown?p:l,bottom:t,right:e,position:"fixed",cursor:"move",zIndex:jI}})},e}(l);MM.defaultProps={ifrOffsetLeft:30,ifrOffsetTop:30,barHeight:24,barWidth:315};var OM="circular",AM="square",BM=function(t){function e(e){var n;return(n=t.call(this,e)||this).maxHandledMsgId=-1,n.bodyDisableScroll=e.onMount,n.bodyEnableScroll=e.onUnmount,n.onReadNewMsg=n.onReadNewMsg.bind(at(n)),n.escMinimize=n.escMinimize.bind(at(n)),n.resize=null,n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this;this.props.show?this.bodyDisableScroll():this.bodyEnableScroll(),ct(this.element.firstChild,this.props.onAnimated),dt(this.element.firstChild,this.onReadNewMsg,this.props.isMobile),this.element.ownerDocument.addEventListener("keydown",this.escMinimize),this.props.isPoppedOut&&this.props.windowStyle!==Fg&&window.ResizeObserver&&(this.resize=new window.ResizeObserver(K((function(e){t.props.updateMainWindowWidth(e[0].contentRect.width)}),200)).observe(this.element))},i.componentDidUpdate=function(t){var e=this.props.show;!t.show&&e&&this.onReadNewMsg(),t.show!==e&&(e?this.bodyDisableScroll():this.bodyEnableScroll())},i.componentWillUnmount=function(){this.bodyEnableScroll(),ct(this.element.firstChild,this.props.onAnimated),lt(this.element.firstChild,this.onReadNewMsg,this.props.isMobile),this.element.ownerDocument.removeEventListener("keydown",this.escMinimize),this.props.isPoppedOut&&this.props.windowStyle!==Fg&&this.resize&&this.resize.disconnect()},i.onReadNewMsg=function(){this.props.chatStatus!==ou&&this.props.chatStatus!==iu||!this.props.isMessageScrollBottom||(!this.props.maxVisitorReadId||this.props.maxVisitorReadId&&!Ka(this.props.maxVisitorReadId,this.props.maxGuid,this.props.messages))&&this.props.maxGuid!==this.maxHandledMsgId&&(this.props.onReadNewMsg(this.props.maxGuid),this.maxHandledMsgId=this.props.maxGuid)},i.escMinimize=function(t){this.props.show&&27===t.keyCode&&this.props.minimize&&this.props.minimize()},i.render=function(){var t=this,e=this.props,i=e.isMobile,o=e.isRightToLeft,a=e.isPoppedOut,r=e.windowStyle,s=e.children,c=e.windowTab,d=e.chatStatus,l=e.env,p=e.isIPad,h=e.show,f=e.showAvatar,g=e.ifShowSideWindow,w=e.cornerStyle,m=e.isCurrentAdaptiveButton,b=e.width;ut(this.context);var v,_=u(c===ql&&u(d===nu&&"animation--waiting",d===ou&&"animation--chatting",d===au&&"animation-chatted")),x=u("embedded-window",i&&"window--mobile",g&&"withSideWin",p&&"window--ipad",i&&2===l&&"window--mobileVertical",i&&1===l&&"window--mobileHorizontal",q&&"window--ie",pt&&"window--edge",!ht&&ft&&"window--chrome");w===OM?v="window--circular":w===AM&&(v="window--square");var y=null;return i&&!p&&(y=b),n("div",{className:u(x,!h&&"window--minimized"),ref:function(e){t.element=e}},n("div",{id:"whole-window",className:u(f&&"window--bio","whole-window","window--animated",o?"window--rtl":"",a?"":"window--embedded",v,Vg(r),r===Wg&&g&&!p&&!i&&"window--circle--sidewindow",r===Dg&&g&&!p&&!i&&"window--classic--sidewindow",m&&"window--adaptive",_,et?"window--ie9":"",gt&&"window--ie10"),style:{maxWidth:y},tabIndex:"0"},n("main",{id:"main",className:"main-container",style:g&&i&&(c===ql||c===Hl||c===Gl||c===Rl||c===Ll)&&(r!==Fg?{height:"calc(100% - 45px)"}:{"margin-bottom":"45px"})},s)))},e}(l),TM=function(t){return{position:t?"absolute":"fixed",width:"100%",height:"100%",overflow:"hidden",top:0,bottom:0,right:0,left:0,margin:0,touchAction:"none"}},jM={display:"none"},NM=25,PM=17.5,DM=function(t){var e=t.showAdaptiveMinimizeIcon,n=105;return t.windowStyle===Fg||(n-=PM),e?n:0},WM=function(t){return t.showAdaptiveMinimizeIcon?12.5:0},FM=function(){},VM=null,EM=null,zM={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};Object.keys(zM).forEach((function(t){t in j&&(VM=zM[t],EM=t)}));var RM=function(t){function e(e){var n;(n=t.call(this,e)||this).state={showMessage:!0,cobrowsingStopShowingLeft:"undefined",cobrowsingStopShowingTop:0,windowBaseChildrenDidMount:!1,minimized:e.windowStatus===Ld,sideWindowAnimationEnd:!1,isBubbleMinimizing:!1,isBubbleRestoring:!1},n.setWinSize=function(){},n.getWinStyle=function(){},n.getSideWinStyle=function(){},n.getInnerCss=n.getInnerCss.bind(at(n)),n.updateIframe=function(){return FM},n.shouldComponentUpdate=lM(at(n),["windowStatus","windowTab","children","windowStyle","unread","title","seed","sideWindow","right","bottom","width","height","cornerStyle","showToolbox","isPoppedOut","showChatWindowInSidewindow"],["showMessage","windowBaseChildrenDidMount","cobrowsingStopShowingLeft","cobrowsingStopShowingTop","minimized"]);var i=e.onFocusToggle;return n.onFocus=function(){var t=n.props.windowStatus;t!==zd&&t!==Rd||i(!0)},n.onFocusToggle=function(){var t=n.props.windowStatus;i(!j[EM]&&(t===zd||t===Rd))},n.getChildren=n.getChildren.bind(at(n)),n.getSideWin=n.getSideWin.bind(at(n)),n.getDragBar=n.getDragBar.bind(at(n)),n.onAnimated=n.onAnimated.bind(at(n)),n.onMount=n.onMount.bind(at(n)),n.bodyEnableScroll=n.bodyEnableScroll.bind(at(n)),n.bodyDisableScroll=n.bodyDisableScroll.bind(at(n)),n.sideWindowOnAnimated=n.sideWindowOnAnimated.bind(at(n)),n.updateSideWindowNoScroll=n.updateSideWindowNoScroll.bind(at(n)),n.bubbleIframeHeight=0,n.onWindowVisibleChange=n.onWindowVisibleChange.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){if(this.props.isPoppedOut&&!this.props.showChatWindowInSidewindow){var t=rm().popout;t&&t.SideWinWidth&&t.SideWinWidth>0&&N.resizeTo(N.outerWidth-t.SideWinWidth,N.outerHeight),sm({popout:Object.assign({},t,{SideWinWidth:-1,isLarged:!1})})}var e=this.props,n=e.isMobile,i=e.isIPad,o=e.isPoppedOut;(n&&!i||o)&&wt(this.onWindowVisibleChange)},i.componentWillReceiveProps=function(t){var e=this.props;t.width!==e.width||(t.height,e.height),t.unread>e.unread&&this.setState({showMessage:!0}),t.windowStatus!==this.props.windowStatus&&this.setState({minimized:!1}),(t.windowStatus===zd||t.windowStatus===Rd)&&t.windowStatus!==this.props.windowStatus&&this.props.onReadNewMsg(),this.setState({isBubbleMinimizing:t.windowStatus!==this.props.windowStatus&&t.windowStatus===Ld}),this.setState({isBubbleRestoring:t.windowStatus!==this.props.windowStatus&&t.windowStatus===Rd})},i.componentWillUnmount=function(){var t=this.contentWindow;t&&t.removeEventListener&&(t.removeEventListener("focus",this.onFocus),t.removeEventListener("blur",this.onBlur)),j.removeEventListener(VM,this.onFocusToggle),this.timer&&(clearTimeout(this.timer),this.timer=null),this.bodyEnableScroll();var e=this.props,n=e.isMobile,i=e.isIPad,o=e.isPoppedOut;(n&&!i||o)&&mt(this.onWindowVisibleChange)},i.onAnimated=function(){this.props.windowStatus===Ld&&!this.state.minimized&&this.setState({minimized:!0})},i.onMount=function(t){this.contentWindow=t,t.addEventListener("focus",this.onFocus),t.addEventListener("blur",this.onBlur),this.props.onMounted&&(this.props.onMounted(),j.addEventListener(VM,this.onFocusToggle))},i.onWindowVisibleChange=function(){var t=this.props,e=t.windowStatus,n=t.chatStatus;!wt()||e!==zd&&e!==Rd||n!==ou&&n!==iu||this.props.onReadNewMsg()},i.getInnerCss=function(){var t,e=this.props,n=e.isMobile,i=e.windowStyle===Fg;t=e.background?"background-image:"+e.background:"background-color:#f5f5f5";var o="#fff";n||(o=i?"#f8f8f8":"#fafafa");var a=!(n||i);a&&(o="rgba(250,250,250,.9)");var r=n||!i,s=n?"#glance_gesture{position: fixed;}":"";return[[e.fontCSS,ma(de,e.mainColor),ma(_M,e.mainColor),".online .chatButton:after{","background-color:"+e.mainColor,"}",".offline .chatButton:after{","background-color:#bbb","}",".main-container{"+t+"}",".chatInputContainer{","background:"+o+";",r?"border-top:1px solid rgba(0,0,0,.1);":"","}",".chatInputContainer+div>.footer{","background:"+o+";",a?"opacity:0.9;":"","}",".window--bubble .window__operation{background:"+M(e.mainColor)+"}",""].join(""),"",e.amyCustomCSS,e.customCss,s,""]},i.getChildren=function(t){var e=this.props,i=e.windowStatus,o=e.isMobile,a=e.title,r=e.isRightToLeft,s=e.isPoppedOut,c=e.windowStyle,d=e.children,l=e.windowTab,u=e.chatStatus,p=e.isIPad,h=e.showAvatar,f=e.ifShowSideWindow,g=e.cornerStyle,w=e.isCurrentAdaptiveButton,m=e.width,b=e.ifEnableVisitorSeeMsgSentSeen,v=e.maxVisitorReadId,_=e.maxMsgId,x=e.onReadNewMsg,y=e.maxGuid,C=e.messages,k=e.minimize,S=e.isMessageScrollBottom;return n(BM,{show:i===zd||i===Rd,isMobile:o,title:a,isRightToLeft:r,isPoppedOut:s,windowStyle:c,windowTab:l,chatStatus:u,isIPad:p,env:t,onUnmount:this.bodyEnableScroll,onMount:this.bodyDisableScroll,onAnimated:this.onAnimated,showAvatar:h,ifShowSideWindow:f,cornerStyle:g,isCurrentAdaptiveButton:w,width:m,ifEnableVisitorSeeMsgSentSeen:b,maxVisitorReadId:v,maxMsgId:_,maxGuid:y,onReadNewMsg:x,messages:C,minimize:k,isMessageScrollBottom:S,updateMainWindowWidth:this.props.updateMainWindowWidth},d)},i.getSideWin=function(t,e,i,o){var a=this.props,r=a.sideWindow;a.fontCSS;var s,c=a.onFocusToggle,d=a.isMobile,l=a.extraJs,u=this.props,p=jM;if(r){if(i)p={display:"none"};else{p=this.getSideWinStyle(t,e,i),d&&!e?(p.bottom=0,p.right=0):(p.bottom+=DM(u)+function(t){var e=t.windowStyle,n=t.isMobile,i=t.isIPad,o=t.isPoppedOut,a=e===Fg;return i?a||o?0:PM:!a||n||o?0:-17.5}(u),p.right+=WM(this.props));var h=0;p&&p.bottom&&(h=p.bottom),p.maxHeight="calc(100% - "+h+"px)"}s=n(r,{ToogleChatWinFocused:c,sideWindowOnAnimated:this.sideWindowOnAnimated,updateSideWindowNoScroll:this.updateSideWindowNoScroll})}u.isMobile||u.isPoppedOut||u.windowStyle===Fg||(p.zIndex=BI,p.right+=12);var f=ut(this.context);return n(IM,{key:"sideWin",id:"side_window_container",style:p,languageTag:o,scrolling:this.state.sideWindowAnimationEnd?"auto":"no",title:f.sideWindow,extraJs:l},s)},i.getCobrowsingStopShowingButton=function(){var t=this,e=this.props,i="";e.isMobile&&(i="@media screen and (max-width: 767px) {.glance_cobrowse_btn button{width:100%;}.glance_cobrowse_btn__drag{display: none;}}");var o=ut(this.context);return n(IM,{key:"cobrowsingStopShowing",id:"cobrowsing_stopshowing_container",style:e.ifCobrowsingShowing&&!e.isPoppedOut?{border:"none",width:e.isMobile?"135px":"172px",height:"30px",position:"fixed",top:0,left:"undefined"===t.state.cobrowsingStopShowingLeft?(e.width-(e.isMobile?135:172))/2:t.state.cobrowsingStopShowingLeft,zIndex:TI}:{display:"none"},title:o.cobrowsingBtn,languageTag:this.props.languageTag},n(CM,{css:'body{margin: 0;font-family: "Lucida Grande", "Lucida Sans Unicode", Arial, sans-serif;overflow: hidden}.glance_cobrowse_btn{position: absolute;width: 100%;background-color: #1c2124;height: 30px;box-sizing: border-box;border-bottom-right-radius: 4px;border-bottom-left-radius: 4px;overflow: hidden;}.glance_cobrowse_btn button{display:block;width: 135px;height: 30px;line-height: 30px;padding-left: 20px;padding-right: 20px;box-sizing: border-box;font-size: 15px;color: #fff;text-decoration: none;border: none;appearance:none;-moz-appearance:none; -webkit-appearance:none;outline: none;background: none;cursor: pointer;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}.glance_cobrowse_btn__drag{position: absolute;right: 8px;top: 5px;width: 20px;height: 20px;border-left: 1px solid rgba(255,255,255,0.2);padding-left: 8px;}.svgPath {fill: #000;width: 16px;height: 16px;}.glance_cobrowse_btn__drag .drag{fill: #fff}'+i}),n("div",{className:"glance_cobrowse_btn"},e.ifCobrowsingShowing&&n("button",{onClick:function(){return N.GLANCE.Cobrowse.Visitor.stopSession()}},e.languageCobrowseStop),n("div",{className:"glance_cobrowse_btn__drag"},n(bt,{type:vt,className:"",viewBox:"0 0 19 28"}))))},i.getDragBar=function(){var t=this,e=this.props,i=e.windowStyle,o=e.windowStatus,a=e.isPoppedOut,r=e.width,s=e.height,c=e.showAvatar;if(!((o===zd||o===Rd)&&!a&&!(i===Fg)))return null;var d=this.winWidth,l=Math.min(this.winHeight,s-DM(this.props)),u=7.5;return i===Wg&&c&&(u=32.5),n(MM,{key:"dragBar",barWidth:d-NM-112,ifrOffsetTop:u,ifrOffsetLeft:12.5,width:r,height:s,right:this.props.right,bottom:this.props.bottom+DM(this.props),ifrWidth:d,ifrHeight:l,ifrPositionChanged:function(e,n){var i=n-DM(t.props);t.props.onPositionChange(e,Math.max(0,i))}})},i.getCobrowsingStopShowingDragBar=function(){var t=this,e=this.props,i=e.ifCobrowsingShowing,o=e.width,a=e.height,r=e.isPoppedOut,s=e.isMobile;if(!i||r||s)return null;var c="cobrowsingStopShowingDrag";return n(MM,{key:c,id:c,ifCanOnlyHorizontalDrag:!0,barWidth:37,barHeight:30,ifrOffsetTop:0,ifrOffsetLeft:135,width:o,height:a,left:"undefined"===this.state.cobrowsingStopShowingLeft?(o-172)/2:this.state.cobrowsingStopShowingLeft,top:this.state.cobrowsingStopShowingTop,ifrWidth:172,ifrHeight:30,ifrLeftAndTopPositionChanged:function(e,n){t.setState({cobrowsingStopShowingLeft:e,cobrowsingStopShowingTop:n})}})},i.sideWindowOnAnimated=function(){this.setState({sideWindowAnimationEnd:!0})},i.updateSideWindowNoScroll=function(){this.setState({sideWindowAnimationEnd:!1})},i.bodyDisableScroll=function(){if(this.props.isMobile){var t=j.body.style,e=!this.props.isIPad;this.style=Object.keys(TM(e)).reduce((function(n,i){var o=n;return o[i]=t[i],t[i]=TM(e)[i],o}),{}),this.props.isPoppedOut||j.addEventListener("touchmove",st),this.setState({windowBaseChildrenDidMount:!0})}},i.bodyEnableScroll=function(){var t=this;this.props.isMobile&&(Object.keys(this.style||{}).forEach((function(e){j.body.style[e]=t.style[e]})),this.props.isPoppedOut||j.removeEventListener("touchmove",st),this.setState({windowBaseChildrenDidMount:!1}))},i.render=function(){var t=this,e=this.props,i=e.windowStatus,o=e.isMobile,a=e.width,r=e.height,s=e.orientation,c=e.isIPad,d=e.title,l=e.isPoppedOut,u=e.languageTag,p=e.windowStyle;e.brandConfig;var h=e.isSideWindowSelectedTabKb,f=N.brandingNameLowerCase,g=3;o&&(s===ll&&(!c||a<760)?g=1:s===ul&&(!c||r<760)&&(g=2)),this.setWinSize(g,c);var w=i===Ld,m=3!==g&&!w,b=this.getWinStyle(g,c),v=w&&(this.state.minimized||!_t||q||p===Fg);if(p===Fg&&this.state.isBubbleRestoring&&this.bubbleIframeHeight&&(b=Object.assign({},b,{height:this.bubbleIframeHeight})),v&&((b=Object.assign({},b,{width:0,height:0,display:"none"})).left="",b.top=""),!v&&l&&p===Wg&&(b.backgroundColor="#d5d5d5"),"100%"===b.height||p===Fg&&l)b.bottom=0,b.right=0;else{var _=Math.min(r-DM(this.props),b.height);b.bottom=Math.min(b.bottom+DM(this.props),r-_),b.right=Math.min(b.right,a-b.width)+WM(this.props)}var x=0,y=0;if(!o||c?(b&&b.right&&(x=b.right),b&&b.bottom&&(y=b.bottom),b.maxWidth="calc(100% - "+x+"px)",b.maxHeight="calc(100% - "+y+"px)"):(b.right=0,b.bottom=0),p===Fg&&!l&&(!o||c)){this.props.showAdaptiveMinimizeIcon&&(b.bottom=105,b.maxHeight="calc(100% - 105px)")}h&&o&&!c&&(b.display="none");var C,k=this.getInnerCss();m&&(C=function(t,e){return{position:t?"absolute":"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.15)",zIndex:e?1:AI}}(o&&!c,l));var S=o&&!l&&!c&&!w&&"html{width:100%!important;position:static!important}body>*:not(#"+f+"-container):not(#branding-cobrowse-border){display:none!important}body{text-indent:-9999px!important}#"+f+"-container,#"+f+"-container>div{position:static!important}",I=ut(this.context);return n("div",{style:C,onTouchMove:!l&&st},this.state.windowBaseChildrenDidMount&&S&&n(CM,{css:S}),this.getSideWin(g,c,w,u),this.getDragBar(g),n(IM,{key:"win"+(l?1:0),id:"chat_window_container",ref:function(e){t.container=e},onMounted:this.onMount,style:b,callback:this.updateIframe(g,c),noIframe:l,languageTag:u,tabIndex:v?-1:void 0,title:I.chatWindow,baseTarget:"_top"},n(CM,{css:k}),!l&&n(xM,{message:d}),this.getChildren(g)),this.getCobrowsingStopShowingButton(),this.getCobrowsingStopShowingDragBar())},e}(l),LM=function(t,e){if(!t)return 0;var n=t.querySelector("#main");if(!n)return 0;var i=n.getBoundingClientRect().height;if(e){i+=45}return i},HM=function(e){function n(n){var i;(i=e.call(this,n)||this).state=Object.assign({},i.state,{innerHeight:0}),i.updateIframe=t(1)((function(t,e){return function(n,o){var a=i.props,r=a.windowStatus,s=a.sideWindow;if(r===zd||r===Rd){var c=3===t&&e&&s;i.setState({innerHeight:LM(o,c)}),i.timer&&clearTimeout(i.timer),i.timer=setTimeout((function(){i.setState({innerHeight:LM(o,c)}),i.timer=null}),460)}r===Ld&&i.setState({innerHeight:0})}}));i.setWinSize=function(t){3===t&&(i.winWidth=i.props.isPoppedOut?380:360,i.props.windowStatus!==Ld||i.state.minimized?i.winHeight=Math.max(Math.min(i.props.height,i.state.innerHeight),500):("100%"!==i.winHeight&&(i.bubbleIframeHeight=i.winHeight),i.winHeight="100%")),1===t&&(i.props.width>500?i.winWidth=500:i.winWidth="100%",i.winHeight="100%"),2===t&&(i.winWidth="100%",i.winHeight="100%")},i.getWinStyle=function(t,e){var n,o,a=0,r=0;return 3===t&&(a=i.props.bottom,r=i.props.right,n=i.state.left,o=i.state.top),{position:3===t||e||i.props.isMinimized?"fixed":"absolute",border:0,zIndex:i.props.isPoppedOut?2:II,top:o,left:n,bottom:a,right:r,width:i.winWidth,height:i.winHeight}},i.getSideWinStyle=function(t,e){var n=i.props,o=n.isPoppedOut,a=n.width,r=n.windowStyle;if(3===t&&!e){var s=i.props.right+i.winWidth<a?a-(i.props.right+i.winWidth):0,c=i.props.right+i.winWidth+505>=a?a-i.winWidth-s-505:i.props.right+i.winWidth,d=o?i.winWidth:c,l=o?480:505,u=i.props.height-i.winHeight>87.5?i.props.height-i.winHeight-87.5:0,p=i.winHeight+i.props.bottom>=i.props.height?u:i.props.bottom;r!==Fg||o||(p=0);var h=Math.max(0,Math.min(a-d,l));return{zIndex:o?1:AI,width:l,height:o?555:580,bottom:p,right:d,background:"transparent",position:"fixed",border:0,maxWidth:h}}var f=i.props.showChatWindowInSidewindow,g=o&&e,w=g?"100%":i.winWidth,m=g?"100%":i.winHeight;return{zIndex:BI,width:w,height:f?45:m,right:i.props.right>=a-i.winWidth?a-i.winWidth:i.props.right,bottom:0,background:"transparent",position:"fixed",border:0}};var o=i.shouldComponentUpdate;return i.shouldComponentUpdate=function(t,e){return!!o(t,e)||e.innerHeight!==i.state.innerHeight},i}return ot(n,e),n}(RM),qM=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWinSize=function(t){var e=n.props.iframeStyle,i=e&&e.width,o=e&&e.height,a=i;3===t&&(n.winWidth=a,n.sideWindowWidth=i,n.winHeight=o),1===t&&(n.props.width>500?n.winWidth=500:n.winWidth="100%",n.winHeight="100%"),2===t&&(n.winWidth="100%",n.winHeight="100%")},n.getWinStyle=function(t,e){var i=n.props.isMinimized;return{position:3===t||e||i?"fixed":"absolute",border:0,zIndex:II,top:n.state.top,left:n.state.left,bottom:n.props.bottom,right:n.props.right,width:n.winWidth,height:n.winHeight}},n.getSideWinStyle=function(t,e){var i=n.props.showChatWindowInSidewindow,o=25;if(3===t){var a=n.props.showAvatar,r=n.winHeight;a&&(r-=25),e&&(i?r=45:(r-=o,a&&(r+=32.5)));var s=n.props.right+n.winWidth<n.props.width?n.props.width-(n.props.right+n.winWidth):0,c=n.winWidth+n.props.right+505>=n.props.width&&n.props.right>=505?n.props.width-n.winWidth-s-505:n.winWidth+n.props.right-o,d=n.winWidth+n.props.right>=n.props.width?n.props.width-n.winWidth-s+12.5:n.props.right+12.5,l=e?d:c,u=n.props.height-n.winHeight>87.5?n.props.height-n.winHeight-87.5:0,p=n.winHeight+n.props.bottom>n.props.height?u:n.props.bottom,h=Math.max(n.props.width-l,0);return{zIndex:e?BI:AI,width:e?n.winWidth-o:505,height:r,bottom:p,right:l,background:"transparent",position:"fixed",border:0,maxWidth:h}}return{zIndex:BI,width:n.winWidth,height:i?45:n.winHeight,right:0,bottom:n.props.bottom,background:"transparent",position:"fixed",border:0}},n}return ot(e,t),e}(RM),UM=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWinSize=function(t){var e=n.props.iframeStyle,i=e&&e.width,o=e&&e.height,a=i;3===t&&(n.winWidth=a,n.winHeight=o),1===t&&(n.props.width>500?n.winWidth=500:n.winWidth="100%",n.winHeight="100%"),2===t&&(n.winWidth="100%",n.winHeight="100%")},n.getWinStyle=function(t,e){var i=3!==t||e?II:AI;return{position:3===t||e||n.props.isMinimized?"fixed":"absolute",border:0,zIndex:i,top:n.state.top,left:n.state.left,bottom:n.props.bottom,right:n.props.right,width:n.winWidth,height:n.winHeight}},n.getSideWinStyle=function(t,e){if(3===t){var i=n.winHeight;e&&(i=n.props.showChatWindowInSidewindow?45:n.winHeight-25);var o=n.props.right+n.winWidth<n.props.width?n.props.width-(n.props.right+n.winWidth):0,a=n.winWidth+n.props.right+505>=n.props.width&&n.props.right>=505?n.props.width-n.winWidth-o-505:n.winWidth+n.props.right-25,r=n.winWidth+n.props.right>=n.props.width?n.props.width-n.winWidth-o+12.5:n.props.right+12.5,s=e?r:a,c=n.props.height-n.winHeight>87.5?n.props.height-n.winHeight-87.5:0,d=n.winHeight+n.props.bottom>n.props.height?c:n.props.bottom,l=Math.max(0,n.props.width-s);return{zIndex:3===t&&!e?AI:BI,width:e?n.winWidth-25:505,height:i,bottom:d,right:s,background:"transparent",position:"fixed",border:0,maxWidth:l}}return{zIndex:BI,width:n.winWidth,height:n.props.showChatWindowInSidewindow?45:n.winHeight,right:0,bottom:n.props.bottom,background:"transparent",position:"fixed",border:0}},n}return ot(e,t),e}(RM),GM=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWinSize=function(t,e){n.winHeight="100%";var i=n.props,o="100%",a="100%";if(i.sideWindow&&3===t&&!e){var r=i.width;r>860?(o=r-480,a=480):(o="44.2%",a="55.8%")}n.winWidth=o,n.sideWinWidth=a,n.sideWinHeight=i.showChatWindowInSidewindow?45:n.winHeight},n.getSideWinStyle=function(t,e){var i=n.props.width-n.winWidth;return 3!==t||e||(i=Math.min(i,500)),{background:"transparent",position:"fixed",border:0,zIndex:3!==t||e?3:1,width:n.sideWinWidth,height:n.sideWinHeight,bottom:0,left:0,maxWidth:i}},n.getWinStyle=function(){return{position:"absolute",border:0,zIndex:2,width:n.winWidth,height:n.winHeight,right:0,bottom:0}},n}return ot(e,t),e}(RM),KM=["hOnline","hOffline","hCallback","hStop"],YM=function(t){return function(e){function i(t){var n;return(n=e.call(this,t)||this).timer=null,n.stopTimer=null,n.hOnline=[].concat(t.hOnline),n.setTimespan=n.setTimespan.bind(at(n)),n.heartbeat=n.heartbeat.bind(at(n)),n.tick=n.tick.bind(at(n)),n.registerStop=n.registerStop.bind(at(n)),n.clean=n.clean.bind(at(n)),n.initial=n.initial.bind(at(n)),n}ot(i,e);var o=i.prototype;return o.componentDidMount=function(){this.props.hOnline&&this.initial()},o.componentDidUpdate=function(t){t.hOnline&&!this.props.hOnline&&this.clean(),!t.hOnline&&this.props.hOnline&&(this.hOnline=[].concat(this.props.hOnline),this.initial()),!function(t,e){if(!t&&e)return!1;if(!e&&t)return!1;if(!e&&!t)return!0;var n=[].concat(t),i=[].concat(e);return n.length===i.length&&n.every((function(t,e){return t.timespan===i[e].timespan&&t.duration===i[e].duration}))}(t.hOnline,this.props.hOnline)&&t.hOnline&&this.props.hOnline&&(this.clean(),this.hOnline=[].concat(this.props.hOnline),this.initial())},o.componentWillUnmount=function(){this.clean()},o.setTimespan=function(){var t=this.hOnline.shift();t&&(this.duration=t.duration,this.timespanTimer=setTimeout(this.setTimespan,1e3*t.timespan))},o.initial=function(){this.setTimespan(),this.tick(),this.registerStop(),this.props.hDelay||this.props.hCallback(this.props),this.props.hOnInit&&this.props.hOnInit.call()},o.heartbeat=function(){this.props.hCallback(this.props),this.duration?this.tick():this.heartbeatTimer=null},o.tick=function(){var t=void 0!==this.props.hOffline?this.props.hOffline:this.duration;this.heartbeatTimer=setTimeout(this.heartbeat,1e3*t)},o.registerStop=function(){var t=this;void 0!==this.props.hStop&&(this.stopTimer=setTimeout((function(){t.clean.call(),t.props.hOnStopped&&t.props.hOnStopped.call()}),1e3*this.props.hStop))},o.clean=function(){this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.timespanTimer&&clearTimeout(this.timespanTimer),this.stopTimer&&clearTimeout(this.stopTimer),this.heartbeatTimer=null,this.timespanTimer=null,this.stopTimer=null},o.render=function(){var e=this.props;e.hOnline,e.hOffline,e.hCallback,e.hStop;var i=B(e,KM);return n(t,i)},i}(l)},JM=["en","zh-Hans"],QM=null,ZM=!1,XM=function(){var t=X($().mark((function t(){var e,n;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,import("./language.5c87bd9b.js");case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),e=0;case 9:if(!(e<5)){t.next=25;break}return t.next=12,new Promise((function(t){return setTimeout(t,5e3)}));case 12:return(n=new URL(t.t0.message.replace("Failed to fetch dynamically imported module: ","").trim())).searchParams.set("t",""+ +new Date),t.prev=14,t.next=17,import(n.href);case 17:return t.abrupt("return",t.sent);case 20:t.prev=20,t.t1=t.catch(14);case 22:e++,t.next=9;break;case 25:throw t.t0;case 26:case"end":return t.stop()}}),t,null,[[0,6],[14,20]])})));return function(){return t.apply(this,arguments)}}(),$M=function(t){var e=function(e){function i(t){return e.call(this,t)||this}ot(i,e);var o=i.prototype;return o.getChildContext=function(){var t=this.props.languageTag;return JM.includes(t)?{language:E[t]}:(ZM||QM||(ZM=!0,XM().then((function(t){var e=t.default;ZM=!1,QM=e}))),{language:QM?QM[t]:E.en})},o.render=function(){return n(t,this.props)},i}(l),i=t.displayName||t.name;return e.displayName="language("+i+")",e},tO=YM($M((function(t){var e=t.windowStyle,i=t.isPoppedOut;return n(function(t,e){return t&&e!==Fg?GM:e===Fg?HM:e===Wg?qM:UM}(i,e),t)}))),eO=xt((function(){return import("./RatingForm.4cbab641.js")})),nO=xt((function(){return import("./SendEmailForm.ed2dcf39.js")}));function iO(t){if(t)return t.displayName||t.name}var oO=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={focusKey:e.show?iO(e.icons[0]):void 0,showRatingForm:!1,showSendEmailForm:!1},n.onFocus=n.onFocus.bind(at(n)),n.onKeyDown=n.onKeyDown.bind(at(n)),n.onDialogToggle=n.onDialogToggle.bind(at(n)),n.onRatingFormChange=n.onRatingFormChange.bind(at(n)),n.onEmailChange=n.onEmailChange.bind(at(n)),n.hasModal=!1,n.score=0,n.comment="",n.emailValue="",n}ot(e,t);var i=e.prototype;return i.componentWillReceiveProps=function(t){this.props.show||!t.show||this.hasModal?this.props.show&&!t.show&&this.setState({focusKey:void 0}):this.setState({focusKey:iO(t.icons[0])})},i.onRatingFormChange=function(t){this.score=t.score,this.comment=t.comment},i.onEmailChange=function(t){this.emailChangeFlag=!0,this.emailValue=t.emailAddress},i.onDialogToggle=function(t,e){t?this.setState({focusKey:void 0,showRatingForm:"rating"===e,showSendEmailForm:"sendEmail"===e}):(this.setState({showRatingForm:!1,showSendEmailForm:!1}),this.props.hideMenu()),this.hasModal=t},i.onFocus=function(t){this.hasModal||this.setState({focusKey:t})},i.onKeyDown=function(t){if(this.hasModal)t.stopPropagation();else{var e=this.props.icons.map(iO),n=e.indexOf(this.state.focusKey);if(!(n<0)){var i=n,o=!1;switch(t.keyCode){case 40:o=!0,i=Math.min(n+1,e.length-1);break;case 38:o=!0,i=Math.max(n-1,0);break;case 36:o=!0,i=0;break;case 35:o=!0,i=e.length-1;break;case 27:o=!0,this.props.hideMenu(),this.props.onESCHide();break;case 9:this.props.hideMenu()}o&&(t.preventDefault(),t.stopPropagation()),this.setState({focusKey:e[i]})}}},i.render=function(){var t=this,e=this.props;return n("div",{className:u("window__operation-menu",e.show&&"window__menu-show"),onMouseLeave:e.hideMenu,onKeyDown:this.onKeyDown},n("ul",{role:"menu","aria-haspopup":!0,"aria-expanded":e.show.toString(),className:u("none"!==e.popupBubbleType&&"displayNone")},e.icons.map((function(e){var i=iO(e),o=i===t.state.focusKey;return"lazy"===e.type?n(yt,{fallback:n("div",null)},n(Ct,null,n(e.component,{key:i,onDialogToggle:t.onDialogToggle,onFocus:t.onFocus,focusKey:i,focus:o}))):n(e,{key:i,onDialogToggle:t.onDialogToggle,onFocus:t.onFocus,focusKey:i,focus:o})}))),this.state.showRatingForm&&n(yt,{fallback:n("div",null)},n(Ct,{failCallback:function(){t.setState({showRatingForm:!1,showSendEmailForm:!1})}},n(eO,{isShow:!0,onDialogToggle:this.onDialogToggle,onChange:this.onRatingFormChange}))),this.state.showSendEmailForm&&n(yt,{fallback:n("div",null)},n(Ct,{failCallback:function(){t.setState({showRatingForm:!1,showSendEmailForm:!1})}},n(nO,{isShow:!0,emailAddress:this.emailChangeFlag?this.emailValue:e.emailAddress,onDialogToggle:this.onDialogToggle,onChange:this.onEmailChange}))))},e}(l),aO=function(t){function e(e){var n;return(n=t.call(this,e)||this).updateBodyCss=n.updateBodyCss.bind(at(n)),n.focusOnClose=n.focusOnClose.bind(at(n)),n.focusOnLastButton=n.focusOnLastButton.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this;this.updateBodyCss(),this.props.ifShow&&setTimeout((function(){if(t.props.autoFocus){var e=t.btn.ownerDocument.getElementById(t.props.autoFocus);e&&e.focus()}else t.btn.focus()}),100)},i.componentDidUpdate=function(t){var e=this;t.ifShow!==this.props.ifShow&&this.updateBodyCss(),!t.ifShow&&this.props.ifShow&&setTimeout((function(){if(e.props.autoFocus){var t=e.btn.ownerDocument.getElementById(e.props.autoFocus);t&&t.focus()}else e.btn&&e.btn.focus()}),100)},i.componentWillUnmount=function(){var t=this.props.globalClass,e=this.element.ownerDocument,n=new RegExp("\\b"+t+"\\b","g");n.test(e.body.className)&&(e.body.className=e.body.className.replace(n,"").trim())},i.focusOnClose=function(){this.btn.focus()},i.focusOnLastButton=function(){var t=this.element.querySelectorAll("button");t[t.length-1].focus()},i.updateBodyCss=function(){var t=this.props.ifShow,e=this.element.ownerDocument,n=this.props.globalClass,i=new RegExp("\\b"+n+"\\b"),o=i.test(e.body.className);t&&!o?e.body.className+=" "+n:!t&&o&&(e.body.className=e.body.className.replace(i,"").trim())},i.render=function(){var t=this,e=this.props,i=e.id,o=e.className,a=e.children,r=e.ifShow,s=e.onClose,c=e.title,d=e.aria,l=e.role,p=ut(this.context);return n("div",{id:i&&"bubble_box_"+i,ref:function(e){t.element=e},className:u("bubble-box",r&&"bubble-box--show",o),onClick:s},r&&[n("div",{tabIndex:0,onFocus:this.focusOnLastButton,ariaHidden:!0}),n("div",rt({id:i,className:"bubble",onClick:function(t){t.stopPropagation()},role:l||"alertdialog",style:{width:this.props.width},"aria-modal":"true","aria-label":"Dialog"},d),n("button",{className:"bubble-close",onClick:s,"aria-label":p.closeDialog,ref:function(e){t.btn=e}},n(bt,{type:kt,ariaHidden:!0})),c&&n("div",{className:"bubble--title"},c),a),n("div",{tabIndex:0,onFocus:this.focusOnClose,ariaHidden:!0})])},e}(l),rO=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifShowDialog:!1},n.show=n.toggle.bind(at(n),!0),n.hide=n.toggle.bind(at(n),!1),n}ot(e,t);var i=e.prototype;return i.toggle=function(t,e){e.stopPropagation(),this.setState({ifShowDialog:t})},i.render=function(){var t=this,e=this.props,i=e.languages,o=St(this.show);return n("div",{className:"header__operationContainer"},n("button",{role:"button",tabIndex:0,onClick:this.show,ref:function(e){t.btn=e},onKeyDown:o,title:i.buttonEndChat,"aria-label":i.buttonEndChat},n(bt,{type:kt,className:"icon-endchat",ariaHidden:!0})),n(aO,{globalClass:"body__dialog",ifShow:this.state.ifShowDialog,onClose:this.hide,className:e.windowStatus===Ld&&"bubble-box--minimize",aria:{"aria-label":"","aria-describedby":"prompt-end-chat-title"},autoFocus:"embedded-end-chatConfirmLeave"},n("div",{id:"prompt-end-chat-title",className:"bubble--desc"},i.promptStopChat),n("div",{className:"embedded-end-chatConfirmAction bubble__operation"},n("button",{id:"embedded-end-chatConfirmLeave",className:"btn btn-primary",onClick:function(n){t.hide(n),e.onEndChat()}},i.buttonYes),n("button",{id:"embedded-end-chatConfirmCancel",className:"btn btn-grey",onClick:this.hide},i.buttonNo))))},e}(l);rO.displayName="EndChat";var sO=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={showEndChatConfirm:!1,showMenu:!1},n.onClickShowEndChatConfirm=n.onClickShowEndChatConfirm.bind(at(n)),n.updateEndChatConfirmStatus=n.updateEndChatConfirmStatus.bind(at(n)),n.showMenu=n.setMenuStatus.bind(at(n),!0),n.hideMenu=n.setMenuStatus.bind(at(n),!1),n.toggleMenuStatus=n.toggleMenuStatus.bind(at(n)),n.onKeyDown=St(n.toggleMenuStatus),n.onEnterPress=n.onEnterPress.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){this.container&&this.container.ownerDocument.body.addEventListener("touchend",this.hideMenu,!1)},i.componentWillUnmount=function(){this.container&&this.container.ownerDocument.body.removeEventListener("touchend",this.hideMenu,!1)},i.onClickShowEndChatConfirm=function(t){this.props.ifViewConfirmBubble?this.state.showEndChatConfirm||(t.stopPropagation(),t.preventDefault(),this.updateEndChatConfirmStatus(!0)):this.props.onEndChat(this.props.passEventArgs)},i.onEnterPress=function(t){13===t.keyCode&&(this.props.onEnterMinimize(),this.props.onMinimize(this.props.tab))},i.setMenuStatus=function(t){this.setState({showMenu:t})},i.updateEndChatConfirmStatus=function(t){this.setState({showEndChatConfirm:t})},i.toggleMenuStatus=function(t){t&&"keydown"===t.type||this.setState({showMenu:!this.state.showMenu})},i.render=function(){var t=this,e=this.props,i=e.icons.length>0,o=e.languages.embeddedWindowMinimize,a=n("button",{"aria-label":e.languages.buttonClose,onClick:function(){return e.onClose(e.tab)}},n(bt,{type:kt,className:"icon-close",title:e.languages.buttonClose,ariaHidden:!0})),r=ut(this.context);return n("div",{className:"title-buttons window__operation",ref:function(e){e&&(t.container=e)}},i&&n("div",{onMouseEnter:!e.isMobile&&this.showMenu,onMouseLeave:!e.isMobile&&this.hideMenu,className:"header__operationContainer"},n("button",{className:"window__operation-menu-icon menubar__btn",onKeyDown:this.onKeyDown,onClick:this.toggleMenuStatus,"aria-label":r.menu,tabIndex:0,ref:function(e){t.menuBtn=e}},n(bt,{type:Mt,ariaHidden:!0})),n(oO,{icons:e.icons,show:this.state.showMenu,hideMenu:this.hideMenu,onESCHide:function(){return t.menuBtn.focus()},popupBubbleType:e.popupBubbleType,emailAddress:e.emailAddress})),e.hasMinimize&&n("button",{title:o,"aria-label":o,onClick:function(){return e.onMinimize(e.tab)},onKeyDown:this.onEnterPress},n(bt,{type:It,className:"icon-minimize",ariaHidden:!0})),e.hasEndChat?n(rO,{languages:e.languages,onEndChat:e.onEndChat,windowStatus:e.windowStatus}):a)},e}(l),cO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAIAAAC2BqGFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTk1OENGMTMxRUZFMTFFNTlBMDdBNjRGRTU4NjdDNTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTk1OENGMTQxRUZFMTFFNTlBMDdBNjRGRTU4NjdDNTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OTU4Q0YxMTFFRkUxMUU1OUEwN0E2NEZFNTg2N0M1MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OTU4Q0YxMjFFRkUxMUU1OUEwN0E2NEZFNTg2N0M1MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PscdlE0AAAduSURBVHja7J3tUxJbHMeXheV5EQUBwUdEqGayrKhpanrf/9ubunlfVLc718xeiRL4rIgPmKRpINL9CjN25w6Q4J4nOt8XTdNMZ5fP/s7v9/3tnj1revHihSJFXqpEIEFL0FIStAQtQUtJ0BK0lAQtQUvQUhK0BC0lQUvQErSUBC1BS0nQErQELUVeFt4DQVW9Nbndbl3X7Xa7paZqtVqpVMrl8nFNX79+PTg4KJVKEnR7MplMgUAgEon09/cDa8MLYK0JF+DyH4vFYj6f39raOj09laB/dUIWy2hNNput3f/bU1M8Ht/Z2clkMghzCbpxFI+MjMRisQ4Q/2+cUE25XC6dTp+cnEjQP+XxeCYnJxGPBo4ZDoeDwSBYr66u/vjxQ4JWotFoIpFA2jV8ZLPZfOvWLUT33Nwc21LJ2N4B7t27d2/evEmC8qX6+vqePn1q7HQRCTTq3qNHj2AtKBwLvvDx48fwML8daFBOJpOINWpHRBp58OABK9Yqq4yB30yT8uVx79+/j/bndwGNAuXz+Zgcuh7XyCTdD3poaAh+mWFtgE8Ha6Lllz1op9OJcGZuKOFA0Bl1M+g7d+40vHdBXwBN0/BRBT04OEi/ALbo1GnOLXqgUYXQ/ik8CVcdTWO3gR4eHqZf63+pRDyO0O4e0PgxY2NjCn9y6zqdbEYJNGaow+FQuFSUSgRQAg3vrPCqQDBot9m7AbSmaX6/X+FYoYFQN4BG3qBTcDpWJBI5Pz8XHjTn4Qx5vV6VcCjQAM1Pk9KKdW+v2KCdTieH9rnBtPP5iD5XJA7a4/EoIqi3r69yVhEYtMvlEgI0AuKsciYwaG77lAbnKXTqsFqtiiAiev+WOGiz2SwKaFVVydVDVegwMfhUNU1g0AIJPYvAoKvVqiigiXbhqtBnb6zOzkS2d+VyWRTQ379/Fxg0h4vvG6pUKmHykbvLSBz0t2/fhABdfz1AYNBcvd/QQoeHh6pJFTuiK5UK/6ALhYJqJkiDOGg404ODA/5B7+TzRJtYlU6wcE4Z0+7o6Ejsex1QPp/nHPTm5ib+NIsO+uTk5MuXLzyDXl1dVVVV+NQBbWxs8Ow39nZ3NcK3cymB3t7e5rZFzGQyCvn75pRAw+GtrKzw2XZnMxkkDdK3c+ndJl1bWyN616YzpVIpdN7XfCmaL9CgnF5c5Iry8fExTgkNobWbQEPrGxtcdeQfZ2cvwtlhp7BijSpodImfPn1i/v77paWDF4Kro5A3FPqPstCApebneWgFP8zMKBcLqVxdteL/UvhVS8vLcHsMKVer1bdv3pRKJVg6zarROSiDh7PwUogmtAmsQP/9/v3+/j6ShpPiKio2T8HhWt+9fYuiz6AAfvwIR4+J5XK7aa7aZrfcwGT6c3qaMuvZ2dmFVOoiNbtclBecqOw4m0yq+urly8L+PoXDwcb99e7d4sIC/u5wOukvVGO5gAZZUrNap6ens9ksaY/xx6tX9XsArNZrM16vVa9Isx8+wIckk0kSCMAXtbdcLmMK4VisFl2aePieIVqY09qmaVNTU+OxmFE1qlgsIilv53L1K4rqx3AhIBcrEOuxhqCb+Wcmk80+f/78+mPOzc2h7tW7UEQxxmf7ZhhHSz0v2gdNM+oxR/HwEJQxGkofhmX+6/haU4ugM2oLILeuO3h6T4m7Zbu6rhsyjtfrNascrYHnDrRRW3j5/f5q9VyCbpo6jHr78yKizTKim4ehUQ4M12wgHJagG2t0dNTA0cajUU4eMvAFOhgMBgIBAwf0+f0RboKaC3vncrni8fjAwIDhI0/duxfa3k6n08yXaTMGbbPZJiYmhoeHybVtuH6YK+vr65lMhuEiHmag0a2Nj48jKVPwBqqq4kCDg4NLS0srKytM3l9iABpk8bNBmXJnDD+TSCRwaGSSzc1NynWSKmjkh6GhIaRjOk/4myWrycnJaDS6sLCwu7vbhaDD4TAQc7KrhNvtTiaThUJhcXGRzmNiGqD7+/tv3LjB4Q4pPp/vyZMnuVzu8+fPpG0JWdDog4GY1Z7cV59qoVCItC0hBVrXdVQe+CpFBFGwJcaDdjgcyMWRSITzve6a2ZKRkRFkEsNtiZGgrVZrLBbDiVLe1d1Y2e12ErbEYlQs4MzGxsYE2gaFsi25LhcEb/1LYgLtncTElnQOGikYiRjpWJR9wK5pS9bW1rLZbMe2pEPQODDqxn8/2tjdwsRFYoQtWV5e7syWWDqYTbDGTD7Ow1yapnVsS9oAjdYOiBl+14srW4IAhy3Z29szEjSy8MTEBCaOcNaYnNCRPXz4EKBTqdRVFh9bfjlZ6r5NoH0CaQrz+9mzZ2jfkUxa10lL64p3+/btrvRtBqr+qVw4k/n5+a2trabltMUQ+P+S8tXrZOsvramtuyNJ8Opy1RbEtg0azbQQO5nzI8z+Fh8KUFtUVcmu7TskLnfboGXe6MTz9Xia7cUqI9pI9Xg8zbpzGdFGytPTU20XtChfm+BKvb29501SR9OG5fXr18dHRxzuGcO/oW7bRwu09TM/Oq80hvavAAMAcWJ5ooQVnC0AAAAASUVORK5CYII=",dO=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={src:cO},n.download=n.download.bind(at(n)),n.download(e.src),n}ot(e,t);var i=e.prototype;return i.componentWillReceiveProps=function(t){t.src!==this.props.src&&(this.setState({src:cO}),this.download(t.src))},i.shouldComponentUpdate=function(t,e){return e.src!==this.state.src},i.download=function(t){var e=this,n=new Image,i=function(){e.setState({src:t})};n.onload=i,n.onerror=i,n.src=t},i.render=function(){var t=this.props;return n("img",rt({},t,{alt:"",src:this.state.src}))},e}(l),lO=bM("header.icons")(sO),uO=t(1)(Ot),pO=function(t){function e(){var e;return(e=t.call(this)||this).state={showEndChatConfirm:!1,headerHeight:0},e.header=null,e.shuoldUpdateHeaderHeight=!1,e.shouldComponentUpdate=lM(at(e),["passEventArgs","ifViewConfirmBubble","ifHideBio","ifViewHeaderBox","ifViewHeader","color","onMinimize","team","avatars","banner","avatar","name","title","bio","logo","tab","controls","languages","agent","windowDisabled","icons","hasEndChat"],["showEndChatConfirm","headerHeight"]),e.onMinimize=e.onMinimize.bind(at(e)),e.onClose=e.onClose.bind(at(e)),e.showAnimation=!0,e}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){this.headerContainer.focus()},i.componentWillReceiveProps=function(t){t.tab===ql&&this.props.tab!==ql&&(this.showAnimation=!0);var e=t.agent&&t.agent.bio,n=this.props.agent&&this.props.agent.bio;(t.ifHideBio!==this.props.ifHideBio||this.props.windowDisabled&&e!==n||this.agent&&this.props.agent.avatar!==t.agent.avatar||this.agent&&this.props.agent.title!==t.agent.title)&&(this.shuoldUpdateHeaderHeight=!0),t.tab!==this.props.tab&&this.headerContainer.focus()},i.componentDidUpdate=function(){var t=this;et||this.header&&this.shuoldUpdateHeaderHeight&&!this.props.isMobile&&(this.shuoldUpdateHeaderHeight=!1,this.props.agent&&this.props.agent.bio?this.props.ifHideBio?this.header.style.height="":this.props.windowDisabled?setTimeout((function(){t.header.style.height=""}),400):this.header.style.height=this.header.scrollHeight+"px":(this.props.windowDisabled&&this.props.agent||!this.props.agent)&&(this.header.style.height=""))},i.onMinimize=function(){this.props.onMinimize(this.props.tab)},i.onClose=function(){return this.props.onClose(this.props.tab)},i.updateEndChatConfirmStatus=function(t){this.setState({showEndChatConfirm:t})},i.render=function(){var t=this,e=this.props,i=this.props.agent,o=this.showAnimation,a=e.chatWindowStyle===Dg,r=uO(e.mainColor),s=e.avatars,c=!(e.team||s||e.banner||i||e.logo),d=ut(this.context);return n("header",{className:"window__headerContainer",onTouchMove:st,ref:function(e){t.headerContainer=e},tabIndex:-1},e.ifViewHeader&&n("div",{id:"branding",className:u("window__header","window__header--noBio",o&&"window__header--fadeInDown",i&&i.avatar&&"window__header--hasAvatar"),style:{background:a?r:"none"},ref:function(e){e&&(t.header=e)}},e.ifViewHeaderBox&&n("div",null,n("div",{className:u("window__headerBox","clearfix",e.team&&"window__headerBox--team",s&&"window__headerBox--hasAvatars",e.banner&&"window__headerBox--banner",c&&"window__headerBox--empty")},e.team&&n("div",{className:u("header__teamName",!s&&"header__teamNameNoAvatar")},e.team),s&&n("div",{className:u("header__teamAvatar",e.isAvatarGray&&"header__teamAvatar--gray",e.ifShowSideWindow&&"header__teamAvatar--withSideWindow")},s.map((function(t,e){return n(dO,{className:"header__teamAvatarImg",src:t,width:"50",height:"50",alt:d.avatar})}))),e.banner&&n("img",{className:"header__bannerImg",src:e.banner,alt:d.banner}),i&&n("div",{className:u("header__agent",e.logo?"header__agent--withlogo":"",i.bio&&e.ifHideBio&&!e.isMobile?"header__agent--compact":"",i.title&&"with__title",o&&"header__agent--fadeInUp"),onClick:function(){e.ifHideBio&&t.props.onUpdateScrollStatus(!1)},onTouchEnd:function(){e.ifHideBio&&t.props.onUpdateScrollStatus(!1)}},i.avatar&&n("div",{id:"header-operator-avatar",className:u("header__avatar",this.props.ifShowSideWindow&&"header__avatar--withSideWindow",o&&"header__avatar--fadeInDown"),key:"avatar"},n(dO,{className:"header__avatarImage",src:i.avatar,alt:function(t){var e=t.type;return"chatbot"===e?"Chatbot avatar":"taskbot"===e?"Taskbot avatar":d.avatar}(i),width:"50",height:"50"})),n("div",{className:u("header__agentInfo",!i.avatar&&"header__agentInfoNoAvatar")},i.name&&n("div",{className:"direction-ltr header__agentName"},i.name),i.title&&n("div",{className:"direction-ltr header__agentTitle"},i.title)),i.bio&&n("div",{className:"header__agentBio",style:{height:e.ifHideBio?"0":"auto",marginTop:e.ifHideBio?0:"4px",marginBottom:e.ifHideBio?0:"1px",paddingLeft:i.avatar&&e.chatWindowStyle===Dg?"62px":0,paddingBottom:e.ifHideBio?0:"2px",overflow:"hidden"},dangerouslySetInnerHTML:{__html:i.bio}})),e.logo&&n("div",{className:"header__logo "+(i&&(i.avatar||i.name)?"header__logo--up":""),key:"logo"},n("img",{id:"logo-image",className:"header__logoImg",src:e.logo,alt:d.logo}))))),n("div",{className:"end-chat-top window__title"},n("span",{id:"embedded-window-title",className:"title-text embedded-only"}),n(lO,{tab:e.tab,hasMinimize:e.hasMinimize,hasEndChat:e.hasEndChat,icons:e.icons,popupBubbleType:e.popupBubbleType,languages:e.languages,passEventArgs:e.passEventArgs,ifViewConfirmBubble:e.ifViewConfirmBubble,ifViewHeader:e.ifViewHeader,onMinimize:this.onMinimize,onPopIn:e.onPopIn,onClose:e.onClose,onEndChat:e.onEndChat,isMobile:e.isMobile,windowStatus:e.windowStatus,onEnterMinimize:e.onEnterMinimize,emailAddress:e.emailAddress})))},e}(l),hO=bM("header","window__headerVessel")(pO),fO=function(t,e,n,i){return t&&{name:t.name,avatar:(n||e.chatWindowShowAvatar||e.showAvatar)&&t.avatar,title:(e.chatWindowShowTitle||e.showTitle)&&t.title,bio:e.chatWindowShowBio&&("<div>&nbsp;</div>"===t.bio?null:t.bio),type:i||"agent"}},gO=function(t,e,n){var i=Np(t)||Pp(t)||Lm(t);return{agent:fO(i,e.header,n)}},wO=function(t){return{banner:t.header.banner}},mO=function(t,e,n,i){var o=Jp(e);return!i||t!==Uu&&t!==Gu?t===Uu?gO(e,n,!1):o&&t===Gu?function(t,e,n){var i=Np(t)||Pp(t)||Lm(t);return{agent:fO(i,e.header,n,"chatbot")}}(e,n,!0):t===Ku?function(t,e){return e.header.showAvatar||e.header.logo?{logo:e.header.logo,agent:gO(t,e).agent}:{ifViewHeaderBox:!1}}(e,n):t===Gu?wO(n):{}:function(t,e){return{agent:fO(Lm(t),e.header,!0,"taskbot")}}(e,n)},bO=function(t,e,n){return t===Uu?Bp(e).tab===zl?{}:function(t,e){var n=Ep(t),i=n===Kl,o=Xf(t)[e.id],a=Bh(t),r=n===Hl||i&&o||a||Cg(t)===Yd||n===Rl||n===Ll?e.header.preChatShowTeam:e.header.offlineMessageShowTeam,s=n===Hl||i&&o||a||Cg(t)===Yd||n===Rl||n===Ll?e.header.preChatTeamName:e.header.offlineMessageTeamName;return{team:r&&s,avatars:(n===Hl||i&&o||a||Cg(t)===Yd||n===Rl||n===Ll?e.header.preChatShowAvatars:e.header.offlineMessageShowAvatars)&&Hg(t)}}(e,n):t===Ku?function(t,e){return{logo:e.header.logo}}(0,n):t===Gu?wO(n):{}},vO=function(t,e,n){if(t===Fg)return{ifViewHeader:!1};var i=Bp(e),o=function(t){var e=D(t,"window.involvedAgents");return e&&e.length>0}(e),a=n.header.type;if(i.tab===ql&&(o||i.isChatBot||i.isTaskBot||i.chatStatus===au&&!i.isTaskBot)&&(i.chatStatus===ou||i.chatStatus===au||i.chatStatus===iu&&cg(e)===dl||i.isChatBot||i.isTaskBot)||i.tab===Ul){var r=!o&&!i.isChatBot&&(i.isTaskBot||i.chatStatus===au&&!i.isTaskBot);return mO(a,e,n,r)}return bO(a,e,n)},_O=function(t){function e(e){var n;(n=t.call(this,e)||this).onClick=n.onClick.bind(at(n)),n.toggle=n.toggle.bind(at(n)),n.shouldComponentUpdate=lM(at(n),["disabled","focus"],["active","fields"]),n.onButtonFocus=n.onButtonFocus.bind(at(n));var i=function(){n.props.focus&&n.btn&&setTimeout((function(){return n.btn.focus()}),0)};return n.componentDidMount=i,n.componentDidUpdate=i,n}ot(e,t);var i=e.prototype;return i.onClick=function(){this.toggle(!0)},i.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},i.toggle=function(t){this.props.onDialogToggle(t,"rating")},i.render=function(){var t,e=this,i=this.props,o=this.props,a=o.languages,r=o.ratingField,s=o.commentField;if(this.state.active||i.windowDisabled||(t=function(t){t.stopPropagation(),e.onClick(t)}),r||s){return n("li",{role:"none"},n("button",rt({},{role:"menuitem"},{onClick:t,tabIndex:i.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,ref:function(t){e.btn=t},onTouchEnd:function(t){return t&&t.stopPropagation?(t.stopPropagation(),!0):(window.event.cancelBubble=!0,!1)}}),n(bt,{type:At,title:a.buttonRating,id:"iconRating",ariaHidden:!0}),n("div",{className:"menu__text-container"},a.buttonRating)))}return null},e}(l);_O.displayName="Rating";var xO,yO=p((function(t){return{isPoppedOut:tp(t),isRightToLeft:tf(t),commentField:Pg(t),ratingField:Ng(t),ratingValue:Wh(t,"rating"),commentValue:Wh(t,"comment"),languages:zb(t),popupBubbleType:Wf(t)}}),(function(t){return{onSubmit:function(e){Oy("livechat.chat.visitor.rate",e),t(bx(e)),t({type:Lr,payload:e})},onToggle:function(e){t(F_(e?"rating":"none"))}}}))(_O),CO="error",kO="warning",SO=h({announce:function(t,e,n){},removeMessage:function(t){}}),IO=function(t){function e(e){return t.call(this,e)||this}ot(e,t);var i=e.prototype;return i.shouldComponentUpdate=function(t){return this.props.id!==t.id},i.componentWillUnmount=function(){this.props.removeMessageWhenUnmount&&this.removeMessage&&this.removeMessage(this.props.id,this.props.message)},i.render=function(){var t=this,e=this.props,i=e.id,o=e.message,a=e.isHtml,r=void 0!==a&&a;return n(SO.Consumer,null,(function(e){var n=e.announce,a=e.removeMessage;t.removeMessage=a,n(i,o,r)}))},e}(l),MO=function(t){function e(e){return t.call(this,e)||this}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){this.errorContainer.focus()},i.render=function(){var t=this,e=this.props,i=e.type===CO,o=e.type===kO,a=ut(this.context);return n("div",{className:"chatError__container",ref:function(e){t.errorContainer=e}},n("div",{className:u("window_chatError",i&&"window_chatError--urgency",o&&"window_chatError--mitigate"),role:"alert"},e.message,n("button",{className:"window_chatErrorClose",onClick:e.onClose,ref:function(e){t.btn=e},"aria-label":a.closeAlert},n(bt,{type:kt,className:"icon-close"}))))},e}(l),OO=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldCOmponentUpdate=lM(at(n),["input.value","isDisabled"]),n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus()},i.componentDidUpdate=function(t){t.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},i.render=function(){var t=this,e=this.props,i=!(!e.input.value&&!e.initialValue),o=e.uniqKey||e.id,a=e.isDisabled?"":"checkbox-"+o;return n("div",{className:u("container-checkbox",e.isDisabled&&"disable",e.className),onClick:e.isDisabled?void 0:function(){e.input.onChange(!i,e.text,e.id)}},n("label",{className:u(e.isDisabled&&"disable",e.className,"checkbox__text"),id:"checkbox-label-"+o,htmlFor:a},e.text||e.children),n("input",{id:a,type:"Checkbox",className:"checkbox",disabled:e.isDisabled,checked:i,onFocus:e.input.onFocus,onBlur:e.input.onBlur,ref:function(e){t.element=e},"aria-labelledby":"checkbox-label-"+o,"aria-required":(e.isRequired||!1).toString()}),n("i",{className:i?"selected":"unselected"},n(bt,{type:Bt})))},e}(l),AO=[fo,go,wo,mo,bo,vo,xo,yo,Co,ko,So,jo],BO=function(t){var e=function(e){function i(t){var n;return(n=e.call(this,t)||this).params={onChange:n.onChange.bind(at(n)),onBlur:n.onBlur.bind(at(n)),onFocus:n.onFocus.bind(at(n)),siteId:t.siteId,style:t.style,disabled:t.disabled,languages:t.languages,forceLabel:t.forceLabel,captchaSettings:t.captchaSettings,languageTag:t.languageTag,isHorizontal:t.isHorizontal,ifBotForm:t.ifBotForm},n.shouldComponentUpdate=lM(at(n),["field","disabled"]),n}ot(i,e);var o=i.prototype;return o.componentWillReceiveProps=function(t){var e=this.params;e.disabled===t.disabled&&e.languages===t.languages||(this.params.disabled=t.disabled,this.params.languages=t.languages)},o.onChange=function(t){this.props.onChange(this.props.field,t)},o.onBlur=function(){this.props.onBlur(this.props.field)},o.onFocus=function(){this.props.onFocus(this.props.field)},o.render=function(){var e=this.props.field,i=e.label,o=e.error,a=void 0===o?"":o,r=e.isErrorShowed,s=e.isHidden,c=e.isRequired,d=e.id,l="required"===a.toLowerCase(),p=!!a&&!l,h=p?Object.assign({},this.props.field,{isInvalidError:p}):this.props.field,f=function(t){return AO.indexOf(t)>=0}(h.type);if(s)return null;var g=h.type===Oo||h.type===Ao,w=g;return g?n("div",{className:u("box-field",f&&"system-field")},n("div",{className:"check-box clearfix"},c&&n(bt,{type:jt,className:"field__requiredTag"}),t(h,this.params),r&&a&&d!==Oi&&n("span",{className:u("field__requiredMsg","field__requiredMsg--checkbox"),role:"alert"},n(bt,{title:"Error",type:Tt})," ",l?h.label+" is required.":a))):n("div",{className:u("box-field",f&&"system-field")},n("div",{className:"filed__content"},n("div",{className:u("field-name clearfix",g&&"checkbox-label")},c&&!w&&n(bt,{type:jt,className:"field__requiredTag",title:"star"}),w?"":n("label",{className:"field__label",htmlFor:"field-"+d,id:"label-field-"+d},i)),t(h,this.params)),r&&a&&d!==Oi&&n("div",{className:u("field__requiredMsg"),id:"field-error-"+d,role:"alert"},n(bt,{title:"Error",type:Tt})," ",l?h.label+" is required.":a))},i}(l);return e},TO=BO((function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value;if(Array.isArray(s)){var c=s.indexOf(t.label);s=c>=0?"true":"false",i(c>=0?"true":"false")}else s||(s="false",i("false"));return n(OO,{input:{value:s&&"true"===s.toString(),onChange:function(t){i(t?"true":"false")},onFocus:a,onBlur:o,"aria-describedby":"field-error-"+t.id},text:t.label,id:t.id,focused:t.isFocused,isDisabled:r,isRequired:t.isRequired})})),jO=["className","options","align","focused","ariaLabelledby"],NO=function(){},PO=function(t){function e(e){var n;(n=t.call(this,e)||this).Change=n.Change.bind(at(n)),n.shouldComponentUpdate=lM(at(n),["input.value","options"]);var i=n.validate.bind(at(n));return n.componentDidMount=i,n.componentDidUpdate=i,n.onFocus=n.onFocus.bind(at(n)),n.onBlur=n.onBlur.bind(at(n)),n.hasFocus=!1,n}ot(e,t);var i=e.prototype;return i.onBlur=function(){var t=this.props.input.onBlur;this.hasFocus=!1,t&&t()},i.onFocus=function(){var t=this.props.input.onFocus;this.hasFocus=!0,t&&t()},i.validate=function(){var t=this,e=this.props.input.value;0!==e.length&&e.every((function(e){return t.props.options.every((function(t){return t.id.toString()!==e.toString()}))}))&&this.props.input.onChange([])},i.Change=function(t,e,n){var i=this.props.input.value,o=this.props.input.onChange||NO;-1===i.indexOf(n)?o(i.concat(n)):o(i.filter((function(t){return t!==n})))},i.render=function(){var t=this,e=this.props,i=e.className,o=e.options;e.align;var a=e.focused,r=e.ariaLabelledby,s=B(e,jO);return n("div",{className:u("container-checkboxlist",i),id:this.props.id,role:"group","aria-labelledby":r||"label-"+this.props.id},o.map((function(e,i){return n("div",{key:e.id,className:"vertical"},n(OO,rt({},s,{focused:!t.hasFocus&&0===i&&a,id:e.id.toString(),uniqKey:t.props.input.id+"-"+i,text:e.text,input:{value:-1!==t.props.input.value.indexOf(e.id.toString()),onChange:t.Change,onBlur:t.onBlur,onFocus:t.onFocus},fieldId:t.props.id})))})))},e}(l),DO=BO((function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value,c=t.options;return c||(c=[]),Array.isArray(s)||(s?i(s=c.find((function(t){return t.value===s}))?[s]:[]):s=[]),n(PO,{input:{id:t.id,value:s,onChange:i,onFocus:a,onBlur:o,"aria-describedby":"field-error-"+t.id},options:c.map((function(t){return{id:t.value,text:t.label}})),focused:t.isFocused,isDisabled:r,id:"field-"+t.id})})),WO=function(t){function e(e){var n;return(n=t.call(this,e)||this).onChange=n.onChange.bind(at(n)),n.onError=n.onError.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){this.element=this.props.field.element(this.onChange,this.onError),this.element&&this.container.appendChild(this.element)},i.componentWillUnmount=function(){this.container.removeChild(this.element)},i.onChange=function(t){this.props.onChange(this.props.field,t)},i.onError=function(t){this.props.onError(this.props.field,t)},i.render=function(){var t=this;return n("div",{ref:function(e){t.container=e}})},e}(l),FO=WO,VO=["isRequired","input","isReadOnly","isDisabled","className","meta","type","placeholder","autoComplete","maxLength","animationEffect","style"],EO=function(t,e){var i=t.isRequired,o=t.input,a=t.isReadOnly,r=t.isDisabled,s=t.className,c=t.meta,d=t.type,l=t.placeholder,p=t.autoComplete,h=t.maxLength,f=t.animationEffect,g=t.style,w=B(t,VO);return n("input",rt({},o,{readOnly:a,disabled:r,className:u("input","form__input",f&&"input--effect01",s,c&&c.touched&&c.invalid&&"error"),type:d,placeholder:l,"aria-label":l,autoComplete:p||"off",maxLength:h,style:g,ref:e,"aria-required":i.toString()},w))},zO=function(t){function e(e){var n;return(n=t.call(this,e)||this).refCallback=n.refCallback.bind(at(n)),n.shouldComponentUpdate=lM(at(n),["input.value","meta.invalid","meta.touched","focused","isRequired","isDisabled","style","type"]),n.focus=n.focus.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){this.props.focused&&this.focus()},i.componentDidUpdate=function(t){this.props.focused!==t.focused&&this.props.focused&&this.focus()},i.focus=function(){var t=this.element;t&&t.focus()},i.refCallback=function(t){this.element=t},i.render=function(){var t=this.props;return t.animationEffect?n("div",{className:"form__inputContainer"},EO(t,this.refCallback)):EO(t,this.refCallback)},e}(l),RO=BO((function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.style,s=e.disabled,c=t.value;return Array.isArray(c)&&(c=c.join(","),i(c)),n("div",{className:"field-control"},n(zO,{maxLength:64,type:"email",input:{value:t.value,onBlur:function(t){o()},onFocus:a,disabled:s,"aria-invalid":(t.isInvalidError||!1).toString(),onChange:function(t){var e=t.target.value;e!==c&&i(e)},"aria-describedby":"field-error-"+t.id},meta:{invalid:!!t.error,touched:t.isErrorShowed},isRequired:t.isRequired,isDisabled:s,animationEffect:Dg===r,focused:t.isFocused,id:"field-"+t.id,autoComplete:"email"}))})),LO=function(t){function e(){var e;return(e=t.call(this)||this).shouldComponentUpdate=lM(at(e),["radioOption","selectedVal"]),e}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){this.props.focused&&this.first&&this.first.focus()},i.componentDidUpdate=function(t){t.focused!==this.props.focused&&this.props.focused&&!this.props.selectedVal&&this.first&&this.first.focus()},i.render=function(){var t=this;return n("div",{className:"clearfix container-radiolist",role:"radiogroup","aria-labelledby":this.props.ariaLabelledby||"label-field-"+this.props.id,id:"field-"+this.props.id},this.props.radioOption.map((function(e,i){var o=t.props.disabled,a=o?"":"radio-"+t.props.id+"-"+i,r=o?"":"radio-"+t.props.id+"-"+t.props.label,s=o?"":"radio-label-"+t.props.id+"-"+i,c=o?"":a;return n("div",{className:u("control","controlRadio",t.props.className),onClick:function(){o||t.props.handleChange(e.value)}},n("label",{key:e.id,className:"radioText",htmlFor:c,id:s},e.text),n("input",{type:"radio",name:r,value:e.value,checked:t.props.selectedVal===e.value||e.checked,onBlur:t.props.onBlur,onFocus:t.props.onFocus,id:a,disabled:t.props.disabled,ref:function(e){0===i&&(t.first=e)},"aria-labelledby":s}),n("div",{className:"controlIndicator","aria-hidden":"true"},n("svg",{viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false"},n("circle",{r:"8",cx:"8",cy:"8"}),n("circle",{r:"3",cx:"8",cy:"8"}))),e.component?e.component:"")})))},e}(l),HO=BO((function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value,c=t.options;return c||(c=[]),Array.isArray(s)&&(s=s.find((function(t){return c.some((function(e){return e.value===t}))}))||null,i(s)),n(LO,{label:t.label,id:t.id,radioOption:c.map((function(e,n){return{id:n,text:e.label,value:e.value,checked:e.value===t.value}})),selectedVal:t.value,handleChange:function(t){t!==s&&i(t)},onBlur:o,onFocus:a,focused:t.isFocused,disabled:r,"aria-labelledby":"field-"+t.id})})),qO=["input","rows","cols","style","isDisabled","placeholder","maxLength","className","meta"],UO=function(t){t.stopPropagation()},GO=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldComponentUpdate=lM(at(n),["input.value","meta.touched","meta.invalid","focused","isDisabled"]),n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus()},i.componentDidUpdate=function(t){t.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},i.render=function(){var t=this,e=this.props,i=e.input,o=e.rows,a=e.cols,r=e.style,s=e.isDisabled,c=e.placeholder,d=e.maxLength,l=e.className,p=e.meta,h=B(e,qO);return n("textarea",rt({onKeyDown:UO},i,{cols:a,rows:o,style:r,disabled:!!s&&"disabled",className:u(l,"multipleText",p.touched&&p.invalid&&"error"),placeholder:c,"aria-label":c,maxLength:d,ref:function(e){t.element=e},"aria-required":(this.props.isRequired||!1).toString()},h))},e}(l),KO=BO((function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=e.ifBotForm,c=t.value;return Array.isArray(c)&&(c=c.join(","),i(c)),n("div",{className:"field-control"},n(GO,{input:{value:t.value,onBlur:function(t){o()},onChange:function(t){var e=t.target.value;e!==c&&i(e)},onFocus:a,id:"field-"+t.id,onTouchMove:t.ontouchmove,"aria-describedby":"field-error-"+t.id},rows:2,meta:{touched:t.isErrorShowed,invalid:!!t.error},maxLength:s?8e3:2048,focused:t.isFocused,isDisabled:r,isRequired:t.isRequired}))})),YO=function(t,e,i){void 0===e&&(e="text");return BO((function(o,a){var r=a.onChange,s=a.onBlur,c=a.onFocus,d=a.style,l=a.disabled,u=o.value;return o.field,Array.isArray(o.value)&&(u=u.join(","),r(u)),n("div",{className:"field-control"},n(zO,{maxLength:t,type:e,input:{value:o.value,onBlur:function(t){s()},onFocus:c,onChange:function(t){var e=t.target.value;e!==u&&r(e)},"aria-invalid":(o.isInvalidError||!1).toString(),"aria-describedby":"field-error-"+o.id},meta:{invalid:!!o.error,touched:o.isErrorShowed},isRequired:o.isRequired,animationEffect:d===Dg,focused:o.isFocused,isDisabled:l,id:"field-"+o.id,autoComplete:i}))}))},JO=YO(128),QO=YO(64,"text","name"),ZO=YO(32,"text","tel"),XO=YO(64,"text","organization"),$O=["options","disabled","className","width","selectedValue"],tA=function(t,e){return t==e},eA=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldComponentUpdate=lM(at(n),["options","disabled","className","width","selectedValue"]),n.handleChange=n.handleChange.bind(at(n)),n.validate=n.validate.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus(),this.validate()},i.componentDidUpdate=function(t){this.validate(),t.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},i.handleChange=function(t){t.target.value!==this.props.selectedValue&&this.props.handleChange(t.target.value)},i.validate=function(){var t=this;this.props.selectedValue&&this.props.options.every((function(e){return!tA(e.value,t.props.selectedValue)}))&&this.props.handleChange(this.props.options[0].value)},i.render=function(){var t=this,e=this.props,i=e.options,o=e.disabled,a=e.className,r=e.width,s=e.selectedValue,c=B(e,$O);return n("div",{className:"select-box",style:{width:r+"px"}},n("select",rt({disabled:o,onChange:this.handleChange,className:"select "+(void 0!==a?a:""),ref:function(e){t.element=e}},c),i.map((function(t){return n("option",{index:t.id,style:{color:t.themeColor||"black"},value:t.value,selected:tA(s,t.value),ariaSelected:tA(s,t.value)},t.text)}))),n("svg",{viewBox:"0 0 9 6",focusable:"false"},n("path",{d:"M5.2,5.7c-0.4,0.4-1,0.4-1.4,0L0.3,1.9c-0.4-0.4-0.4-1.1,0-1.6s1-0.4,1.4,0l2.8,3.1l2.8-3.1c0.4-0.4,1-0.4,1.4,0s0.4,1.1,0,1.6L5.2,5.7z"})))},e}(l),nA=BO((function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=e.languages,c=t.value,d=t.options;return d||(d=[]),Array.isArray(c)&&i(c=c.find((function(t){return d.some((function(e){return e.value===t}))}))||""),n(eA,{options:[{id:-1,text:s.dropdownListDefault,value:""}].concat(d.map((function(t,e){return{id:e,value:t.value,text:t.label}}))),selectedValue:c,handleChange:i,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id})})),iA=nA,oA=YO(32),aA=BO((function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=e.languages,c=t.value;return Array.isArray(c)?i(c=c.find((function(e){return t.options.some((function(t){return t.value==e}))}))||""):c===ki&&(c=""),n(eA,{options:[{id:ki,text:s.fieldNoDepartment,value:""}].concat(t.options.map((function(t,e){return{id:e,value:t.value,text:t.label+" "+(t.isOnline?s.fieldDepartmentStatusOnline:s.fieldDepartmentStatusOffline),themeColor:t.isOnline?"green":"red"}}))),selectedValue:c,handleChange:i,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id})})),rA=aA,sA=function(t){function e(e){var n;n=t.call(this,e)||this;for(var i=0,o=0;o<e.rateItems.length;o+=1)if(e.rateItems[o].value==e.rateVal){i=o+1;break}return n.state={rateVal:i,hoverRateVal:0},n.stars=[],n.clickChange=n.clickChange.bind(at(n)),n.onKeyDown=n.onKeyDown.bind(at(n)),n.onClear=n.onClear.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.componentWillReceiveProps=function(t){this.setState({rateVal:t.rateVal})},i.onKeyDown=function(t){var e;switch(t.keyCode){case 37:case 38:e=Math.max(this.state.hoverRateVal-1,0)-1;break;case 39:case 40:e=Math.min(this.state.hoverRateVal+1,this.props.rateItems.length)-1;break;case 9:this.onClear()}var n=this.stars[e];n&&n.focus(),void 0!==e&&(t.stopPropagation(),t.preventDefault())},i.onClear=function(){this.setState({hoverRateVal:0})},i.clickChange=function(t){this.setState({rateVal:t}),this.props.rateChange(t)},i.render=function(){var t=this,e=this.props,i=this.state.rateVal,o=i>0,a=0===this.state.hoverRateVal?i:this.state.hoverRateVal;return n("div",{ref:function(e){t.ratingDiv=e},className:"rating",id:e.id,style:Object.assign({width:e.width,height:e.height},e.style),onFocus:e.onFocus,onBlur:e.onBlur,onMouseLeave:this.onClear,onKeyDown:this.onKeyDown,"aria-labelledby":"label-"+e.id,role:"radiogroup"},e.rateItems.map((function(e,r){var s=-1,c=r===i-1;return o?r===a-1&&(s=0):0===r&&(s=0),n("button",{key:e.value,type:"button",name:"rating-"+r,className:u("star",r<a&&"starColor"),onClick:function(){return t.clickChange(e.value)},onFocus:function(){return t.setState({hoverRateVal:r+1})},onMouseEnter:function(t){return t.target.focus()},ref:function(e){t.stars[r]=e},title:e.label,"aria-label":e.label,"aria-checked":c.toString(),role:"radio",tabIndex:s},n("svg",{viewBox:"0 0 24 24",focusable:"false"},n("path",{d:"M18.539,7.366c-.12-.241-.241-.361-.481-.361L12.646,5.921,10,.861C9.88.62,9.76.5,9.52.5s-.361.12-.481.361L6.393,5.921.981,7C.74,7,.62,7.12.5,7.361a1.086,1.086,0,0,0,.12.6l3.728,4.216-.722,5.782a.627.627,0,0,0,.241.482.538.538,0,0,0,.6,0L9.4,16.04l4.931,2.409h.241a.439.439,0,0,0,.361-.12.915.915,0,0,0,.241-.482l-.722-5.782L18.18,7.849C18.539,7.728,18.539,7.607,18.539,7.366Z"})))})),e.children)},e}(l),cA=BO((function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value;return Array.isArray(s)&&i(s=s.find((function(e){return t.options.some((function(t){return+t.value==+e}))}))||0),n(sA,{rateVal:+s,rateItems:t.options.map((function(t){return{id:t.id,value:t.value,label:t.label}})),rateChange:i,onBlur:o,onFocus:a,disabled:r,id:"field-"+t.id,isFocused:t.isFocused})})),dA=BO((function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.siteId,s=e.style,c=e.disabled,d=t.value;return Array.isArray(d)&&(d=d[0],i(d)),n("div",{className:"fieldControl__Ticket"},n("div",{className:"form__ticketPrefix"},"S"+r+"-#"),n("div",{className:"field-control"},n(zO,{maxLength:10,type:"text",input:{value:d,onBlur:function(t){o()},onChange:function(t){var e=t.target.value;e!==d&&i(e)},onFocus:a,"aria-invalid":(t.isInvalidError||!1).toString(),"aria-describedby":"field-error-"+t.id},meta:{invalid:!!t.error,touched:t.isErrorShowed},isDisabled:c,isRequired:t.isRequired,animationEffect:Dg===s,focused:t.isFocused,className:gt&&"form__input--ie10",id:"field-"+t.id})))})),lA=dA,uA=function(t){function e(){return t.apply(this,arguments)||this}return ot(e,t),e.prototype.render=function(){var t=this.props,e=this.context,i=Date.now().toString(),o=ut(e);return n(IM,{id:i,src:"about:blank",style:t.style,frameborder:0,scrolling:"no",innerCss:"body{margin:0;padding:0}",title:o.uploadForm,onMounted:function(t){t.ownerDocument}},n("form",{id:"form",method:"post",encType:"multipart/form-data",encoding:"multipart/form-data"},n("input",{ref:function(e){t.onMounted&&t.onMounted(e)},type:"file",name:"file",onChange:function(e){var n,o;t.onChange&&t.onChange({formId:i,name:(n=e.target.value,o=n.split(/\/|\\/),o[o.length-1])})},onBlur:t.onBlur,onFocus:t.onFocus})))},e}(l),pA=["focused"],hA=function(t){function e(e){var n;return(n=t.call(this,e)||this).focus=n.focus.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){this.props.focused&&this.focus()},i.componentDidUpdate=function(t){this.props.focused!==t.focused&&this.props.focused&&this.focus()},i.focus=function(){var t=this.element;t&&t.focus()},i.render=function(){var t=this,e=this.props;e.focused;var i=B(e,pA);return n("input",rt({type:"file",ref:function(e){return t.element=e}},i))},e}(l),fA=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t,e;t=this.div,e=this.props,c(n(uA,e),t)},i.shouldComponentUpdate=function(){return!1},i.render=function(){var t=this;return n("div",{ref:function(e){t.div=e},"aria-labelledby":"field-"+this.props.id})},e}(l),gA=Oa()?function(t,e,i,o){return n(fA,{onChange:e,onBlur:i,onFocus:o})}:function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled;return n("div",{className:"form__attachmentContainer"},n(hA,{onChange:function(t){i(t.target.files[0])},focused:t.isFocused,onBlur:o,onFocus:a,disabled:r,id:"field-"+t.id,name:t.label,"aria-invalid":(t.isInvalidError||!1).toString(),"aria-required":(t.isRequired||!1).toString(),"aria-describedby":"field-error-"+t.id}))},wA=BO(gA),mA=["onChange","onBlur","onFocus","style","disabled"],bA=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={showPassword:!1},n.onClickShowPassword=n.onClickShowPassword.bind(at(n)),n.onClickHidePassword=n.onClickHidePassword.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.onClickShowPassword=function(){this.setState({showPassword:!0})},i.onClickHidePassword=function(){this.setState({showPassword:!1})},i.render=function(){var t=this.state.showPassword,e=this.props,i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.style,s=e.disabled,c=B(e,mA);return n("div",{className:"field-control field-control-password"},n(zO,{maxLength:128,type:t?"text":"password",input:{value:c.value,onBlur:o,onFocus:a,onChange:function(t){var e=t.target.value;e!==c.value&&i(e)},"aria-invalid":(c.isInvalidError||!1).toString(),"aria-describedby":"field-error-"+c.id},meta:{invalid:!!c.error,touched:c.isErrorShowed},isRequired:c.isRequired,animationEffect:r===Dg,focused:c.isFocused,isDisabled:s,id:"field-"+c.id}),t?n("svg",{class:"svg-icon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",onClick:this.onClickHidePassword},n("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})):n("svg",{class:"svg-icon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",onClick:this.onClickShowPassword},n("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})))},e}(l),vA=BO((function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.style,s=e.disabled;return n(bA,Object.assign({},t,{onChange:i,onBlur:o,onFocus:a,style:r,disabled:s}))})),_A=YO(128,"number"),xA=function(t){var e=t.target.value;e=e.replace(/\D/g,""),t.target.value=e},yA=function(t,e){void 0===e&&(e="text");return BO((function(i,o){var a=o.onChange,r=o.onBlur,s=o.onFocus,c=o.style,d=o.disabled,l=i.value;return i.field,Array.isArray(i.value)&&(l=l.join(","),a(l)),n("div",{className:"field-control"},n(zO,{maxLength:t,type:e,input:{onInput:xA,value:i.value,onBlur:function(t){r()},onFocus:s,onChange:function(t){var e=t.target.value;e!==l&&a(e)},"aria-describedby":"field-error-"+i.id},meta:{invalid:!!i.error,touched:i.isErrorShowed},isRequired:i.isRequired,animationEffect:c===Dg,focused:i.isFocused,isDisabled:d,id:"field-"+i.id}))}))}(128,"number"),CA=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={},n.handleDocumentClick=n.handleDocumentClick.bind(at(n)),n.anchorElRef=null,n.contentRef=null,n.doc=null,n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){this.doc=Nt(this.anchorElRef),this.doc.addEventListener("click",this.handleDocumentClick,!0),this.doc.addEventListener("touchend",this.handleDocumentClick,!0)},i.componentDidUpdate=function(t){var e=this;if(this.props.open&&this.props.open!==t.open&&this.doc)setTimeout((function(){e.contentRef.querySelector("[tabindex='0'],[tabindex='-1']").focus()}),20);else if(!this.props.open){if(!t.open)return;setTimeout((function(){e.anchorElRef.querySelector("[tabindex='0'],[tabindex='-1']").focus()}),20)}},i.componentWillUnmount=function(){this.doc&&(this.doc.removeEventListener("click",this.handleDocumentClick,!0),this.doc.removeEventListener("touchend",this.handleDocumentClick,!0))},i.handleDocumentClick=function(t){this.props.open&&this.contentRef&&!this.contentRef.contains(t.target)&&this.props.onClose()},i.render=function(){var t=this;this.state;var e=this.props,i=e.children,o=e.anchorEl,a=e.open;return n("div",{className:u(["taskbot-dropdown"]),onClick:this.onClick},n("div",{className:u(["taskbot-dropdown-trigger"]),ref:function(e){t.anchorElRef=e}},o),a&&n("div",{className:u(["taskbot-dropdown-content"]),ref:function(e){t.contentRef=e}},i))},e}(l),kA=["options","mainColor","isProcessed","onBlur","error","ariaLabel","required"],SA=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={open:!1,inputWidth:e.width?e.width+"px":"192px",sIndex:0,value:n.props.value||[]},n.handleOpen=n.handleOpen.bind(at(n)),n.handleClose=n.handleClose.bind(at(n)),n.handleToggle=n.handleToggle.bind(at(n)),n.handleChange=n.handleChange.bind(at(n)),n.handleDelete=n.handleDelete.bind(at(n)),n.handleKeydown=n.handleKeydown.bind(at(n)),n.handleOptionKeyDown=n.handleOptionKeyDown.bind(at(n)),n._isSelected=n._isSelected.bind(at(n)),n.isClose=!1,n}ot(e,t);var i=e.prototype;return i.componentDidUpdate=function(t,e){!0===this.state.open&&!1===e.open&&this.setState({sIndex:0})},i.handleToggle=function(){this.isClose?this.isClose=!1:this.setState({open:!this.state.open})},i.handleOpen=function(){this.state.open||this.setState({open:!0})},i.handleClose=function(){var t=this,e=this.props.onClose;e&&e(),this.isClose=!0,this.setState({open:!1}),setTimeout((function(){t.isClose=!1}),100)},i.handleDelete=function(t,e){void 0===e&&(e=0),t.stopPropagation();var n=this.props.onChange;if(e>=0){var i=[].concat(this.state.value);i.splice(e,1),this.setState({value:i}),n(i)}window.event?window.event.cancelBubble=!0:t.stopPropagation()},i.handleChange=function(t,e){var n=this.props,i=n.onChange;n.options;var o=this.state.value.indexOf(t),a=[].concat(this.state.value);-1!==o?a.splice(o,1):a.push(t),this.setState({value:a}),void 0!==e&&this.setState({sIndex:e}),i(a)},i.handleKeydown=function(t){13!==t.keyCode&&32!==t.keyCode||this.handleToggle()},i.handleOptionKeyDown=function(t){t.stopPropagation();var e=t.keyCode,n=this.state.sIndex,i=this.props.options;38===e||37===e?(n=0===n?i.length-1:n-1,this.setState({sIndex:n})):39===e||40===e?(n=n===i.length-1?0:n+1,this.setState({sIndex:n})):13===e?this.handleChange(i[n].value):27!==event.keyCode&&9!==event.keyCode||(event.stopPropagation(),event.preventDefault(),this.handleClose())},i._isSelected=function(t){return-1!==this.state.value.indexOf(t)},i.render=function(){var t=this,e=this.props,i=e.options,o=void 0===i?[]:i;e.mainColor;var a=e.isProcessed,r=e.onBlur,s=e.error,c=e.ariaLabel,d=e.required,l=B(e,kA),p=this.state,h=p.sIndex,f=p.value;return a?null:n(CA,{open:this.state.open,onClose:this.handleClose,anchorEl:n("div",rt({className:u("taskbot_input","taskbot_select_box",s&&"taskbot_input_error"),"aria-label":c||"multiple select"+(f&&f.length>0?" selected "+f.join(","):""),onClick:this.handleToggle,onKeyDown:this.handleKeydown,tabIndex:0,onBlur:r,role:"listbox","aria-expanded":this.state.open,"aria-required":d},l),n("div",{className:"taskbot_select_multiple"},f.map((function(e,i){return n("div",{className:"taskbot_select_multiple_item"},n("span",null,e),n("svg",{className:"delete_icon",onClick:function(e){return t.handleDelete(e,i)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18.008 18.003"},n("path",{d:"M15.367,2.634a9,9,0,1,0,0,12.733A9,9,0,0,0,15.367, 2.634Zm-1.867,9.6L12.23,13.5,9, 10.269H9L5.769,13.5,4.5,12.231,7.731,9,4.5,5.769, 5.769,4.5,9,7.731,12.231,4.5,13.5,5.769,10.269,9Z",transform:"translate(0.004 0.003)"})))}))),n(bt,{type:Pt,className:u("arrow",{arrow_down:!this.state.open})})),onSelectionKeydown:this.handleOptionKeyDown},n("div",{className:"taskbot_select_option_container",style:{height:o.length>8?264:32*o.length}},n("ul",{ref:function(e){t.selectOptionRef=e},className:"taskbot_select_option_list",style:{width:this.state.inputWidth},tabIndex:-1,onKeyDown:this.handleOptionKeyDown,role:"listbox","aria-activedescendant":"taskbot_select_option_item_"+h,"aria-multiselectable":"true"},o.map((function(e,i){return n("li",{id:"taskbot_select_option_item_"+i,key:e.value,className:u("taskbot_select_option_item",{selected:t._isSelected(e.value),active:h===i}),onClick:function(){return t.handleChange(e.value,i)},role:"option","aria-selected":t._isSelected(e.value),"data-value":e.value,"aria-label":e.label},e.label)})))))},e}(l),IA=BO((function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled;e.languages;var s=t.value,c=t.options;return c||(c=[]),n(SA,{options:c,value:s,onChange:i,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id,width:308,error:t.error})})),MA=BO((function(t,e){var i=e.onChange;e.onBlur;var o=e.onFocus,a=e.disabled;e.style;var r=t.value;return r||i(Dt(new Date,"YYYY/MM/DD")),n(Wt,{value:r,onChange:i,onFocus:o,disabled:a,id:"field-"+t.id})})),OA=function(t,e){void 0===e&&(e="AM");var n=t%60,i=(t-n)/60;return"PM"===e&&0===i&&(i="12"),i+":"+(n=n<10?"0"+n:""+n)+" "+e},AA=function(t){if("number"!=typeof t)return"";return t<720?OA(t):OA(t-720,"PM")},BA=function(){var t=new Date;return 60*t.getHours()+t.getMinutes()},TA=BO((function(t,e){var i=e.onChange;e.onBlur;var o=e.onFocus,a=e.disabled;e.style;var r=t.value,s=r?function(t){var e=Dt(new Date,"YYYY/MM/DD"),n=new Date(e+" "+t);return 60*n.getHours()+n.getMinutes()}(r):BA();return r||i(AA(BA())),n(Ft,{value:s,onChange:function(t){i(AA(t))},onFocus:o,disabled:a,formatType:"min",id:"field-"+t.id})})),jA=TA,NA=BO((function(t,e){var i=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled;e.languages;var s=t.value,c=t.options;return c||(c=[]),n(Vt,{options:c,value:s,onChange:i,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id,error:t.error})})),PA={},DA=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.componentWillMount=function(){var t=this,e=this.chatWindow(),i=ut(this.context);this.captcha=n(bt,{type:Et,className:"svg--loading",viewBox:"0 0 100 100","aria-label":i.loading,"aria-busy":"true",style:{transform:"none"}}),e.recaptchaLoadedCallback=function(){t.renderRecaptcha(e.grecaptcha)}},i.componentDidMount=function(){var t=this.chatWindow();t.grecaptcha&&t.grecaptcha.reset?t.grecaptcha.reset(PA[this.container.id]):(!function(t,e){var n=N.brandingNameLowerCase,i=t.head;if(i){var o=i.querySelector("style#recaptch");o||((o=t.createElement("style")).id="recaptch",i.appendChild(o));var a="#"+n+"-container ~ div > :last-child {max-height: 550px !important;overflow-y: auto !important;}#"+n+"-container ~ div > :last-child::-webkit-scrollbar-thumb {background-color: #c8c8c8;}#"+n+"-container ~ div:last-child {left: 0px !important;}#container ~ div:last-child {left: 0px !important;}";o.innerHTML=a}}(t.document,this.props.brandConfig),t.document.head.appendChild(this.createRecaptchaApiScript()))},i.shouldComponentUpdate=function(){return!1},i.createRecaptchaApiScript=function(){var t=this.chatWindow().document.createElement("script"),e=this.props,n=e.settings,i=e.language;return t.src="https://"+n.host+"/recaptcha/api.js?hl="+i+"&render=explicit&onload=recaptchaLoadedCallback",t.defer=!0,t.async=!0,t},i.componentWillUnmount=function(){this.chatWindow().grecaptcha=null},i.chatWindow=function(){var t=window.parent||window,e=t.document.getElementById("chat_window_container");return e&&"iframe"===e.tagName.toLowerCase()?e.contentWindow:t},i.renderRecaptcha=function(t){var e=this.props,n=e.settings,i=e.onError,o=e.onExpired,a=e.onSuccess,r=n.siteKey,s=n.isCompact;this.container.innerHTML="",PA[this.container.id]=t.render(this.container,{sitekey:r,size:s?"compact":"normal",callback:a,"expired-callback":o,"error-callback":i}),this.container.height=this.container.height+1},i.render=function(){var t=this;return n("div",{id:this.props.id,ref:function(e){t.container=e},className:u(!this.props.settings.isCompact&&"captcha")},this.captcha)},e}(l),WA=DA,FA=BO((function(t,e){var i=e.isHorizontal,o=e.onChange,a=e.captchaSettings,r=e.languageTag,s=e.brandConfig;return n(WA,{id:"captcha-"+t.id,isCompact:i,onSuccess:o,onExpired:function(){return o(null)},settings:a,language:r,brandConfig:s})})),VA=FA,EA=["fields"],zA=xt((function(){return import("./NPS.f5fe9a84.js")})),RA=((xO={})[fo]=QO,xO[go]=RO,xO[wo]=ZO,xO[mo]=XO,xO[bo]=iA,xO[vo]=rA,xO[xo]=cA,xO[yo]=KO,xO[ko]=KO,xO[Co]=oA,xO[_o]=lA,xO[Oo]=TO,xO[Ao]=TO,xO[Bo]=DO,xO.checkBoxList=DO,xO.custom=FO,xO.radioBox=HO,xO.radio=HO,xO.dropdownList=iA,xO.dropDownList=iA,xO[Mo]=KO,xO[Io]=JO,xO[So]=wA,xO[To]=zA,xO[jo]=VA,xO[No]=NA,xO[Po]=IA,xO[Do]=MA,xO[Wo]=jA,xO[Fo]=vA,xO[Eo]=yA,xO[Vo]=_A,xO),LA=bM("form")((function(t){var e=t.fields,i=B(t,EA);return n("div",{className:"field-table form-style-hor"},e.map((function(t){return t.type===To?n(yt,null,n(Ct,null,n(RA[t.type],Object.assign({},i,{field:t,key:t.id})))):n(RA[t.type],Object.assign({},i,{field:t,key:t.id}))})))})),HA=["disabled","text","onClick","className","htmlType","loading","size","icon","iconPosition","type","children","spanStyle","ariaLabelText"],qA={large:"btn-lg",small:"btn-sm"},UA={primary:"btn-primary",default:"btn-default",gray:"btn-grey",noborder:"btn-noborder"},GA=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldComponentUpdate=lM(at(n),["disabled","text","className","loading","size","icon","iconPosition","type","children"]),n}return ot(e,t),e.prototype.render=function(){var t=this.props,e=t.disabled,i=t.text,o=t.onClick,a=t.className,r=t.htmlType;t.loading;var s=t.size,c=t.icon,d=t.iconPosition,l=t.type,p=t.children;t.spanStyle;var h=t.ariaLabelText,f=B(t,HA),g=null;return c&&(g=c),n("button",rt({},f,{className:u("btn",e&&"disabled",qA[s]||"",UA[l]||"btn-default",a),onClick:e?void 0:o,type:r,"aria-label":h,"aria-disabled":e}),"right"!==d&&g,"right"!==d&&p,i&&n("span",{className:"window_quick_reply_buttons_item_inner"},n("span",null,i)),"right"===d&&p,"right"===d&&g)},e}(l),KA=["isSubmitting","onClick","success","text","disabled"],YA=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.componentDidUpdate=function(t){var e=this;if(this.props.success&&!t.success&&ht)var n=0,i=setInterval((function(){e.btn&&(e.btn.style.fontSize=n/50%2==0?"1rem":"1.0001rem"),(n+=50)>500&&clearInterval(i)}),50);this.props.success&&!t.success&&this.svg.focus()},i.render=function(){var t=this,e=this.props,i=e.isSubmitting,o=e.onClick,a=e.success,r=e.text,s=e.disabled,c=B(e,KA),d=ut(this.context);return a?d.submitted:i&&d.uploading,n("div",rt({className:u("buttonProgressContainer",i&&!a&&"buttonProgressContainerLoading",a&&"buttonProgressContainerSuccess"),ref:function(e){t.btn=e}},c),n(GA,{type:"primary",text:r,className:"buttonProgressBtnAnimated buttonProgressBtnDefaultSize",htmlType:"submit",onClick:o,disabled:s||i}),n("div",{className:"lds-css ng-scope"},n("div",{className:"lds-rolling"})),n("svg",{version:"1.1",className:"buttonProgress__layerCircle",id:"buttonProgress__layer-circle",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 30 30",xmlSpace:"preserve",focusable:"false",ref:function(e){t.svg=e},tabindex:"-1","aria-label":d.submitted},n("path",{className:"buttonProgress__submitCirclePath",d:"M15,1.5c7.4,0,13.5,6.1,13.5,13.5S22.4,28.5,15,28.5S1.5,22.4, 1.5,15S7.6,1.5,15,1.5L15,1.5z"})),n("svg",{version:"1.1",className:"buttonProgress__layerSuccess",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"16px",height:"16px",viewBox:"0 0 16 16",xmlSpace:"preserve"},n("title",null,d.submitted),n("polygon",{className:"buttonProgress__submitSuccessPath",points:"16,3.5 12.8,1 6.5,9.2 2.5,6.1 0,9.3 6,14 7.3,15"})))},e}(l),JA=bM("submit")((function(t){return n(YA,{onClick:t.onClick,isSubmitting:t.isSubmitting,success:t.success,text:t.text,disabled:t.disabled})})),QA=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={reCaptchaError:""},n.onSubmit=n.onSubmit.bind(at(n)),n.onReCaptchaErrorClose=n.onReCaptchaErrorClose.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.onSubmit=function(t){var e=this;t.preventDefault(),setTimeout((function(){if(e.props.submitStatus!==Jl){var t=e.props.fields.filter((function(t){return""!==t.error}));if(t.length>0){var n=t.map((function(t){return t.id}));e.props.onValidateAll(n);for(var i=0;i<n.length;i+=1)if(-1===n[i]){e.setState({reCaptchaError:e.props.languages.recaptchaError});break}}else e.props.onSubmit(e.props.fields)}}),0)},i.onReCaptchaErrorClose=function(t){t.preventDefault(),this.setState({reCaptchaError:""})},i.render=function(){var t=this.props,e=t.fieldId,i=t.isHorizontal,o=t.tab,a=t.fields,r=t.siteId,s=t.onChange,c=t.onBlur,d=t.onFocus,l=t.onError,p=t.disabled,h=t.windowStyle,f=t.languages,g=t.submitStatus,w=t.buttonText,m=t.languageTag,b=t.captchaSettings,v=t.brandConfig,_=t.ifCrossSiteTransfer,x=ut(this.context),y=a.some((function(t){return t.isRequired}));return n("form",{onSubmit:this.onSubmit},n("div",{id:e,className:u("form-fields",i&&"form-fields--horizonal")},y&&n("i",{className:"form-note",tabIndex:0},x.requiredMark),n(LA,{tab:o,fields:a,siteId:r,onError:l,onChange:s,onBlur:c,onFocus:d,style:h,disabled:p,languages:f,languageTag:m,captchaSettings:b,isHorizontal:i,brandConfig:v,ifCrossSiteTransfer:_})),n("div",{className:"form-bottom form__submitContainer"},this.state.reCaptchaError&&n(MO,{message:this.state.reCaptchaError,type:CO,onClose:this.onReCaptchaErrorClose}),n(JA,{tab:o,onClick:this.onSubmit,isSubmitting:g===Jl,success:g===Ql,text:w,disabled:p})))},e}(l),ZA=function(t){function e(e){var n;(n=t.call(this,e)||this).onClick=n.onClick.bind(at(n)),n.toggle=n.toggle.bind(at(n)),n.onButtonFocus=n.onButtonFocus.bind(at(n));var i=function(){n.props.focus&&setTimeout((function(){return n.btn.focus()}),0)};return n.componentDidMount=i,n.componentDidUpdate=i,n}ot(e,t);var i=e.prototype;return i.componentWillMount=function(){this.props.isActive&&this.toggle(!0)},i.componentWillReceiveProps=function(t){t.isActive&&this.toggle(!0)},i.onClick=function(){this.toggle(!0)},i.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},i.toggle=function(t){this.props.onDialogToggle(!0,"sendEmail")},i.render=function(){var t=this,e=this.props,i=this.props.languages,o=e.windowDisabled||this.state.active?null:function(e){e.stopPropagation(),t.onClick(e)};return n("li",{role:"none"},n("button",rt({},{role:"menuitem"},{onClick:o,tabIndex:e.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,ref:function(e){t.btn=e},onTouchEnd:function(t){if(t&&t.stopPropagation)t.stopPropagation();else if(window.event)return window.event.cancelBubble=!0,!1;return!0}}),n(bt,{id:"iconSendEmail",type:zt,title:i.buttonTranscript,ariaHidden:!0}),n("div",{className:"menu__text-container"},i.buttonTranscript)))},e}(l);ZA.displayName="SendEmail";var XA,$A=p((function(t){var e=wh(t),n=$h(t),i=Wh(t,"email");return{isPoppedOut:tp(t),isRightToLeft:tf(t),isActive:n&&!e,disabled:!1,emailAddress:i,languages:zb(t),popupBubbleType:Wf(t)}}),(function(t){return{onSubmit:function(e){Oy("livechat.chat.visitor.setEmail",e),t(vx(e))},onToggle:function(e){t(F_(e?"sendEmail":"none"))}}}))(ZA),tB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifShowDialog:!1},n.toggle=n.toggle.bind(at(n)),n.onClick=n.onClick.bind(at(n)),n.onContinue=n.onContinue.bind(at(n)),n.onCancel=n.onCancel.bind(at(n)),n.beforeUnload=n.beforeUnload.bind(at(n)),n.unload=n.unload.bind(at(n)),n.onButtonFocus=n.onButtonFocus.bind(at(n)),n.onKeyDown=St(n.onClick),n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){this.props.isPopout&&(N.addEventListener("beforeunload",this.beforeUnload),N.addEventListener("unload",this.unload))},i.componentWillReceiveProps=function(t){var e=this;t.focus&&setTimeout((function(){return e.btn.focus()}),0)},i.componentWillUnmount=function(){this.props.isAudioVideoChatting&&this.props.onContinue()},i.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},i.onClick=function(t){this.props.isAudioVideoChatting?this.toggle(!0,t):this.props.onClick()},i.onContinue=function(t){this.toggle(!1,t),this.props.onContinue()},i.onCancel=function(t){this.toggle(!1,t)},i.beforeUnload=function(t){if(this.props.isAudioVideoChatting){var e=this.props.languages.audioVideoChangeWindowType,n=t||N.event;return n.stopPropagation(),n.preventDefault(),n.returnValue=e,e}},i.unload=function(){this.props.isAudioVideoChatting&&this.props.onContinue()},i.toggle=function(t,e){e&&e.stopPropagation(),this.setState({ifShowDialog:t}),this.props.onDialogToggle(t)},i.render=function(){var t=this,e=this.props,i=this.props.languages,o=e.isPopout?i.embeddedWindowPopup:i.embeddedWindowPopin,a=e.isPopout?Rt:Lt;return n("li",{role:"none"},n("button",{role:"menuitem",onClick:this.onClick,tabIndex:e.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,ref:function(e){t.btn=e},onTouchEnd:function(t){return t&&t.stopPropagation?(t.stopPropagation(),!0):(window.event.cancelBubble=!0,!1)}},n(bt,{type:a,title:o,ariaHidden:!0}),n("div",{className:"menu__text-container"},o)),n(aO,{globalClass:"body__dialog-menu",iconId:"iconPop",ifShow:this.state.ifShowDialog,onClose:function(e){return t.toggle(!1,e)},width:e.isPopout?305:385},n("div",{className:"bubble--desc"},i.audioVideoChangeWindowType),n("div",{className:"embedded-end-chatConfirmAction bubble__operation"},n("button",{id:"embedded-continue",className:"btn btn-primary",onClick:function(e){return t.onContinue(e)},tabIndex:"0"},i.buttonContinue),n("button",{id:"embedded-cancel",className:"btn btn-grey",onClick:function(e){return t.onCancel(e)},tabIndex:"0"},i.buttonCancel))))},e}(l);tB.displayName="PopOutOrRestore";var eB,nB,iB=[],oB="visitorMsgRestritUnlockTimeKey2",aB="visitorMsgSentTimeKey",rB="penaltyFactorKey",sB=1,cB=null,dB=[],lB=null,uB={},pB=function(t){var e=Gw($w());return null==e?"":e[t]},hB=function(t,e){return uB[oB]=pB(oB),uB[aB]=pB(aB),uB[rB]=pB(rB),uB[t]=e,uB};function fB(){var t=pB(oB);return null!=t&&""!==t?new Date(+t):null}function gB(){tm(hB(aB,iB.join(":")))}var wB=function(){cB&&(clearInterval(cB),cB=null)};function mB(){dB.forEach((function(t){clearTimeout(t)})),dB=[]}function bB(){lB&&clearTimeout(lB),lB=null}function vB(){nB(!1),iB=[],mB(),bB(),tm(hB(oB,"")),tm(hB(aB,""))}function _B(){var t=XA.penalty*sB*1e3;tm(hB(oB,(new Date).getTime()+t)),nB(!0),lB=setTimeout(vB,t),(sB*=2)>Math.pow(2,XA.repeat-1)&&(sB=1),tm(hB(rB,sB))}function xB(){return!!lB||!(iB.length<=XA.count)&&(_B(),!0)}function yB(){iB.shift(),dB.shift(),gB()}var CB=function(t,e,n){var i;XA=t,eB=e,nB=n,(i={})[oB]="",i[aB]="",i[rB]="",uB=i,mB(),wB(),bB(),iB=[],sB=1,cB=null,function(){var t=(new Date).getTime(),e=pB(aB);if(null!=e&&""!==e){var n=!1;e.split(":").forEach((function(e){var i=new Date(+e);t-i<=1e3*XA.penalty&&(iB.push(+e),dB.push(setTimeout(yB,1e3*XA.penalty-(t-i))),n=!0)})),n&&gB()}var i=fB();i&&t<i&&(nB(!0),lB=setTimeout(vB,i-t));var o=pB(rB);sB=null==o||""===o||isNaN(+o)?1:+o}()},kB=function(){vB(),tm(hB(rB,1)),wB()},SB=function(){!function(){if(!lB){iB.push((new Date).getTime()),gB();var t=setTimeout(yB,1e3*XA.duration);dB.push(t)}}();var t=xB(),e=0;return t&&(e=Math.max(0,Math.floor((fB()-(new Date).getTime())/1e3))),t&&!cB&&(cB=setInterval((function(){var t=xB(),e=Math.max(0,Math.floor((fB()-(new Date).getTime())/1e3));t&&e>0?eB(e):(eB(0),wB())}),1e3)),!t&&cB&&wB(),{isLimited:t,waitSecond:e}},IB=p((function(t){return{isPopout:!0,isAudioVideoChatting:Jh(t),languages:zb(t)}}),(function(t){return{onClick:function(){wB(),t(C_())},onContinue:function(){t(Mx()),setTimeout((function(){wB(),t(C_())}),1e3)}}}))(tB),MB=p((function(t){return{isPopout:!1,isAudioVideoChatting:Jh(t),languages:zb(t)}}),(function(t){return{onClick:function(){t(k_())},onContinue:function(){t(Mx()),t(k_())}}}))(tB),OB=function(t){function e(e){var n;(n=t.call(this,e)||this).onButtonFocus=n.onButtonFocus.bind(at(n));var i=function(){n.props.focus&&n.btn&&setTimeout((function(){return n.btn.focus()}),0)};return n.componentDidMount=i,n.componentDidUpdate=i,n}ot(e,t);var i=e.prototype;return i.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},i.render=function(){var t=this,e=this.props,i=this.props,o=i.languages,a=i.isSoundOff,r=i.setSoundOff;return n("li",{role:"none"},n("button",rt({},{role:"menuitem"},{onClick:function(){return r(!t.props.isSoundOff)},tabIndex:e.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,onKeyDown:this.onKeyDown,ref:function(e){t.btn=e},onTouchEnd:function(t){return t&&t.stopPropagation?(t.stopPropagation(),!0):(window.event.cancelBubble=!0,!1)}}),n(bt,{type:a?Ht:qt,title:a?o.buttonSoundOff:o.buttonSoundOn,id:"iconSound",ariaHidden:!0}),n("div",{className:"menu__text-container"},a?o.buttonSoundOff:o.buttonSoundOn)))},e}(l);OB.displayName="Sound";var AB,BB=p((function(t){return{languages:zb(t),isSoundOff:ap(t)}}),(function(t){return{setSoundOff:function(e){t(fv(e))}}}))(OB),TB=xt((function(){return import("./Print.d7c073d8.js")})),jB=((AB={})[ql]="livechat.chat",AB[Hl]="livechat.prechat",AB[Ul]="livechat.postChat",AB[Gl]="livechat.offlineMessage",AB),NB=p((function(t){var e=Ep(t),n=qp(t),i=pb(t,n.id),o=eg(t),a=Vh(t),r=ib(t),s=lb(t,r),c=s&&function(t,e){return!!(Hf&Ig(t,e))&&t.window.chatStatus!==au}(t,r)&&Ng(t),d=s&&Mg(t,r)&&!wh(t),l=s&&function(t,e){return!!(Kf&Ig(t,e))&&!wh(t)&&!pg(t)}(t,r),u=tp(t),p=tv(t),h=!u&&!p,f=np(t),g=jp(t),w=f&&(e===ql&&g===ou),m=Eb(t),b=pg(t),v=!u;v=v&&!Nf(t);var _=_g(t),x=s&&Tg(t,r);return Object.assign({tab:e,hasMinimize:h,hasEndChat:w,hasPrint:l,icons:[c&&yO,d&&$A,l&&{type:"lazy",name:"Print",component:TB},x&&BB,m&&MB,v&&IB].filter((function(t){return t})),windowDisabled:Fh(t),chatWindowStyle:i,isAvatarGray:e===Gl||e===Kl&&!ug(t,n.id),ifViewConfirmBubble:e!==Ul,ifHideBio:Ph(t),isPopout:tp(t),languages:n.languages,ifViewHeader:!0,ifViewHeaderBox:_>340,color:Mb(t),mainColor:Up(t),windowStatus:o,ifShowSideWindow:a,height:_g(t)},vO(i,t,n),{isMobile:b,popupBubbleType:Wf(t),emailAddress:Wh(t,"email")})}),(function(t){return{onMinimize:function(e){var n=jB[e];n&&Oy(n+".minimize"),t(Av())},onEnterMinimize:function(){t(jv(!0))},onClose:function(e){var n=jB[e];n&&Oy(n+".close"),t(Bv())},onEndChat:function(){t(_x()),t(Cv())},onUpdateScrollStatus:function(e){t(__(e))}}}))(hO),PB=function(t){function e(e){var n;return(n=t.call(this,e)||this).handlerKeydown=n.handlerKeydown.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.handlerKeydown=function(t){if(9===t.keyCode&&!top.frames.chat_button_adaptive_container){var e=top.frames.side_window_container&&top.frames.side_window_container.contentWindow,n=e&&e.document.querySelector(".sideWindow");if(n)return void n.focus();var i=this.poweredByRef.ownerDocument.querySelector(".whole-window");i&&i.focus()}},i.render=function(){var t=this,e=this.props,i=ut(this.context);return"Comm100"===e.brandingName?n("div",{className:"poweredby",onKeyDown:this.handlerKeydown,ref:function(e){t.poweredByRef=e}},n("a",{rel:"noopener noreferrer nofollow",target:"_blank",href:e.poweredByUrl,onClick:void 0,hrefLang:"en","aria-label":i.poweredBy.replace("${brandingName}",N.brandingName),title:"Powered by "+e.brandingName},n("svg",{viewBox:"0 0 75.1 13.5",style:{width:75.1},focusable:"false"},n("polygon",{points:"9.1,4.9 5.4,4.9 7.8,0.3 3,0.3 0,8 3.6,8 1.6,13.5"}),n("path",{d:"M33.6,2.5c0.5,0.1,1,0.4,1.4,0.8c0.3-0.3,0.7-0.6,1-0.8c-0.5-0.6-1.3-1-2.1-1.2c-2.1-0.4-4.1,1-4.5,3c-0.4,2.1,1,4.1,3,4.5c0.9,0.2,1.7,0,2.4-0.3c-0.2-0.3-0.5-0.8-0.6-1.1c-0.5,0.1-1,0.2-1.6,0.1c-1.4-0.3-2.3-1.6-2-3C30.9,3.1,32.2,2.2,33.6,2.5z M23.1,6.2C23,6.6,22.9,7,22.8,7.3c-0.1-0.3-0.2-0.8-0.3-1.2l-1.1-3.4H20l2.1,5.6c0.1,0.2,0.1,0.2,0.1,0.3c0,0.2-0.5,1.4-1.8,1.9l0.3,1.1c0.3-0.1,0.9-0.3,1.4-0.8C22.8,10.1,23.3,9,24,7l1.4-4.2h-1.3L23.1,6.2zM38,3c-1.6,0-2.9,1.3-2.9,2.9c0,1.6,1.3,2.9,2.9,2.9s2.9-1.3,2.9-2.9C40.9,4.3,39.6,3,38,3z M38,7.7c-1,0-1.8-0.8-1.8-1.8S37,4.1,38,4.1s1.8,0.8,1.8,1.8S39.1,7.7,38,7.7z M17.7,2.6c-0.8,0-1.4,0.4-1.8,1L15.8,0h-1.3v8.8h1.1l0.1-0.9c0.4,0.7,1,1,1.8,1c1.2,0,2.5-1,2.5-3.2C20,3.8,19.1,2.6,17.7,2.6z M17.2,7.9c-0.9,0-1.4-0.7-1.4-1.5V5.2c0-0.8,0.6-1.6,1.4-1.6c1,0,1.5,1,1.5,2.1C18.7,7,18.2,7.9,17.2,7.9z M72.5,1.2c-1.1,0-2.6,0.8-2.6,3.8c0,3.1,1.6,3.8,2.6,3.8c1.2,0.1,2.6-0.7,2.6-3.8S73.6,1.2,72.5,1.2zM72.5,7.9C71.6,7.9,71,7,71,5s0.6-2.9,1.5-2.9S74,3,74,5S73.4,7.9,72.5,7.9z M66.4,1.2c-1.1,0-2.6,0.8-2.6,3.8c0,3.1,1.6,3.8,2.6,3.8C67.5,8.9,69,8.1,69,5S67.5,1.2,66.4,1.2z M66.3,7.9c-0.9,0-1.5-0.9-1.5-2.9s0.6-2.9,1.5-2.9c0.9,0,1.5,0.9,1.5,2.9S67.2,7.9,66.3,7.9z M57.7,3c-0.8,0-1.5,0.4-1.9,1.2c-0.1-0.4-0.2-0.7-0.5-0.9S54.7,3,54.3,3c-0.8,0-1.4,0.3-1.8,1V3.1h-1.2v5.8h1.2V5.8c0-0.6,0-1,0.3-1.3S53.3,4,53.7,4c0.7,0,1.1,0.5,1.1,1.6v3.2H56V5.7c0-0.5-0.1-0.9,0.2-1.2S56.8,4,57.1,4c0.4,0,0.7,0.1,0.9,0.4c0.2,0.3,0.3,0.7,0.3,1.3v3.1h1.2V5.4C59.5,3.8,59,3,57.7,3z M48.2,3c-0.8,0-1.5,0.4-1.9,1.2c-0.1-0.4-0.2-0.7-0.5-0.9S45.2,3,44.8,3C44,3,43.4,3.3,43,4V3.1h-1.2v5.7H43V5.7c0-0.5-0.1-0.9,0.2-1.2S43.7,4,44.1,4c0.7,0,1.1,0.5,1.1,1.6v3.2h1.2V5.7c0-0.5,0.2-0.9,0.4-1.2C47.1,4.2,47.4,4,47.7,4c0.4,0,0.7,0.1,0.9,0.4c0.2,0.3,0.3,0.7,0.3,1.3v3.1h1.2L50,5.4C50,3.8,49.5,3,48.2,3z M60.5,2.1h0.8v6.7h1V1.1h-1.8V2.1z"})))):n("div",{className:"poweredby",dangerouslySetInnerHTML:{__html:e.poweredByContent},onKeyDown:this.handlerKeydown,ref:function(e){t.poweredByRef=e}})},e}(l),DB=bM("footer.poweredby")(PB),WB=function(t){function e(e){var n;return(n=t.call(this,e)||this).focusInput=n.focusInput.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.componentWillReceiveProps=function(t){if(t.isPopout&&!t.isBubble&&this.container.parentElement){var e=Ut(t.width);this.container.parentElement.style.marginLeft=e.marginLeft||"",this.container.parentElement.style.marginRight=e.marginRight||""}},i.focusInput=function(){var t=this.container.ownerDocument.querySelector("#chat-input textarea");t&&t.focus()},i.render=function(){var t=this,e=this.props;return n("footer",{ref:function(e){t.container=e},className:u("footer window__footer",!e.poweredByUrl&&!e.showChatWithAgent&&"footer--empty"),style:e.style,onTouchMove:st,onClick:this.focusInput},e.poweredByUrl&&n(DB,e),e.showChatWithAgent&&n("button",{onClick:e.onChatWithAgentClick,className:"window__chatWithAgent window__chatWithAgent--bottom"},e.chatWithAgentText))},e}(l),FB=bM("footer","footer-container")(WB),VB=p((function(t){var e=pg(t)||iw(t)?null:gh(),n=Ep(t),i=kp(t),o=Rp(t),a=pb(t,o)===Fg;return{tab:n,poweredByUrl:e,showChatWithAgent:!1,chatWithAgentText:Lb(t,"buttonChatbotChatWithAgent"),brandingName:i&&i.brandingName,partnerId:i&&i.partnerId,poweredByContent:i&&i.poweredByContent,isPopout:tp(t),width:zf(t),isBubble:a}}),(function(t){return{onChatWithAgentClick:function(){t(h_())}}}))(FB),EB="sso-login",zB="setLocation",RB="closeLocation",LB="customVariableLogin",HB="webViewLinkDone",qB={},UB=t(5)((function(t){return nt("iframe",{src:t,style:{display:"none"},title:"Login"},document.body).then((function(e){var n=$S(e.contentWindow,t),i=function(t){try{return JSON.parse(t)}catch(t){return}};return n.subscribe((function(t){var e=t.data,n=i(e);if(n&&qB[n.meta]){var o=qB[n.meta],a=o.reject,r=o.resolve;n.error?a(n.payload):r(n.payload)}})),n}))}));function GB(t,e){var n=Math.random().toString();return UB(e).then((function(e){return new Promise((function(i,o){var a=Object.assign({meta:n},t);qB[a.meta]={resolve:i,reject:o},e.dispatch(a)}))}))}var KB,YB=function(t,e){return GB({type:"facebook-init",payload:t},e)},JB=((KB={})[1]={text:"Facebook",color:"#39599C",svg:"M9.253,4.07a1.3,1.3,0,0,1,1.24-1.3,5.294,5.294,0,0,1,1.648.247l.5-2.7A12.567,12.567,0,0,0,9.315.01,3.286,3.286,0,0,0,6.427,1.328a4.764,4.764,0,0,0-.566,2.761V5.9H4.046V8.54H5.86V16H9.315V8.481h2.7l.19-2.636V5.778H9.253Z",id:"fb-login"},KB),QB=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this,e=this.btn.style.backgroundColor;this.btn.style.backgroundColor="initital",setTimeout((function(){t.btn&&(t.btn.style.backgroundColor=e)}),0)},i.render=function(){var t=this,e=this.props,i=JB[e.type];return n("button",{className:u("prechatForm__socialBtn",e.isSimpleIcon&&"socialBtn--simple"),onClick:e.onClick,id:i.id,style:{backgroundColor:i.color},"aria-label":i.text,ref:function(e){t.btn=e}},n("svg",{viewBox:"0 0 16 16",focusable:"false"},n("path",{d:i.svg})),n("span",null,i.text))},e}(l),ZB=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.shouldComponentUpdate=function(t){return t.prefix!==this.props.prefix||t.greeting!==this.props.greeting},i.render=function(){var t=this.props,e=t.prefix,i=t.greeting;return n("div",{className:"greeting-message window__formGreeting",id:e+"-greeting",dangerouslySetInnerHTML:{__html:i}})},e}(l),XB=bM("greeting")(ZB),$B=t(1)((function(t,e,i,o,a,r){if(!t)return null;var s,c,d,p=e+"&key="+o;if(t){var h=(c=R(YB,t,p),d=QB,function(t){function e(e){var n;return(n=t.call(this,e)||this).state={status:"loading"},n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this;c().then((function(){t.setState({status:"done"})}),(function(){t.setState({status:"error"})}))},i.render=function(){var t=ut(this.context);return"loading"===this.state.status?n(bt,{type:Et,className:"svg--loading",viewBox:"0 0 100 100","aria-label":t.loading,"aria-busy":"true"}):"done"===this.state.status?n(d,this.props):null},e}(l));s=n(h,{type:1,onClick:function(){return function(t){return GB({type:"facebook-login"},t)}(p).then(i)},isSimpleIcon:r})}else s=null;return bM("social")((function(){return n("div",{id:"social-logins",className:u("prechatForm__login",r&&"form-fields--horizonal","form-fields")},n("div",{className:"box-field"},n("div",{className:"field-name clearfix"},n("span",{className:"lang-sign-in-with system LanguagePreChatSocialMediaSignInWith prechatForm__signinwith field__label"},a.preChatSocialMediaSignInWith)),n("span",{id:"social-login-icons",className:"float-left box-icons prechatForm__social field-control"},s)),n("div",{className:"box-hor-or"},n("span",{className:"LanguagePreChatSocialMediaOr hor-or prechatForm__divide"},a.preChatSocialMediaOr)))}))})),tT=function(t,e){var n=t.facebookAppId,i=t.iframeSrc,o=t.onLogin,a=t.languages,r=t.isHorizontal;return $B(n,i,o,e,a,r)},eT=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={animated:!1,isAnimationEnd:!1},n.social=null,n.key=+new Date,n.social=tT(e,n.key),n.onAnimated=n.onAnimated.bind(at(n)),n.onAnimationEnd=n.onAnimationEnd.bind(at(n)),n.onScroll=n.onScroll.bind(at(n)),n.canUpdateHideBio=!0,n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this;this.props.onMounted(),setTimeout((function(){t.element&&(t.element.scrollTop=0)}),0),q&&this.onAnimationEnd(),ct(this.animation,this.onAnimationEnd),setTimeout((function(){}),10),ct(this.animation,this.onAnimated)},i.componentWillReceiveProps=function(t){this.social=tT(t,this.key)},i.componentDidUpdate=function(t){var e=this,n=t.ifHideBio;this.props.ifHideBio!==n&&(this.canUpdateHideBio=!1,setTimeout((function(){e.canUpdateHideBio=!0}),625))},i.componentWillUnmount=function(){Gt(this.animation,this.onAnimated),Gt(this.animation,this.onAnimationEnd)},i.onAnimated=function(){this.setState({animated:!0})},i.onAnimationEnd=function(){this.setState({isAnimationEnd:!0})},i.onScroll=function(t){if(!(window.navigator.userAgent.toLowerCase().indexOf("msie 9.0")>=0)&&this.props.tab!==Hl){var e=t.currentTarget.scrollTop;this.canUpdateHideBio&&e>0&&!this.props.ifHideBio&&this.props.onUpdateScrollStatus(!0),this.canUpdateHideBio&&0===e&&this.props.ifHideBio&&this.props.onUpdateScrollStatus(!1)}},i.render=function(){var t=this,e=this.props,i=e.prefix,o=e.greeting,a=e.submitStatus,r=e.onChange,s=e.onBlur,c=e.onFocus,d=e.isHorizontal,l=e.buttonText,p=e.siteId,h=e.style,f=e.error,g=e.windowStyle,w=e.disabled,m=e.tab,b=e.height,v=e.languages,_=e.isMobile,x=e.onError,y=e.onValidateAll,C=e.onSubmit;e.mainColor;var k,S=e.showAdaptiveMinimizeIcon,I=e.isIPad,M=e.fields,O=e.isPopout,A=e.hasPoweredBy,B=e.ifShowSideWindow,T=e.captchaSettings,j=e.languageTag,N=e.isEmbeddedWindow,P=e.brandConfig,D=e.ifCrossSiteTransfer,W=this.state.isAnimationEnd?"auto":"hidden";if(g===Fg){if(k=b-(_?20:30),_||(k-=A?35:0),!_||I){S&&(k-=105)}if(I){B&&(k-=45)}_&&!I&&(k="100%")}var F=Jt(),V=M;pt&&(V=[{type:Io,isHidden:!0,value:"",error:""}].concat(V));var E="";i===ru?E="Pre-chat window":i===su?E="Post-chat window":i===cu&&(E="Offline message window");var z={maxHeight:k},R={};return O&&(z=Object.assign({},z,Kt(this.props.width)),R=Yt(this.props.width)),g===Fg?n("div",{className:"window__formContainer window__formContainer--bubble",style:{maxHeight:k,overflowY:W},ref:function(e){t.element=e}},n("div",{className:u("form window__form",!this.state.isAnimationEnd&&"window__form--animation"),id:i+"-window",ref:function(e){t.animation=e},style:!_&&{background:F}},n("h1",{className:"visually-hidden"},E),f&&n("div",{className:"window__formError"},f),o&&n("div",{className:"greeting-message-container",ref:function(e){t.greetingElement=e},tabindex:-1},n(XB,{prefix:i,greeting:o,tab:m})),this.social&&n(this.social,{tab:m}),n(QA,{onSubmit:C,onChange:r,onError:x,onBlur:s,onFocus:c,onValidateAll:y,fieldId:i+"-fields",isHorizontal:d,tab:m,fields:V,siteId:p,disabled:w,windowStyle:h,languages:v,submitStatus:a,buttonText:l,style:{background:F},captchaSettings:T,languageTag:j,ifCrossSiteTransfer:D}))):n("div",{onScroll:this.onScroll,className:u("form window__form",!this.state.isAnimationEnd&&"window__form--animation",(O||!N)&&"window__form_popout"),id:i+"-window",style:z,ref:function(e){t.element=e,t.animation=e}},n("div",{style:R},n("h1",{className:"visually-hidden"},E),f&&n("div",{className:"window__formError"},f),o&&n("div",{tabindex:0,ref:function(e){t.greetingElement=e}},n(XB,{prefix:i,greeting:o,tab:m})),this.social&&n(this.social,{tab:m}),n(QA,{onSubmit:C,onChange:r,onError:x,onBlur:s,onFocus:c,onValidateAll:y,fieldId:i+"-fields",isHorizontal:d,tab:m,fields:V,siteId:p,disabled:w,windowStyle:h,languages:v,submitStatus:a,buttonText:l,captchaSettings:T,languageTag:j,brandConfig:P,ifCrossSiteTransfer:D})))},e}(l),nT=eT,iT=function(t){var e="";t===ru?e="livechat.prechat":t===su?e="livechat.postChat":t===cu&&(e="livechat.offlineMessage");return p((function(n){var i,o=t===ru,a=function(t){return t.configuration.isChinaIP}(n),r=o&&function(t){var e=t.entities.campaigns.entities[t.window.id];return!!e.socialLogin&&e.socialLogin.facebook}(n),s=r&&!a?function(t){return t.configuration.facebookAppId}(n):void 0;t===ru?i=Hl:t===su?i=Ul:t===cu&&(i=Gl);var c=tp(n),d=_g(n),l=Rp(n),u=Lp(n)||l,p=t===su?Km(n):Ym(n,t,u),h=Fh(n);t===cu&&0===p.length&&(h=!0);var f=zb(n),g=Up(n),w=pg(n),m=!w&&!iw(n)&&!!gh(),b=Rb(n),v=Kg(n,l),_=Cb(n,t),x=pb(n,l),y=w&&ht&&of(n)||_&&x===Fg||of(n)&&ht&&tf(n),C=Object.assign({},function(t){return t.configuration.recaptchaSettings}(n),{isCompact:y});return{height:d,isPopout:c,tab:i,fields:p,prefix:t,facebookAppId:s,iframeSrc:cp(n,"/visitorside/html/socialiframe.8a4f04002b1128e822dd2a21ee15abc673de12bf.html?origin="+W.origin+"&id="+(window.frameElement?window.frameElement.id:"id")),captchaSettings:C,submitStatus:Jm(n,t),greeting:yb(n,t),isHorizontal:_,buttonText:kb(n,t),hCallback:undefined,siteId:$f(n),style:fb(n),error:dh(n),windowStyle:pb(n,l),disabled:h,isMobile:w,isIPad:hg(n),languages:f,languageTag:b,ifHideBio:Ph(n),mainColor:g,bottom:gf(n),hasPoweredBy:m,showAdaptiveMinimizeIcon:tv(n),ifShowSideWindow:Vh(n),onMounted:function(){Oy(e+".display",u)},isEmbeddedWindow:v,brandConfig:kp(n),ifCrossSiteTransfer:!!tb(n),width:zf(n)}}),(function(n){return{onChange:function(i,o){n(zx(t,i.id,o)),Oy(e+".field.change",Object.assign({},i,{value:o}))},onError:function(e,i){n(Rx(t,e.id,i))},onBlur:function(i){n(Hx(t,i.id)),Oy(e+".field.blur",Object.assign({},i,{isFocused:!1}))},onFocus:function(i){n(Lx(t,i.id)),Oy(e+".field.focus",Object.assign({},i,{isFocused:!0}))},onLogin:function(e){n(function(t,e){return{type:td,payload:e,meta:{formType:t}}}(t,e))},onSubmit:function(e){return n(ty(t,1500,e))},onValidateAll:function(t){n(Jx(uu,t))},onUpdateScrollStatus:function(t){n(__(t))}}}))(nT)},oT=iT(ru),aT=iT(su),rT=iT(cu);Math.pow("production",f.shape({fields:f.arrayOf(f.shape()),buttons:f.arrayOf(f.shape()),isEnable:f.bool,tabIndex:f.number}));var sT=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){if(this.props.isMessageScrollBottom){var t=this.props.scrollDown;t(),ct(this.container,t)}},i.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Gt(this.container,this.props.scrollDown)},i.render=function(){var t=this,e=this.props,i=e.windowStyle===Fg;return e.type===Gn?n("div",{className:"chat__greetingContainer"},n("div",{className:i?"chat-system-message window__chatSystemMessage":"greeting-message window__formGreeting"},n("div",{className:u(i&&"window__chatSystemMessageContent"),dangerouslySetInnerHTML:{__html:e.message}}))):n("div",{tabIndex:e.tabIndex,id:e.type===ve?"system-queue-position":null,className:"chat-system-message window__chatSystemMessage",ref:function(e){t.container=e}},n(IO,{id:e.messageGuid,message:e.liveMessage||e.message}),i&&n("div",{className:"window__chatSystemMessageContent"},e.message),!i&&e.message)},e}(l),cT={minimize:"minimize",popup:"popup",embedded:"embedded",close:"close",inputSend:"input-send",plus:"plus",bubble:"bubble",sendfile:"sendfile",kb:"icon-kb",kbActive:"icon-kb-active",bot:"icon-bot",botActive:"icon-bot-active",media:"icon-media",mediaActive:"icon-media-active",search:"kb-search"},dT=["type","color","size","className","hoverScale","disabled","hoverColor"],lT=function(t){function e(){var e;return(e=t.call(this)||this).state={isHover:!1},e.updateHoverStatus=e.updateHoverStatus.bind(at(e)),e.shouldComponentUpdate=lM(at(e),["type","disabled","size","className","color","id","onClick"],["isHover"]),e}ot(e,t);var i=e.prototype;return i.updateHoverStatus=function(t){this.setState({isHover:t})},i.render=function(){var t=this,e=this.props,i=e.type,o=e.color,a=e.size,r=e.className,s=e.hoverScale,c=e.disabled,d=e.hoverColor,l=B(e,dT),p={large:"icon-large",small:"icon-small",larger:"icon-larger",smaller:"icon-smaller",normal:"icon-normal"}[a]||"",h=i.split("#"),f=h[0],g=h[1],w=u("icon","icon-"+f,p,s&&"icon-hover",r),m=l.style||{};return d&&this.state.isHover?m.color=d:o?m.color=o:g&&(m.color="#"+g),"number"==typeof a&&(m.fontSize=a+"px"),c&&(m.color="#999"),n("i",rt({},l,{style:m,className:w,onMouseOver:function(){return t.updateHoverStatus(!0)},onMouseOut:function(){return t.updateHoverStatus(!1)}}))},e}(l);lT.types=cT;var uT=t(1)((function(t,e){return t?y(e,"guid",t):-1}));function pT(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent}var hT=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifShowLoading:!1,imgWidth:0,imgHeight:0},n.timer=null,n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this;if(this.props.type===Kn&&(this.timer=setTimeout((function(){t.setState({ifShowLoading:!0}),t.timer=null}),1e3)),(0,this.props.scrollDown)(!0),this.props.type===_e&&this.props.message.url&&/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(this.props.message.name)){var e=new Image;e.src=Ga(this.props.message.url,!0),e.onload=function(){t.setState({imgWidth:e.width,imgHeight:e.height})}}},i.componentWillReceiveProps=function(t){t.type!==Kn&&(this.timer&&clearTimeout(this.timer),this.setState({ifShowLoading:!1}))},i.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer)},i.getLiveMessage=function(){var t,e=ut(this.context),n=this.props,i=n.type;return i===Kn?t=e.sendMessageLiveMessage.replace("${message}",n.displayedText?n.displayedText:n.message):i===be?t=n.translated&&n.translated!==n.message?e.translateLiveMessage.replace("${translated}",n.translated).replace("${message}",n.message):e.sendMessageLiveMessage.replace("${message}",n.displayedText?n.displayedText:n.message):i===xe?t=e.sendImgLiveMessage:i===_e?t=e.sendFileLiveMessage.replace("${name}",n.message.name):n.type===Jn||n.type===Yn?t=e.sendingFileLiveMessage.replace("${name}",n.message.fileName):i===ye?t=e.sendPwdLiveMessage:i!==Ln&&i!==Rn||(t=e.sendMessageLiveMessage.replace("${message}",n.message.message)),t&&(t=e.visitorSendLiveMessage.replace("${message}",t).replace("${time}",Qt(n.time))),t},i.render=function(){var t,e,i,o=this,a=this.props,r=!1,s="",c="",d=a.isMobile&&!a.isIpad,l=ut(this.context);a.type===Kn?t=Sa(a.displayedText?a.displayedText:a.message,n("br",null),a.KbHost,a.onKbLinkClick,a.siteId,d):a.type===be?a.translated&&a.translated!==a.message?((t=Sa(a.translated,n("br",null),a.KbHost,a.onKbLinkClick,a.siteId,d)).push(n("em",{className:"window__chatMessageOrignal window__chatMessageTranslatedTag"},"(",a.translatedTag,")")),t.push(n("em",{className:"window__chatMessageOrignal"},Sa(a.message,n("br",null),a.KbHost,a.onKbLinkClick,a.siteId,d)," (",a.originalTag,")"))):t=Sa(a.displayedText?a.displayedText:a.message,n("br",null),a.KbHost,a.onKbLinkClick,a.siteId,d):a.type===xe?(c=$a(a.message.url,a.customizeFileService,a.standbyFileService),r=!0,s=/.*[.](gif)$/i.test(a.message.name)?c:a.message.url+"?maxWidth=200&maxHeight=200",t=n("a",{href:""+c,target:"_blank",rel:"noopener noreferrer"},n("img",{src:s,alt:a.message.name,style:{maxWidth:200,maxHeight:200},onLoad:function(){return a.scrollDown(!0)}}))):a.type===_e?(c=$a(a.message.url,a.customizeFileService,a.standbyFileService),/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(a.message.name)?(r=!0,0===this.state.imgWidth?(r=!1,t=n("div",{className:"chat-visitor-message window__chatVisitorMessage--file"},n(lT,{type:cT.sendfile}),n("a",{href:c,target:"_blank",rel:"noopener noreferrer"},a.message.name))):(s=/.*[.](gif)$/i.test(a.message.name)?c:Ga(c,!1,this.state.imgWidth,this.state.imgHeight),t=n("a",{href:""+c,target:"_blank",rel:"noopener noreferrer",style:Ua(this.state.imgWidth,this.state.imgHeight)},n("div",{className:"image-container"},n("img",{src:s,alt:a.message.name,onLoad:function(){return a.scrollDown(!0)},style:qa(this.state.imgWidth,this.state.imgHeight)}))))):(r=!1,c=$a(a.message.url,a.customizeFileService,a.standbyFileService),t=n("div",{className:"chat-visitor-message window__chatVisitorMessage--file"},n(lT,{type:cT.sendfile}),n("a",{href:c,target:"_blank",rel:"noopener noreferrer"},a.message.name)))):a.type===Jn||a.type===Yn?(t=[a.fileName],a.percent&&t.push(n("span",{role:"progressbar","aria-valuenow":a.percent,"aria-valuemin":"0","aria-valuemax":"100"},"(",a.percent,"%)")),a.onCloseClick&&t.push(n("button",{onClick:function(t){t.preventDefault(),t.stopPropagation(),a.onCloseClick()},"aria-label":l.cancelUpload,className:"file__icon--cancel"},n(bt,{type:kt}))),t.push(n("span",{className:"chat-message--loading","aria-label":l.uploading},n(bt,{type:Et,className:"svg--loading",viewBox:"0 0 100 100","aria-label":l.uploading,"aria-busy":"true"})))):a.type===Ln?(e=a.message,i=e.message?e.message.replace(/\r\n|\r|\n/g,"<br />"):"",t=n("div",null,n("div",{dangerouslySetInnerHTML:{__html:i}}),e.values.map((function(t,e){return n("div",{key:e},t.label," : ","checkbox"===t.type?"true"===t.value?pT(""):pT(""):"checkbox-list"===t.type?t.value.replace(/\u2299/gi,","):t.value)})))):a.type===Rn&&(t=a.message.message),a.textType===ye&&(t=a.message?"".repeat(a.message.length):"");var p=this.getLiveMessage();return n("div",{className:u("chat-visitor","window__chatVisitor","clearfix",a.type===Ln&&"window__chatVisitorFormMessage"),ref:function(t){o.container=t}},n(IO,{id:a.msgGuid,message:p}),a.time&&n("span",{className:"chat-message-time"},Qt(a.time)),n("div",{className:u("chat-visitor-message","window__chatVisitorMessage",r&&"chat-message--img",a.meta.isFirst&&"window__chatVisitorFirstMessage",a.meta.isLast&&"window__chatVisitorLastMessage"),style:{background:M(a.mainColor),borderColor:M(a.mainColor)}},!function(t){return t===Jn||t===Yn}(a.type)&&function(t,e,i,o,a){if(t){var r=uT(i,a),s=uT(e,a),c=-1===r||r&&r>s?"message--notSeen":"message--seen",d=r>s?o:"";return n("div",{className:u("dot_container"),"aria-label":d},n("span",{title:d},n("svg",{version:"1.1",x:"0px",y:"0px",width:"6px",height:"6px",viewBox:"0 0 6 6",xmlSpace:"preserve",focusable:"false",className:c,"aria-hidden":"true"},n("circle",{r:"3",cy:"3",cx:"3",className:"innerDot"}))))}return null}(a.ifShowSeenDot,a.maxAgentReadId,a.msgGuid,a.tooltip,a.originalMessages),t,this.state.ifShowLoading&&n("span",{className:"chat-message--loading"},n(bt,{type:Et,className:"svg--loading",viewBox:"0 0 100 100","aria-label":l.uploading,"aria-busy":"true"}))))},e}(l),fT=function(t){function e(e){return t.call(this,e)||this}return ot(e,t),e.prototype.render=function(){return n("div",null,this.props.message)},e}(l),gT=mM("livechat.invitation.message","invitation")(fT),wT=xt((function(){return import("./AgentSendSSO.d476700b.js")})),mT=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={mobileShowTime:!1,imgWidth:0,imgHeight:0},n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this,e=this.props;if(e.isMessageScrollBottom&&(e.scrollDown(),ct(this.container,e.scrollDown)),Oy("livechat.chat.agent.input",e.sender,e.message),e.type===Ee&&e.message.url&&/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(e.message.name)){var n=new Image;n.src=Ga(e.message.url,!0),n.onload=function(){t.setState({imgWidth:n.width,imgHeight:n.height})}}if(this.props.type===He&&this.props.message&&this.props.chatStatus===ou){var i=V(this.props.message.url);switch(this.props.message.pushType){case"sideWindow":this.props.onPushPage(i);break;case"currentWindow":N.location.href=i;break;case"newWindow":N.open(i,"_blank")}}},i.shouldComponentUpdate=function(t,e){return this.props.message!==t.message||t.sender.name!==this.props.sender.name||t.sender.avatar!==this.props.sender.avatar||t.time!==this.props.time||t.translated!==this.props.translated||t.ifShowName!==this.props.ifShowName||t.ifShowAvatar!==this.props.ifShowAvatar||t.isMobile!==this.props.isMobile||t.type!==this.props.type||e.mobileShowTime!==this.state.mobileShowTime||e.imgWidth!==this.state.imgWidth||e.imgHeight!==this.state.imgHeight||t.isSSOLoggedIn!==this.props.isSSOLoggedIn||t.isChatting!==this.props.isChatting},i.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Gt(this.container,this.props.scrollDown)},i.getLiveMessage=function(){var t,e=ut(this.context),n=this.props,i=n.type;if(i===Oe||i===ei||i===Ae||i===Bn||i===An?t=n.translated&&n.translated!==n.message?e.translateLiveMessage.replace("${translated}",n.translated).replace("${message}",n.message):e.sendMessageLiveMessage.replace("${message}",n.message):i===De?t=e.sendLinkLiveMessage.replace("${message}",n.message):i===He?t=e.sendPageLiveMessage.replace("${url}",n.message.url):i===ze?t=e.sendImgLiveMessage:i===Ee&&(t=e.sendFileLiveMessage.replace("${name}",n.message.name)),t)return e.agentSendLiveMessage.replace("${senderName}",n.sender.name).replace("${message}",t).replace("${time}",Qt(n.time))},i.render=function(){var t,e=this,i=this.props,o=!1,a="",r="",s=i.isMobile&&!i.isIpad,c=ut(this.context);if(i.type===Oe||i.type===ei||i.type===Ae||i.type===An||i.type===Bn)if(i.translated&&i.translated!==i.message)(t=Sa(i.translated,n("br",null),i.KbHost,i.onKbLinkClick,i.siteId,s)).push(n("em",{className:"window__chatMessageOrignal window__chatMessageTranslatedTag"},"(",i.translatedTag,")")),t.push(n("em",{className:"window__chatMessageOrignal"},Sa(i.message,n("br",null),i.KbHost,i.onKbLinkClick,i.siteId,s)," (",i.originalTag,")"));else if(i.type===ei){var d=Sa(i.message,n("br",null),i.KbHost,i.onKbLinkClick,i.siteId,s);t=[n(gT,{message:d})]}else t=Sa(i.message,n("br",null),i.KbHost,i.onKbLinkClick,i.siteId,s);else i.type===De?t=Zt(i.message):i.type===He?t=Sa(i.message.url,n("br",null)):i.type===ze?(r=$a(i.message.url,i.customizeFileService,i.standbyFileService),o=!0,a=/.*[.](gif)$/i.test(i.message.name)?r:r+"?maxWidth=200&maxHeight=200",t=n("a",{href:""+r,target:"_blank",rel:"noopener noreferrer"},n("img",{src:a,alt:i.message.name,style:{maxWidth:200,maxHeight:200},onLoad:function(){i.isMessageScrollBottom&&i.scrollDown()}}))):i.type===Ee&&(/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(i.message.name)?(o=!0,a=r=$a(i.message.url,i.customizeFileService,i.standbyFileService),0===this.state.imgWidth?(o=!1,t=n("div",{className:"chat-operator-message window__chatAgentMessage--file"},n("span",{className:"chat-message--loading","aria-label":c.uploading},n(bt,{type:Et,className:"svg--loading",viewBox:"0 0 100 100","aria-label":c.uploading,"aria-busy":"true"})),n("a",{href:a,target:"_blank",rel:"noopener noreferrer"},i.message.name))):(a=/.*[.](gif)$/i.test(i.message.name)?r:Ga(r,!1,this.state.imgWidth,this.state.imgHeight),t=n("a",{href:""+r,target:"_blank",rel:"noopener noreferrer",style:Ua(this.state.imgWidth,this.state.imgHeight)},n("div",{className:"image-container"},n("img",{src:a,alt:i.message.name,style:qa(this.state.imgWidth,this.state.imgHeight),onLoad:function(){i.isMessageScrollBottom&&i.scrollDown()}}))))):(r=$a(i.message.url,i.customizeFileService,i.standbyFileService),o=!1,t=n("div",{className:"chat-operator-message window__chatAgentMessage--file"},n(lT,{type:cT.sendfile}),n("a",{href:r,target:"_blank",rel:"noopener noreferrer"},i.message.name))));var l=this.getLiveMessage(),p=i.isMobile?"#fff":Jt(i.mainColor);return n("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},n(IO,{id:i.messageGuid,message:l}),i.ifShowAvatar&&i.sender.avatar&&n("div",{className:"agentMessage__avatar"},n(dO,{src:i.sender.avatar,alt:c.avatar,className:"agentMessage__avatarImg"})),n("div",{className:"window__chatAgentMessage_container"},n("div",{className:"chat-message-extra-info"},i.sender.name&&n("span",{className:"chat-operator-name window__chatAgentName"},i.sender.name),i.time&&n("span",{className:"chat-message-time"},Qt(i.time))),n("div",{className:u("chat-operator-message","window__chatAgentMessage",o&&"chat-message--img",i.type===Re&&"chat-message--imgLoading",(!i.ifShowAvatar||!i.sender.avatar)&&"window__chatMessageNoAvatar"),style:{background:p}},i.type===Re&&n(bt,{type:Et,className:"svg--loading",viewBox:"0 0 100 100","aria-label":c.loading,"aria-busy":"true"}),i.type===In?n(yt,null,n(Ct,null,n(wT,{message:i.message,ifDisable:i.isSSOLoggedIn||!i.isChatting||i.message.isDisable,onClick:i.onSSORequestClick,mainColor:i.mainColor,isPopoutWindow:i.isPopoutWindow}))):t)))},e}(l),bT=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){if(this.props.isMessageScrollBottom){var t=this.props.scrollDown;t(),ct(this.container,t)}},i.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Gt(this.container,this.props.scrollDown)},i.render=function(){var t=this,e=this.props,i=e.fields,o=e.greeting,a=e.buttonText,r=e.onFocus,s=e.onBlur,c=e.onChange,d=e.onSubmit,l=e.onValidateAll,u=e.submitStatus,p=e.languages,h=e.isHorizontal,f=e.isMobile?"#fff":Jt(e.mainColor),g=u!==Yl;return 0===i.length?null:n("div",{className:"window__formMessageContainer"},n("div",{tabIndex:e.tabIndex,className:"window__formMessage",style:{background:f},ref:function(e){t.container=e}},e.greeting&&n("div",{className:"greeting-message-container greeting-message window__formGreeting",ref:function(e){t.greetingElement=e},tabIndex:-1,dangerouslySetInnerHTML:{__html:e.greeting}}),n(QA,{fields:i,greeting:o,buttonText:a,onFocus:r,onBlur:s,onSubmit:d,onChange:c,onValidateAll:l,submitStatus:u,text:a,disabled:g,languages:p,isHorizontal:h,tab:e.tab})))},e}(l);function vT(t,e){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var r=t.state.fields.map((function(i){return i.id!==n.id?i:function(t,e){if(t.isRequired){if(!t.value&&!t.error)return Object.assign({},t,{error:e.promptRequired});if(t.value&&t.error)return Object.assign({},t,{error:""})}return t}(Object.assign({},i,e.apply(void 0,o)),t.props.languages)}));t.setState({fields:r})}}var _T,xT=function(t){function e(e){var n;n=t.call(this,e)||this;var i=e.fields;return i=i.map((function(t){return"rating"===t.type?t.value=0:"comment"===t.type&&(t.value=""),t})),n.state={fields:i},n.onBlur=vT(at(n),(function(){return{isFocused:!1,isErrorShowed:!0}})),n.onFocus=vT(at(n),(function(){return{isFocused:!0}})),n.onChange=vT(at(n),(function(t){return{value:t}})),n.onSubmit=n.onSubmit.bind(at(n)),n.onErrorToggle=n.onErrorToggle.bind(at(n)),n.onValidateAll=n.onErrorToggle.bind(at(n),!0),n}ot(e,t);var i=e.prototype;return i.onSubmit=function(){var t=this.state.fields,e=t.filter((function(t){return"rating"===t.type}))[0],n=t.filter((function(t){return"comment"===t.type}))[0],i=e?e.value:0,o=n?n.value:"";this.props.onSubmitRating({score:i,comment:o})},i.onErrorToggle=function(t){var e=this.state.fields.map((function(e){return Object.assign({},e,{isErrorShowed:t})}));this.setState({fields:e})},i.render=function(){var t=this.props;return 0===t.fields.length?null:n(bT,rt({},t,{onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onSubmit:this.onSubmit,onValidateAll:this.onValidateAll,fields:this.state.fields}))},e}(l),yT=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this;this.props.onPostChatMounted(),this.anchor.scrollIntoView(!0),setTimeout((function(){return t.props.updatePostChatVisible(!0)}),500),this.props.enableGa&&nM()},i.render=function(){var t=this,e=this.props;return 0===e.fields.length?null:n(g,null,n("div",{style:{position:"relative",top:"-15px",width:"100%"},ref:function(e){t.anchor=e}}),n(bT,rt({},e,{tab:Ul})))},e}(l),CT=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){if(this.props.isMessageScrollBottom){var t=this.props.scrollDown;t(),ct(this.container,t)}},i.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Gt(this.container,this.props.scrollDown)},i.render=function(){var t=this,e=this.props;if(this.state.timeout)return null;var i=e.isMobile?"#fff":Jt(e.mainColor),o=ut(this.context);return n("div",{className:"window__chatAgent clearfix",ref:function(e){t.container=e}},e.ifShowAvatar&&e.sender.avatar&&n("div",{className:"agentMessage__avatar"},n(dO,{src:e.sender.avatar,alt:o.avatar,className:"agentMessage__avatarImg"})),n("div",{className:"window__chatAgentMessage_container"},n("div",{className:"chat-message-extra-info"},e.sender.name&&n("span",{className:"chat-operator-name window__chatAgentName"},e.sender.name),e.time&&n("span",{className:"chat-message-time"},Qt(e.time))),n("div",{className:u("chat-operator-message","window__chatAgentMessage",(!e.ifShowAvatar||!e.sender.avatar)&&"window__chatMessageNoAvatar"),style:{background:i}},n("div",{className:"dot","aria-label":o.typing},n("svg",{className:"dot__element dot__element--loadingAnimation animated-delayFrames7"},n("circle",{r:"2"})),n("svg",{className:"dot__element dot__element--loadingAnimation animated-delayFrames10"},n("circle",{r:"2"})),n("svg",{className:"dot__element dot__element--loadingAnimation animated-delayFrames13"},n("circle",{r:"2"}))))))},e}(l),kT=["messages"],ST=xt((function(){return import("./BotEntry.3af60f59.js")})),IT=xt((function(){return import("./SecureForm.8f731550.js")})),MT="{queuePosition}",OT="{estimatedWaitTime}",AT=0,BT=0,TT=function(t,e){if(t.type===fe){for(var n=[],i=t.originalMessage.split(/{linkText}/gi),o=0;o<i.length;o+=1)n.push(i[o]),o<i.length-1&&n.push(e);return n.join(" ")}if(t.type===Un)return t.content.text;if(t.type===In){var a=t.originalMessage.split(Si);return a.length>1?a[0]+"\n["+a[1]+"]":t.originalMessage}return t.type===Wn||t.type===Pn||t.type===Dn||t.type===Vn||t.type===En||t.type===zn||t.type===qn||t.type===Hn||t.type===Rn||t.type===Ln?JSON.stringify(t.content):t.originalMessage},jT=((_T={})[ve]=function(t,e){var i=e.windowStyle,o=e.scrollDown,a=e.chatStatus,r=e.isMessageScrollBottom;if(t.content){var s=t.content;if(s.indexOf(MT)>=0&&void 0===t.queuePosition)return null;if(s.indexOf(OT)>=0&&(void 0===t.estimatedWaitTime||0===t.estimatedWaitTime))return null;for(;s.indexOf(MT)>=0;)a===ou||a===au?s=s.replace(MT,AT):(s=s.replace(MT,t.queuePosition),AT=t.queuePosition);for(;s.indexOf(OT)>=0;)a===ou||a===au?s=s.replace(OT,BT):(s=s.replace(OT,t.estimatedWaitTime),BT=t.estimatedWaitTime);return n(sT,{key:t.guid,messageGuid:t.guid,type:t.type,message:s,windowStyle:i,scrollDown:o,isMessageScrollBottom:r})}return null},_T[fe]=function(t,e){var i=e.gotoOfflineLinkText,o=e.onOfflineLinkClick,a=e.windowStyle,r=e.scrollDown,s=e.chatStatus,c=e.isMessageScrollBottom;if(s===nu){var d=[];if(t.content){for(var l=t.content.split(/{linkText}/gi),u=0;u<l.length;u+=1){var p=l[u];d.push(p),u<l.length-1&&d.push(n("a",{href:"",onClick:o},i))}return n(sT,{key:t.guid,messageGuid:t.guid,liveMessage:t.content.replace(/{linkText}/gi,i),type:t.type,message:d,windowStyle:a,scrollDown:r,tabIndex:-1,isMessageScrollBottom:c})}}return null},_T[Zn]=function(t,e){var i=e.onStartChatAgainClick,o=e.windowStyle,a=e.scrollDown,r=e.isMessageScrollBottom,s=e.isPrint;if(t.content){var c=s?n("span",null,t.content):n(g,null,n(bt,{type:Xt,ariaHidden:!0}),n("a",{href:"",onClick:i},t.content));return n(sT,{key:t.guid,type:Zn,message:c,messageGuid:t.guid,liveMessage:t.content+" link",windowStyle:o,scrollDown:a,isMessageScrollBottom:r})}return null},_T[Xn]=function(t,i){var o=i.windowStyle,a=i.scrollDown,r=i.chatWindowIfCanDownloadChatDetail,s=i.agents,c=i.prechatDepartment,d=i.startTime,l=i.endTime,u=i.campaignId,p=i.originalMessages,h=i.gotoOfflineLinkText,f=i.isMessageScrollBottom,w=i.isPrint;if(t.content&&r){var m=t.content,b=m.text,v=m.url,_=w?n("span",null,b):n(g,null,n(bt,{type:$t,ariaHidden:!0}),n("a",{onClick:function(t){var n=function(t){return t.filter((function(t){return t.guid&&!(Qa.indexOf(t.type)>=0)}))}(p).map((function(t){return{type:t.type,message:TT(t,h),senderType:t.sender.type,senderName:t.senderName,time:Math.round(t.originalTime/1e3),translated:t.translated}}));ee(v,e.Base64.encode(JSON.stringify({agents:s,department:c,startTime:d,endTime:l,campaignId:u,timezone:$o(),messages:n}))),t.preventDefault(),t.stopPropagation()},target:"_blank",rel:"noopener noreferrer",href:""},b));return n(sT,{key:t.guid,type:Xn,message:_,liveMessage:b+" link",messageGuid:t.guid,windowStyle:o,scrollDown:a,isMessageScrollBottom:f})}return null},_T[Le]=function(t,e){var i=e.isPrint,o=e.windowStyle,a=e.scrollDown,r=e.isMessageScrollBottom,s=[];return s.push(n(sT,{key:t.guid,type:t.type,message:t.content.text,messageGuid:t.guid,windowStyle:o,sender:t.sender,scrollDown:a,isMessageScrollBottom:r})),i||s.push(n(yt,null,n(Ct,null,n(IT,{isHidden:t.isHidden,url:t.content.url,targetUrl:W.href,getSecureFormFailure:e.getSecureFormFailure,submitSecureForm:e.submitSecureForm,cancelSecureForm:e.cancelSecureForm,windowStyle:o,scrollDown:a,isPopedOut:e.isPopout})))),s},_T[We]=function(t,e){var i=e.isPrint,o=e.windowStyle,a=e.ifShowName,r=e.ifShowAvatar,s=e.isMobile,c=e.scrollDown,d=e.mainColor,l=e.agentTypingText,u=e.isMessageScrollBottom;return i?null:n(CT,{key:t.guid,message:l,time:t.time,windowStyle:o,sender:t.sender,ifShowName:a,ifShowAvatar:r,isMobile:s,scrollDown:c,mainColor:d,isMessageScrollBottom:u})},_T[he]=function(t,e){if(t.content){var i=e.windowStyle,o=e.scrollDown,a=e.isMessageScrollBottom,r=t.time,s=r.getHours(),c=r.getMinutes(),d=r.getSeconds(),l=t.content.concat(" ("+te(s)+":"+te(c)+":"+te(d)+")");return n(sT,{key:t.guid,type:t.type,message:l,messageGuid:t.guid,windowStyle:i,sender:t.sender,scrollDown:o,isMessageScrollBottom:a})}return null},_T[$n]=function(t,e){var i=e.onEmailTranscriptClick,o=e.ifCanEmailTranscript,a=e.windowStyle,r=e.scrollDown,s=e.isMessageScrollBottom,c=e.isPrint;if(t.content&&o){var d=c?n("span",null,t.content):n(g,null,n(bt,{type:zt,ariaHidden:!0}),n("a",{href:"",onClick:i},t.content));return n(sT,{key:t.guid,type:$n,message:d,messageGuid:t.guid,liveMessage:t.content+" link",windowStyle:a,scrollDown:r,isMessageScrollBottom:s})}return null},_T);var NT=function(t,e){if(function(t){return t.type===ti||t.type===ai||t.type===oi||t.type===ri||t.type===ii||t.type===li||t.type===ui||t.type===pi||t.type===hi||t.type===fi||t.type===gi||t.type===wi||t.type===an}(t))return null;if(Ta(t))return function(t,e){var i=e.windowStyle,o=e.scrollDown,a=e.isMessageScrollBottom;return t.content?"string"==typeof t.content&&t.content?n(sT,{key:t.guid,messageGuid:t.guid,type:t.type,message:t.content,windowStyle:i,sender:t.sender,scrollDown:o,isMessageScrollBottom:a}):"string"==typeof t.content.text&&t.content.text?n(sT,{key:t.guid,messageGuid:t.guid,type:t.type,message:t.content.text,windowStyle:i,sender:t.sender,scrollDown:o,isMessageScrollBottom:a}):null:null}(t,e);if(ja(t))return function(t,e){return n(hT,rt({key:t.guid,type:t.type,textType:t.textType,message:t.content,time:t.time,meta:t.meta,translated:t.translated,fileName:t.content.fileName,percent:t.content.percent,onCloseClick:t.content.onCancel,ifShowSeenDot:e.ifEnableVisitorSeeMsgSentSeen&&e.isChattingWithAgent,msgId:t.id,msgGuid:t.guid,tooltip:e.msgNotSeenByAgent,displayedText:t.displayedText},e))}(t,e);if(Na(t))return function(t,e){return n(mT,rt({key:t.guid,messageGuid:t.guid,type:t.type,message:t.content,sender:t.sender,time:t.time,translated:t.translated},e))}(t,e);if(function(t){return t.type===Tn}(t))return function(t,e){return e.isPrint?null:e.isChatting?n(xT,rt({fields:e.ratingForm.fields,greeting:e.ratingForm.greeting,buttonText:e.ratingForm.buttonText,submitStatus:e.ratingForm.submitStatus,onChange:function(t,e){return othersProps.onChange(t,e,!0)},onBlur:function(t){return e.onBlur(t,!0)},onFocus:function(t){return e.onFocus(t,!0)}},e)):n(yT,rt({fields:e.ratingForm.fields,greeting:e.ratingForm.greeting,buttonText:e.ratingForm.buttonText,submitStatus:e.ratingForm.submitStatus,onChange:function(t,e){return othersProps.onChange(t,e,!1)},onBlur:function(t){return e.onBlur(t,!1)},onFocus:function(t){return e.onFocus(t,!1)}},e))}(0,e);if(function(t){return Pa(t)||Wa(t)||Fa(t)}(t))return n(yt,null,n(Ct,null,n(ST,{message:t,otherProps:e})));var i=jT[t.type];return i?i(t,e):null},PT=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={botLoaded:!1},n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this.element;if(t&&this.props.isBubble){var e=t.getBoundingClientRect().width;t.style.width=e+"px"}},i.render=function(){var t=this,e=this.props,i=e.messages,o=B(e,kT),a=i.reduce((function(t,e){return function(t,e){if(!ja(e))return t.concat(e);if(t.length>0){var n=t[t.length-1];if(ja(n))return n.meta.isLast=!1,t.concat(Object.assign({},e,{meta:{isLast:!0}}))}return t.concat(Object.assign({},e,{meta:{isFirst:!0}}))}(t,e)}),[]).map((function(t){return NT(t,o)})).filter((function(t){return null!==t})).reduce((function(t,e){return t.concat(e)}),[]);return n("div",{ref:function(e){t.element=e},id:"chatMessages"},a)},e}(l),DT=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.shouldComponentUpdate=function(t){return t.isBubble!==this.props.isBubble||t.greeting!==this.props.greeting},i.render=function(){var t=this.props,e=t.isBubble,i=t.greeting;return n("div",{className:"chat__greetingContainer"},n("div",{className:e?"chat-system-message window__chatSystemMessage":"greeting-message window__formGreeting"},n("div",{className:u(e&&"window__chatSystemMessageContent"),dangerouslySetInnerHTML:{__html:i}})))},e}(l),WT=["greeting","height","hasMobileSideWindow","bottom","ifShowBio","ifHideBio"];function FT(t,e){if(function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}var VT,ET,zT=function(t){function e(e){var n;return(n=t.call(this,e)||this).onScroll=n.onScroll.bind(at(n)),n.scrollDown=n.scrollDown.bind(at(n)),n.canUpdateHideBio=!0,n.beforeunload=n.beforeunload.bind(at(n)),n.onTouch=n.onTouch.bind(at(n)),n.io=null,n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this;this.props.onMounted(),setTimeout((function(){t.element&&(t.hasAnimation=!0,FT(t.element,"window__chat--animation"))}),625),N.addEventListener("beforeunload",this.beforeunload),Ay("livechat.chatwindow.restore",(function(){t.scrollDown()})),this.props.isPrint||(this.io=new window.IntersectionObserver((function(e){e[0].intersectionRatio<=0?t.props.updateIsMessageScrollBottom(!1):(t.props.updateIsMessageScrollBottom(!0),t.props.onReadNewMsg())})),this.io.observe(this.refBottomElement))},i.shouldComponentUpdate=function(t){return this.props.messages!==t.messages||t.ifHideBio!==this.props.ifHideBio||t.height!==this.props.height||t.hasMobileSideWindow!==this.props.hasMobileSideWindow||t.isInputVisible!==this.props.isInputVisible||t.showToolbox!==this.props.showToolbox||t.maxAgentReadId!==this.props.maxAgentReadId||t.isSSOLoggedIn!==this.props.isSSOLoggedIn||t.isChatting!==this.props.isChatting||t.isMessageScrollBottom!==this.props.isMessageScrollBottom||JSON.stringify(t.ratingForm.fields)!==JSON.stringify(this.props.ratingForm.fields)||t.ratingForm.submitStatus!==this.props.ratingForm.submitStatus||t.width!==this.props.width},i.componentDidUpdate=function(t){var e=this,n=t.ifHideBio;this.props.ifHideBio!==n&&(this.canUpdateHideBio=!1,setTimeout((function(){e.canUpdateHideBio=!0}),625)),this.hasAnimation&&FT(this.element,"window__chat--animation")},i.componentWillUnmount=function(){N.removeEventListener("beforeunload",this.beforeunload),this.props.isPrint||this.io.disconnect()},i.componentWillReceiveProps=function(t){var e=this;t.isInputVisible!==this.props.isInputVisible&&t.isInputVisible&&setTimeout((function(){e.scrollDown()}),625)},i.onTouch=function(){var t=this.element.ownerDocument.getElementById("chat-input-control");t&&t.blur()},i.onScroll=function(t){if(!et){var e=t.currentTarget.scrollTop;this.canUpdateHideBio&&e>0&&!this.props.ifHideBio&&this.props.onUpdateScrollStatus(!0),this.canUpdateHideBio&&0===e&&this.props.ifHideBio&&this.props.onUpdateScrollStatus(!1)}},i.beforeunload=function(){pm(this.props.chatGuid)},i.scrollDown=function(t,e){if(void 0===e&&(e=0),this.element&&(this.props.isMessageScrollBottom||t)){if(!this.props.isChatting&&!this.props.isPostChatVisible){var n=this.props.messages.length>1?this.props.messages[this.props.messages.length-1]:null;if(n&&n.type===Tn)return}e>0?this.element.scrollTop+=e:this.element.scrollTop=this.element.scrollHeight}},i.render=function(){var t=this,e=this.props,i=e.greeting,o=e.height,a=e.hasMobileSideWindow,r=e.bottom,s=e.ifShowBio;e.ifHideBio;var c,d,l=B(e,WT),p=l.isInputVisible,h=!1;if(l.windowStyle===Fg){h=!0;var f=0;if(this.element){var g,w=this.element.nextElementSibling;(g=this.props.ifShowQuickReply?w.nextSibling:w)&&"chat-input"===g.id&&(f=g.getBoundingClientRect().height)}if(l.isMobile){if(c=o-20,l.isIpad&&(c-=r),p&&(c-=Math.max(f,70)),a){c-=45}}else{c=o-35,p&&(c-=Math.max(f,47))}this.props.showAdaptiveMinimizeIcon&&(c-=105)}l.isPrint&&(c="");var m=n("div",null,(d="<div>&nbsp;</div>"!==i&&!!i)&&n(DT,{isBubble:h,greeting:i}),n(PT,rt({},l,{scrollDown:this.scrollDown}))),b=n(PT,rt({},l,{scrollDown:this.scrollDown})),v=ut(this.context),_={maxHeight:c};return this.props.isPopout&&!h&&(_=Object.assign({},_,Ut(this.props.width,!0))),n("div",{id:"window-chat-wrapper",ref:function(e){t.element=e},className:u("chat window__chat window__chat--animation",s?"window__chat--withBio":"window__chat--noBio",this.props.ifShowQuickReply&&"window__chat--withQuickReply"),onScroll:this.onScroll,onTouchEnd:this.onTouch,style:_},n("h1",{className:"visually-hidden"},"Chat window"),n(IO,{id:"greeting"+this.props.chatGuid,message:i,isHtml:!0}),!(h&&l.isMobile)&&d&&n(DT,{isBubble:h,greeting:i}),h&&l.isMobile?m:b,n("div",{ref:function(e){t.refBottomElement=e},style:{height:1,padding:0}}),!this.props.isMessageScrollBottom&&!l.isPrint&&n("button",{onClick:this.scrollDown,"aria-label":v.scrollToBottom,className:u("btnScrollToBottom",{btnScrollToBottomWithBadge:this.props.unReadMessageCount>0}),title:v.scrollToBottom},this.props.unReadMessageCount>0&&n("span",null,this.props.unReadMessageCount," "),n("svg",{viewBox:"0 0 24 24","aria-hidden":!0,focusable:!1},n("path",{d:"M12,17.013,23.609,5.405A1.333,1.333,0,0,0,21.724,3.52L12,13.243,2.28,3.52A1.333,1.333,0,0,0,.4,5.405Zm10.652,1.4H1.332a1.334,1.334,0,0,0,0,2.667H22.654a1.334,1.334,0,0,0,0-2.667Z"}))))},e}(l),RT=function(t,e){return{type:t,guid:L(),time:new Date,content:e,sender:{type:Zl}}},LT=p((function(t){var e=$p(t),n=ih(t).length;e.filter((function(t){return t.type===Fn||t.type===mi||t.type===bi})).length>0&&(n+=1);var i=tp(t),o=_g(t),a=pg(t),r=Rp(t),s=function(t){return t.entities.campaigns.entities[t.window.id].greetingMessages.chatWindowGreetingMessage}(t);!s||"<div>&nbsp;</div>"!==s&&"<div></div>"!==s&&"<div/>"!==s||(s="");var c=function(t){var e=og(t).url;return F(e)}(t),d=ib(t),l=function(t,e){return D(t,"entities.campaigns.entities."+e+".chatWindowIfCanDownloadChatDetail")}(t,d),u=Mg(t,d),p=ib(t),h=jp(t)===ou,f=Km(t),g=h?f.filter((function(t){return"rating"===t.type||"comment"===t.type})):f,w=Jm(t,h?lu:su);return{siteId:$f(t),transferSiteId:tg(t),KbHost:c,height:o,isPopout:i,isMobile:a,isIpad:hg(t),ifShowBio:nf(t),hasMobileSideWindow:Vh(t)&&a,windowStyle:pb(t,r),greeting:s||"",messages:e,ifShowName:n>1,gotoOfflineLinkText:Lb(t,"eventLinkText")||"here",startChatAgainText:Lb(t,"startChatAgain",p),emailTranscriptText:Lb(t,"buttonTranscript",p),translatedTag:Lb(t,"translation"),originalTag:Lb(t,"original"),agentTypingText:Lb(t,"eventOperatorIsTyping",p),chatStatus:jp(t),ifShowAvatar:fb(t)===Fg||Ob(t),chatGuid:ah(t),ifHideBio:Ph(t),isInputVisible:mh(t),mainColor:Up(t),bottom:gf(t),showAdaptiveMinimizeIcon:tv(t),showToolbox:Sf(t),onMounted:function(){Oy("livechat.chat.display",r)},maxAgentReadId:bf(t),ifEnableVisitorSeeMsgSentSeen:mf(t,p),msgNotSeenByAgent:Lb(t,"msgNotSeenByAgent",p),isChattingWithAgent:jp(t)===ou&&!Jp(t)&&!Rm(t)||jp(t)===iu||jp(t)===nu||jp(t)===au&&0!==ih(t).length,languages:zb(t),ifShowQuickReply:!!_f(t),agents:ov(t),prechatDepartment:iv(t),startTime:Af(t),endTime:Bf(t),campaignId:Qf(t),transferCampaignId:ib(t),originalMessages:th(t),chatWindowIfCanDownloadChatDetail:l,ifCanEmailTranscript:u,isSSOLoggedIn:null!==mw(_m)&&mw(_m),isChatting:h,isPopoutWindow:tp(t),isFreemiumSignupFormInsideChatWindowEnabled:db(t),isChatEnded:av(t)===Zd,prechatEmail:Wh(t,"email"),customizeFileService:Ub(t),standbyFileService:Gb(t),apiHost:Kb(t),isMessageScrollBottom:Vf(t),unReadMessageCount:Ef(t),ratingForm:{fields:g,greeting:yb(t,su),buttonText:kb(t,su),submitStatus:w,ratingValue:Wh(t,"rating"),commentValue:Wh(t,"comment")},isHorizontal:Cb(t,su),width:zf(t),isPostChatVisible:Rf(t),onPostChatMounted:function(){Oy("livechat.postChat.display",r)},enableGa:ub(t)}}),(function(t){return{submitSecureForm:function(e,n){var i=RT(si,""+e+Si+n);t(Ix([i]))},cancelSecureForm:function(e){t(s_(e));var n=RT(ci,"");t(Ix([n]))},getSecureFormFailure:function(){var e=RT(di,"");t(Ix([e]))},onOfflineLinkClick:function(e){e.preventDefault(),t(t_(Gl))},onChatWithAgentClick:function(){t(h_())},onRateClick:function(e,n,i,o,a,r){t(function(t,e,n,i,o,a){return{type:yc,payload:{ifHelpful:t,actionGuid:e,intentId:n,question:i,botId:o,chatbotMessageId:a}}}(n,e,i,o,a,r))},onStartChatAgainClick:function(e){e.preventDefault(),t({type:Cc})},onEmailTranscriptClick:function(e){e.preventDefault(),t({type:Bs,payload:!0})},onUpdateScrollStatus:function(e){t(__(e))},onChatbotTimeout:function(e){t({type:dd,payload:e})},onKbLinkClick:function(e,n){t(function(t,e){return{type:pd,payload:{articleId:t,link:e}}}(e,n))},onSideWindowLinkClick:function(e){var n=e.url,i=e.type,o=e.title,a=e.iframe,r=e.noFocus,s=e.botId;t(function(t,e,n,i,o,a){return{type:vd,payload:{url:t,type:e,title:n,iframe:i,noFocus:o,botId:a}}}(n,i,o,a,r,s))},onCloseBotSignWindow:function(){t(G_())},onWebViewLinkClick:function(e){t(L_(e))},onIntentLinkClick:function(e,n,i,o,a,r){t(ax(r)),t({type:xc,payload:{id:e,name:n,clickType:i,agentId:o,botId:a}})},onPushPage:function(e){t(function(t){return{type:Cd,payload:t}}(e))},onSSORequestClick:function(e){e.isPopoutWindow?t(ox()):e.content.ifOpenSignInPageEmbeddedWindow?t(L_(e)):t(ix())},onTaskBotQuickReplyClick:function(e,n){Oy("livechat.chat.visitor.input",e),t(a_(e)),t(sk(n))},onTaskBotCollectInput:function(e,n){Oy("livechat.chat.visitor.input",e),setTimeout((function(){t(a_(e)),t(sk(n))}),1350)},onChatbotActionSendText:function(e){var n=e.text,i=e.messageGuid,o=e.delay,a=void 0===o?0:o,r=e.textType,s=e.isCollect,c=void 0!==s&&s,d=e.displayedText,l=e.quickReplyNextActionId;Oy("livechat.chat.visitor.input",n),setTimeout((function(){t(a_(n,!1,{textType:r,isCollect:c,displayedText:d,quickReplyNextActionId:l})),i&&t(ax(i))}),a)},onChatbotActionChatWithAgentoptions:function(e){e.text;var n=e.messageGuid;t(h_()),t(ax(n)),Oy("livechat.chat.visitor.chatwithagent")},hideQuickReply:function(){t(nx())},onInputAreaVisibleChange:function(e){t(function(t){return{type:Pd,payload:t}}(e))},onReadNewMsg:function(){t(Wx()),t({type:Wd})},updateIsMessageScrollBottom:function(e){t(px(e))},onBotFeedback:function(e){t(function(t){return{type:Jy,payload:Object.assign({},t,{type:"botFeedback"})}}(e))},onChange:function(e,n,i){t(zx(su,e.id,n)),i||Oy("livechat.postChat.field.change",Object.assign({},e,{value:n}))},onError:function(e,n){t(Rx(su,e.id,n))},onBlur:function(e,n){t(Hx(su,e.id)),n||Oy("livechat.postChat.field.blur",Object.assign({},e,{isFocused:!1}))},onFocus:function(e,n){t(Lx(su,e.id)),n||Oy("livechat.postChat.field.focus",Object.assign({},e,{isFocused:!0}))},onSubmit:function(e){t(qx(su)),t(ty(su,1500,e)).then((function(){return t(hx())}))},onSubmitRating:function(e){t(qx(lu)),Oy("livechat.chat.visitor.rate",e),t(bx(e)),t({type:Lr,payload:e})},onValidateAll:function(e){t(Jx(uu,e))},updatePostChatVisible:function(e){t(fx(e))}}}))(zT),HT=function(t){function e(){var e;return(e=t.call(this)||this).state={showIcon:!1,animated:!1},e.animated=function(){e.setState({animated:!0})},e}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this;this.timer=setTimeout((function(){return t.setState({showIcon:!0})}),200),ct(this.element,this.animated)},i.componentWillUnmount=function(){clearTimeout(this.timer),Gt(this.element,this.animated)},i.render=function(){var t=this,e=this.props,i=ut(this.context);return n("div",{className:u("window__form",this.state.animated&&"window__form--animation"),ref:function(e){t.element=e}},e.errorMessage&&n("div",{className:"window__formError"},e.errorMessage),this.state.showIcon&&!e.errorMessage&&n(bt,{type:Et,className:"svg--loadingChat",viewBox:"0 0 100 100","aria-label":i.loading,"aria-busy":"true"}))},e}(l),qT=p((function(t){return{errorMessage:dh(t),windowStyle:pb(t,Qf(t))}}))(HT),UT=xt((function(){return import("./SideWindow.3ed5b775.js")})),GT=function(t){return n(yt,{key:"sideWindow",style:{background:"#f2f2f2",display:"flex",alignItems:"center",position:"absolute",boxShadow:"0 5px 15px 0 rgba(0,0,0,.15)",width:"calc(100% - 15px)",bottom:12.5,height:"calc(100% - 15px)",borderRadius:5,right:0}},n(Ct,null,n(UT,t)))},KT=xt((function(){return import("./KBsearch.7adb760c.js")}));xt((function(){return import("./SideWindow.3ed5b775.js")}));var YT,JT=xt((function(){return import("./ChatInput.9fd15250.js")})),QT=xt((function(){return import("./WebView.02d82b86.js")})),ZT=xt((function(){return import("./PreLogin.e27e9e6c.js")})),XT=xt((function(){return import("./SSOLogin.1590b0d3.js")})),$T=((VT={})[Hl]=oT,VT[Ul]=aT,VT[Gl]=rT,VT[ql]=LT,VT[Rl]=ZT,VT[Ll]=XT,VT[zl]=qT,VT[Kl]=KT,VT),tj=((ET={})[Hl]={timespan:0,duration:20},ET[Ul]={timespan:0,duration:20},ET[Gl]={timespan:0,duration:20},ET[ql]={timespan:0,duration:2},ET[Rl]=null,ET[Ll]=null,ET[zl]=null,ET[Kl]={timespan:0,duration:20},ET),ej=function(){},nj=p((function(t){var e,i=Ep(t),o=$T[i],a=Df(t);i!==Ll||a||(o=ZT);var r=eg(t),s=r===Ld,c=hg(t),d=i===Rl||i===Ll||i===Kl?n(yt,null,n(Ct,null,n(o))):n(o);e=i===Ll?a?[d]:[n(NB,null),d]:[n(NB,null),d,mh(t)&&n(yt,null,n(Ct,null,n(JT,{isIPad:c}))),n(VB,null),bh(t)&&n(yt,null,n(Ct,null,n(QT,null)))].filter((function(t){return t}));var l=jp(t),u=l===ou,p=fb(t),h=gb(t),f=lh(t),g=dh(t),w=ph(t),m=Sb(t,w),b=Ib(t),v=tj[i];l!==au||i!==ql&&i!==Ul||(v={timespan:0,duration:10});var _=l===au,x=l===au?180:void 0,y=Uh(t),C=0,k=Vh(t),S=k?GT:null;p===Fg&&(C=Math.random());var I=xg(t),M=_g(t),O=Qf(t),A=$g(t,O),B=qg(t,O),T=tf(t),j=function(t){return t.page.orientation}(t),N=vO(p,t,Yu(t,O)),P=Xf(t)[O],D=tv(t),W=wf(t),F=gf(t),V=$p(t),E=V.length>0?V[V.length-1].guid:"",z=function(t){return t.configuration.visitorsideCustomCSS}(t),L=ib(t),H=Vf(t);return{isPoppedOut:tp(t),fontCSS:ba(R(cp,t)),mainColor:Up(t),background:Gp(t),isFocused:Zh(t),children:e,windowTab:i,windowStatus:r,windowStyle:p,warning:f,error:g,isMobile:pg(t),isIPad:c,showChatWindowInSidewindow:Lh(t),title:u?m:void 0,seed:C,hOnline:v,writeReply:b,ifShowSideWindow:k,sideWindow:S,customCss:y,amyCustomCSS:z,width:I,height:M,isRightToLeft:T,iframeStyle:A,orientation:j,showAvatar:!!(N.avatars||N.avatar||N.agent&&N.agent.avatar),isMinimized:s,iconStyle:B.svg,ifCobrowsingShowing:hf(t),languageCobrowseStop:Qb(t),cornerStyle:h,languageTag:Rb(t),online:P,showAdaptiveMinimizeIcon:D,isCurrentAdaptiveButton:$b(t),right:W,bottom:F,ifEnableVisitorSeeMsgSentSeen:mf(t,L),maxVisitorReadId:vf(t),maxMsgId:ch(t),maxGuid:E,messages:V,chatStatus:l,showToolbox:Sf(t),hDelay:_,hStop:x,brandConfig:kp(t),isSideWindowSelectedTabKb:Hh(t)===bu,isMessageScrollBottom:H}}),(function(t){return{dispatch:t,onMounted:function(){t({type:cd})},onErrorClose:function(){t(p_())},onWarningClose:function(){t(c_())},onFocusToggle:function(e){t(function(t){return{type:Ys,payload:t}}(e))},onPositionChange:function(e,n){t(function(t,e){return{type:jr,payload:{right:t,bottom:e}}}(e,n))},onReadNewMsg:function(e){t(Wx(e))},hOnInit:function(){t(dv(!0))},hOnStopped:function(){t(dv(!1))},minimize:function(){t(Av())},updateMainWindowWidth:function(e){t(function(t){return{type:Ws,payload:t}}(e))}}}),(function(t,e){var n=t.windowTab,i=e.dispatch,o=ej;return n===ql?o=function(){return i(mx())}:n===Hl||n===Kl?o=function(){return i({type:ec})}:n===Ul?o=function(){return i(mx())}:n===Gl&&(o=function(){return i({type:nc})}),Object.assign({},t,e,{hCallback:o})}))(tO),ij=function(t){function e(){return t.apply(this,arguments)||this}ot(e,t);var i=e.prototype;return i.shouldComponentUpdate=function(t){return this.props.message!==t.message},i.render=function(){return n("div",{"aria-live":"polite",style:{position:"absolute",left:-1e4,top:-1e4,width:1,height:1}},this.props.message)},e}(l),oj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={message:"",htmlMessage:""},n.pendingMessage=[],n.announcedMessageIds={},n.announce=n.announce.bind(at(n)),n.removeMessage=n.removeMessage.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer),this.htmlTimer&&clearTimeout(this.htmlTimer)},i.shouldComponentUpdate=function(t,e){return this.props.children!==t.children||this.state.message!==e.message},i.announce=function(t,e,n){var i,o,a=this;this.announcedMessageIds[t]||(this.announcedMessageIds[t]=!0,this.pendingMessage.push(n?(i=e,(o=document.createElement("div")).innerHTML=i,o.textContent||o.innerHTML):e),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){var t=a.pendingMessage.join("\n");a.pendingMessage=[],a.setState({message:t})}),100))},i.removeMessage=function(t,e){this.announcedMessageIds[t]&&(this.announcedMessageIds[t]=void 0,e&&this.state.message===e&&this.setState({message:""}))},i.render=function(){return n(SO.Provider,{value:{announce:this.announce,removeMessage:this.removeMessage}},n(ij,{message:this.state.message}),this.props.children)},e}(l),aj="chatButton",rj="chatButton--ripple",sj=t(1)(Ot),cj=t(1)((function(t,e,n){var i="";return e&&(i=".chatButton--avatar:after{background-image:url("+e+");background-color:#f4f5f6;background-size:60px 60px;}"),[[ma(_M,t),".online .chatButton:after{","background:"+sj(t),"}",".online ."+rj+"."+aj+":before{","animation:at-ripple 16.417s linear 3.625s infinite","}",".offline .chatButton:after{","background:"+sj("#bbb"),"}",".innerIcon {","fill:"+sj(t),"}"].join(""),i,n]})),dj=t(1)(ne),lj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifReceiveNewMessage:!0,customizeIcon:""},n.removeAnimationClass=n.removeAnimationClass.bind(at(n)),n.getCustomSvgIcon=n.getCustomSvgIcon.bind(at(n)),n.shouldComponentUpdate=lM(at(n),["iconStyle","count","href","status","avatar","online","mainColor","showArrowDown","customCSS","ifUseCustomizeIcon","customizeIcon"],["ifReceiveNewMessage","customizeIcon"]),n.handleReFocus=n.handleReFocus.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.componentDidMount=function(){var t=this;setTimeout((function(){t.button&&(t.button.style.zIndex=II)}),0),this.button.addEventListener("mouseenter",(function(){if(t.icon&&t.props.online&&(!t.props.ifUseCustomizeIcon||!t.props.customizeIcon)){t.icon.classList.add("moveIn"),t.icon.classList.remove("moveOut");var e=t.props.online?t.props.mainColor:"#bbb";t.dotContainer.innerHTML='<svg viewBox="0 0 32 32" width="32px" fill='+e+' aria-hidden="true">\n        <circle r="2" cy="15" cx="10" class="innerDot" />\n        <circle r="2" cy="15" cx="16" class="innerDot" />\n        <circle r="2" cy="15" cx="22" class="innerDot" />\n        </svg>'}})),this.button.addEventListener("mouseleave",(function(){!t.icon||!t.props.online||t.props.ifUseCustomizeIcon&&t.props.customizeIcon||(t.icon.classList.remove("moveIn"),t.icon.classList.add("moveOut"),t.dotContainer.innerHTML="")}))},i.componentWillReceiveProps=function(t){t.status===Hd&&this.button&&(this.button.style.zIndex=II+1),t.count!==this.props.count&&this.setState({ifReceiveNewMessage:!0})},i.getCustomSvgIcon=function(t){var e=this;if(""!==t)if(t.indexOf("<svg")>=0)this.setState({customizeIcon:t});else{var n=t.indexOf("http")>=0?t:""+this.props.chatserverUrl+t;Mk(n).then((function(t){e.setState({customizeIcon:t.output})}))}},i.removeAnimationClass=function(){this.setState({ifReceiveNewMessage:!1})},i.handleReFocus=function(t){var e=this.props.status;if([zd,Rd].includes(e)&&9===t.keyCode){var n=top.frames.chat_window_container.contentWindow,i=top.frames.side_window_container&&top.frames.side_window_container.contentWindow,o=i&&i.document.querySelector(".sideWindow");if(o)return void o.focus();if(n){var a=n.document.querySelector(".whole-window");a&&a.focus()}}},i.render=function(){var t=this,e=this.props,i=e.onClick,o=e.href,a=e.count,r=e.status,s=e.avatar,c=e.online,d=e.ifRipple,l=e.isMobile;e.iconStyle;var p=e.mainColor,h=e.showArrowDown,f=e.customCSS,g=e.onTouchStart,w=e.onMouseEnter,m=e.ifUseCustomizeIcon,b=cj(p,s,f),v=ut(this.context),_=dj(c?p:"#bbb"),x=_.startColor,y=_.stopColor,C=this.props.customizeIcon;return n("div",{className:u("chatButtonContainer",l&&"chatButtonContainer--mobile",r===Ld&&s&&"chatButton--avatar",c?"online":"offline"),ref:function(e){t.button=e}},n(CM,{css:b,id:"adaptive"}),n("a",{className:u(d&&rj,aj),href:o||"",onClick:i,onTouchStart:g,onMouseEnter:w,"aria-label":this.props["aria-label"],role:"button","aria-expanded":h?"true":"false",onKeyDown:this.handleReFocus},h?n("svg",{x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32",focusable:"false",className:"chatButton__svg-chat","aria-hidden":"true"},n("path",{className:"chatButton__svg-chat-path",stroke:"#fff",d:"M25.8,14.9c-0.5-0.4-1.3-0.3-1.7,0.2l-6,6l-6.2-6.1c-0.6-0.5-1.3-0.6-1.7-0.2c-0.3,0.5-0.3,1.2,0.2,1.7l6.6,6.5c0.2,0.2,0.4,0.3,0.6,0.4h0.1c0.1,0,0.1,0,0.2,0c0.4,0,0.8-0.1,1.1-0.4l6.6-6.6C26,16,26.2,15.4,25.8,14.9z"})):m&&C?n("div",{className:"chatButton__svg-container",dangerouslySetInnerHTML:{__html:C}}):n("div",{className:"svg-container",ref:function(e){t.icon=e}},n("svg",{x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32",focusable:"false",className:"outIcon","aria-hidden":"true"},n("g",null,n("defs",null,n("linearGradient",{id:"linear"},n("stop",{offset:"0%","stop-color":x}),n("stop",{offset:"100%","stop-color":y}))),n("path",{fill:"#fff",className:"chatButton__svg-chat-path",d:"M16.007 0c-8.299 0-14.023 6.836-14.023 14.024 0 5.88 2.982 8.636 4.107 9.916 0 0 4.093 4.585 12.068 8.060v-4.121c4.783-0.563 11.858-5.289 11.858-13.855-0.001-8.271-6.794-14.024-14.010-14.024z"}),n("path",{fill:"url(#linear)",ref:function(e){t.path=e},className:"innerIcon",d:"M18.035 22.372v3.657c-0.014 0-2.729-1.364-4.276-2.574-2.926-2.236-6.498-4.416-6.498-9.438 0-4.993 4.149-8.622 8.622-8.622 0.005 0 0.011-0 0.017-0 4.744 0 8.591 3.838 8.605 8.579v0.043c0 5.162-4.164 7.779-6.47 8.355z"}))),n("div",{className:"innerDotContainer",ref:function(e){t.dotContainer=e}})),!!a&&a>0&&n("div",{ref:function(e){e&&(t.newMessageCount=e)},className:u("chatButton--newMessage",this.state.ifReceiveNewMessage&&"chatButton--newMessageAnimation"),onAnimationEnd:this.removeAnimationClass,"aria-label":v.unread},a)))},e}(l),uj=Object.freeze({__proto__:null,default:lj}),pj={width:110,height:110,position:"fixed",border:"none",zIndex:II},hj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={showNotify:!0},n.onClick=n.onClick.bind(at(n)),n.onAccept=n.onAccept.bind(at(n)),n.onRefuse=n.onRefuse.bind(at(n)),n}ot(e,t);var i=e.prototype;return i.componentWillReceiveProps=function(t){t.unread!==this.props.unread&&this.setState({showNotify:!0})},i.onAccept=function(t,e,n){this.props.onMaximize(this.props.windowTab),e&&this.props.onSend(e,n)},i.onRefuse=function(){this.setState({showNotify:!1}),this.props.isBubbleManualInvited&&this.props.onRefuse()},i.onClick=function(t){t.preventDefault(),(this.props.windowStatus===Ld?this.props.onMaximize:this.props.onMinimize)(this.props.windowTab)},i.render=function(){var t=this.props,e=t.windowStatus===Ld,i=this.state.showNotify&&t.NotifyBubble,o=this.props.isBubbleManualInvited?t.refuseText:t.closeText,a=this.props.isBubbleManualInvited?t.acceptText:t.openText,r=!1,s=ut(this.context),c=s.maximize;e&&(c=s.minimizeBar),e||(r=!0);var d=this.onAccept,l=this.onRefuse,u=t.windowStyle===Fg?350:t.chatWindowWidth,p=Math.min(t.right,i?t.windowWidth-270-25:t.windowWidth-u)||0,h=Math.min(t.windowHeight-87.5,t.chatWindowHeight),f=Math.min(t.bottom,i?t.windowHeight-177.5-87.5:t.windowHeight-h-87.5);t.windowStyle!==Fg||i||(f=0);var g=t.isRightToLeft,w=t.fontCSS;return n("div",null,i&&n(t.NotifyBubble,{onAccept:d,onRefuse:l,xText:o,acceptText:a,fontCSS:w,isRightToLeft:g}),n(IM,{style:Object.assign({},pj,{right:p,bottom:f}),title:s.minimizeBtn,id:"chat_button_adaptive_container",languageTag:t.languageTag},n(lj,{isMobile:t.isMobile,avatar:t.avatar,onClick:this.onClick,count:t.unread,status:t.windowStatus,online:t.online,iconStyle:t.iconStyle,showArrowDown:r,mainColor:t.buttonColor,"aria-label":c,customCSS:t.customCSS,ifUseCustomizeIcon:t.isCustomizedAdaptiveButtonUsed,customizeIcon:t.customizeIcon})))},e}(l),fj=xt((function(){return import("./Bar.40f2744f.js")})),gj=$M((function(t){return t.showAdaptiveMinimizeIcon?n(hj,t):n(yt,{fallback:n("div",null)},n(Ct,null,n(fj,t)))})),wj=xt((function(){return import("./NotifyBubble.271652ca.js")})),mj=function(t){return n(yt,{fallback:n("div",null)},n(Ct,null,n(wj,t)))};var bj,vj=((YT={})[ql]="livechat.chat",YT[Hl]="livechat.prechat",YT[Ul]="livechat.postChat",YT[Gl]="livechat.offlineMessage",YT),_j=p((function(t){var e=function(t){var e,n=fb(t);return Ab(t)&&n!==Fg&&(e=Ih(t)),e}(t),n=Rp(t),i=Ep(t),o=eg(t),a=function(t){if(eg(t)===Ld)return ph(t)}(t),r=function(t){var e=Qf(t);return Xf(t)[e]}(t),s=function(t){var e=Qf(t);return qg(t,e).svg}(t),c=Up(t),d=tv(t),l=qg(t,n),u=l.color,p=gb(t),h=nv(t),f=Sb(t,a),g=wf(t),w=gf(t),m=o===Ld,b=Wb(t),v=function(t){return(rg(t)||{}).invitationType===ol}(t),_=Uh(t),x=Rb(t),y=Qf(t),C=$g(t,y),k=C&&C.width,S=xg(t),I=C&&C.height,M=_g(t),O=fb(t);return{isMobile:pg(t),isIPad:hg(t),avatar:e,windowTab:i,windowStatus:o,unread:a,online:r,iconStyle:s,mainColor:c,buttonColor:u,showAdaptiveMinimizeIcon:d,cornerStyle:p,text:h,notification:f,right:g,bottom:w,isBubbleManualInvited:b&&v,customCSS:_,NotifyBubble:m?mj:null,languageTag:x,languages:zb(t),openText:E[x].minimizeBar,acceptText:E[x].acceptInv,refuseText:E[x].refuseInv,closeText:E[x].closeNewMsg,chatWindowWidth:k,windowWidth:S,windowStyle:O,isPoppedOut:tp(t),fontCSS:ba(R(cp,t)),isRightToLeft:tf(t),chatWindowHeight:I,windowHeight:M,isCustomizedAdaptiveButtonUsed:l.isCustomizedAdaptiveButtonUsed,customizeIcon:l.customizeIcon,shouldFocusBar:kg(t)}}),(function(t){return{onMinimize:function(e){var n=vj[e];n&&Oy(n+".minimize"),t(Av())},onMaximize:function(e){var n=vj[e];n&&Oy(n+".restore"),t(Tv())},onRefuse:function(){t({type:fs})},onSend:function(e,n){t(function(t,e){return K_({text:t,ifDirectlySendOut:e})}(e,n))},onBlurMinimize:function(){t(jv(!1))}}}))(gj),xj=xt((function(){return import("./Button.d7351a0b.js")})),yj=xt((function(){return import("./Invitation.b396aa89.js")})),Cj=p((function(t){var e,n=Xu(t);if(!n)return{isReady:n};var i=tv(t);return{isReady:n,enableGa:ub(t),tab:Ep(t),invitation:Wm(t),guid:ah(t),ban:ep(t),isCampaignReady:Vp(t),windowStatus:eg(t),isPoppedOut:tp(t),customJs:Fb(t),chatStatus:jp(t),showAdaptiveMinimizeIcon:i,languageMaxmized:null==(e=E[Rb(t)])?void 0:e.maximized}}))((function(t){var e=t.isReady,i=t.windowStatus,o=t.tab,a=t.enableGa,r=t.customJs,s=t.chatStatus,c=t.invitation,d=t.guid,l=t.ban,u=t.isCampaignReady,p=t.isPoppedOut,h=t.showAdaptiveMinimizeIcon,f=t.languageMaxmized;if(!e)return null;if(l)return null;var g=i!==Hd,w=i===Ld,m=w;return w||(m=h),n("div",null,r&&n(gM,{key:"js",textContent:r,name:"script",type:"text/javascript",nonce:"setupVisitorSideCustomJS"}),n(hM,{enableGa:a,windowTab:o,invitation:c,guid:d,chatStatus:s}),!p&&n(yt,{fallback:n("div",null)},n(Ct,{isShowError:!1},n(xj,null))),u&&g&&n(oj,{key:"chatwindow"},n(nj,null)),n(oj,{key:"invitation"},c&&c.type===ol&&n(IO,{id:"invitation",message:(c.agent?c.agent+": ":"")+c.message+"}",isHtml:!0,removeMessageWhenUnmount:!0}),c&&n(yt,{fallback:n("div",null)},n(Ct,{isShowError:!1},n(yj,null))),m&&n(_j,null),!w&&!m&&g&&n(IO,{id:"restoreChatWindow",message:f,removeMessageWhenUnmount:!0})))})),kj=function(t){var e=t.store;return n(vM,{getRender:Iy},n(w,{store:e},n(Cj,null)))},Sj="$brandingName-container".replace("$brandingName",N.brandingNameLowerCase),Ij=function(t){return t.app.isActive&&t.app.isReady&&!t.app.isBanned&&null!=jb(t)&&null!=Nb(t)&&null!=ng(t)&&Bp(t)};bj=[function(t){var e=j.getElementById(Sj),i=e||j.createElement("div");return e||(i.id=Sj,j.body.appendChild(i)),c(n(kj,{store:t}),i),function(){i.innerHTML=""}},function(t){if(tp(t.getState()))return null;var e=null,n=null,i=function(){if(null===e){var n=t.getState(),i=wb(n),o=R(ay,t);e=setInterval((function(){var t=Xo(i);o(t)}),1e3)}},o=function(){e&&clearInterval(e),n&&clearTimeout(n),e=null,n=null},a=t.getState(),r=t.subscribe((function(){var e=t.getState();if(ep(e)||ip(e))o();else if(!Xu(a)&&Xu(e)){if(ep(e))return;if(null==wb(e))return;i(),n=setTimeout(o,1e3*gp(e))}else Xu(e)&&hp(e)!==hp(a)&&(o(),i(),n=setTimeout(o,1e3*gp(e)));a=e}));return function(){r(),o()}},function(t){Sy={},My={},O.get=By(function(t){return{"livechat.siteId":uy(t),"livechat.campaignIds":or,"livechat.isDynamicCampaign":py(t),"livechat.isMobile":hy(t),"livechat.button.isVisible":fy(t),"livechat.button.status":gy(t),"livechat.prechat.isSkip":wy(t),"livechat.prechat.fields":by(ru,t),"livechat.postChat.fields":by(su,t),"livechat.offlineMessage.fields":by(cu,t),"livechat.sideWindow.isVisible":my(t),"livechat.sideWindow.tabs":_y(t),"livechat.visitor.guid":xy(t),"livechat.chat.maxMessageLength":yy(t),"livechat.sso.artifact":vy(t)}}(t)),O.set=By(function(t){var e=dy(t),n=e(Jv);return{"livechat.customVariables":function(e){void 0===e&&(e=[]),ay(t,Array.prototype.reduce.call(e,(function(t,e){var n=t;return void 0===e.value||(n[e.name]=""+e.value),n}),{}),!1)},"livechat.button.isVisible":function(e,i){void 0===i&&(i=Qf(t.getState())),n(e,i)},"livechat.button.color":function(n,i){void 0===i&&(i=Qf(t.getState())),e(Yv)({id:i,entity:{color:n}})},"livechat.prechat.isSkip":e(Nv),"livechat.prechat.fields":Cy(t,ru),"livechat.postChat.fields":Cy(t,su),"livechat.offlineMessage.fields":Cy(t,cu),"livechat.sideWindow.isVisible":e(j_),"livechat.sideWindow.tabs":e(N_),"livechat.chat.maxMessageLength":e(Uv),"livechat.sso.artifact":e(Rv),"livechat.chatWindow.color":function(n,i){void 0===i&&(i=Qf(t.getState())),e(Kv)({id:i,entity:{mainColor:n}})},"livechat.sso.jwt":e(Hv)}}(t)),O.do=By(function(t){var e=dy(t),n=e(Av),i=e(Tv),o=e(Bv),a=e(_x),r=function(t){return e(R(Lx,t))},s=function(e){return function(n){var i=Wm(t.getState());i&&n===i.id&&e(Qf(t.getState()))}},c=e(xv,Iv);function d(e,n,i){return function(){return new Promise((function(o,a){var r=t.getState();if(jp(r)!==ou||Th(r))return a("not_chatting");if(!m||!1===Eh(r))return a("webrtc_not_supported");var s=Rp(r);return e(r,s)?Rh(r)?a("audio_video_chatting"):Xh(r)?a("frequency_limited"):(t.dispatch(i()),o()):a(n)}))}}var l,u=d(Ag,"audio_not_enabled",J_),p=d(Bg,"video_not_enabled",Q_);return{"livechat.button.click":function(e){return void 0===e&&(e=Qf(t.getState())),c(e)},"livechat.invitation.accept":s(e(_v,Iv)),"livechat.invitation.refuse":s(e(yv)),"livechat.prechat.minimize":n,"livechat.chat.minimize":n,"livechat.postChat.minimize":n,"livechat.offlineMessage.minimize":n,"livechat.prechat.restore":i,"livechat.chat.restore":i,"livechat.postChat.restore":i,"livechat.offlineMessage.restore":i,"livechat.prechat.close":o,"livechat.chat.close":o,"livechat.postChat.close":o,"livechat.offlineMessage.close":o,"livechat.chat.endChat":a,"livechat.prechat.field.focus":r(ru),"livechat.postChat.field.focus":r(su),"livechat.offlineMessage.field.focus":r(cu),"livechat.prechat.submit":ky(ru,t),"livechat.postChat.submit":ky(su,t),"livechat.offlineMessage.submit":ky(cu,t),"livechat.sideWindow.tabs.click":e(T_),"livechat.chat.audio.request":u,"livechat.chat.video.request":p,"livechat.pageVisit":e(kx),"livechat.invitation.show":(l=e(Ex),function(e){var n=t.getState(),i=av(n);xh(n)||eg(n)===zd||eg(n)===Rd||i===Yd||i===Kd||i===$d||yh(n)||l(e)})}}(t)),O.render=function(t,e){Sy[t]=e},O.on=Ay;var e=dy(t),n=function(){};ly("ban",e(sv)),ly("end_chat",e(_x)),ly("setIfSkipPrechat",e(Nv));var i=R(Ay,"livechat.invitation.display");ly("onBeforeImageInvitationDisplay",i),ly("onAfterImageInvitationDisplay",i);var o=R(Ay,"livechat.chat.display");ly("onChatWindowLoadBegin",o),ly("onChatWindowLoaded",o),ly("setIfHideChatWindowLoadingAnimation",n),ly("onChatWindowStatusChanged",n);var a=e(xv,Iv);ly("open_chat_window",(function(e,n){return void 0===n&&(n=Qf(t.getState())),a(n)})),ly("set_custom_variables",(function(e){return void 0===e&&(e=[]),ay(t,Array.prototype.reduce.call(e,(function(t,e){var n=t;return n[e.name]=""+e.value,n}),{}),!1)})),O.setCustomVariables=O.set_custom_variables;var r=t.getState(),s=t.subscribe((function(){if(!Xu(r)){var e=t.getState();Xu(e)&&(s(),function(){"function"==typeof sr&&sr(),O.onReady&&O.onReady!==sr&&O.onReady();var t=O.onReady;Object.defineProperty(O,"onReady",{get:function(){return t},set:function(e){"function"==typeof e&&e(),t=e},configurable:!1})}()),r=e}}));return function(){delete O.get,delete O.set,delete O.do,delete O.render,delete O.on,s()}},function(t){var e=function(t){return t&&t.indexOf("landscape")>=0},n=function(){var e=t.getState(),n=xg(e),i=_g(e),o=z(),a=Qf(e),r=tw(e,a);o.width===n&&o.height===i||t.dispatch(Pv(o,r))},i=function(){!function(){var t=N.screen,n=t.msOrientation||t.mozOrientation||t.orientation,i=typeof n;return"undefined"===i?"orientation"in N&&90===Math.abs(N.orientation):e("string"===i?n:n.type)}()?t.dispatch(Fv()):t.dispatch(Wv())},o=K((function(){t.dispatch({type:hc})}),500);N.addEventListener("resize",K(n,200)),N.addEventListener("orientationchange",K(i,50)),N.addEventListener("hashchange",o),N.addEventListener("popstate",o);var a=N.history.pushState,r=N.history.replaceState;return N.history.pushState=function(t,e,n){a.call(N.history,t,e,n),o()},N.history.replaceState=function(t,e,n){r.call(N.history,t,e,n),o()},n(),i(),function(){N.removeEventListener("resize",n),N.removeEventListener("orientationchange",i),N.removeEventListener("hashchange",o),N.addEventListener("popstate",o),N.history.pushState=a,N.history.replaceState=r}},function(t){var e=t.subscribe(function(t,e){var n;return function(){var i=t.getState();e(n,i),n=i}}(t,(function(t,e){null!=t&&(!Ij(t)&&Ij(e)&&function(t,e,n){zk=setInterval((function(){return Mk(e).then((function(){return kS(t,n,!0)})).catch((function(){return kS(t,n,!1)}))}),6e4)}(jb(e),Nb(e),ng(e)),Ij(t)&&!Ij(e)&&SS())})));return function(){e(),SS()}}];var Mj=10,Oj=[];function Aj(t){Oj.length>=Mj&&Oj.shift(),Oj.push(t)}window.getStoredErrors=function(){return Oj},function(t){return function(e,n,i,o){if(!O.loaded){O.loaded=!0,function(t){var e=t.length>0?t[t.length-1].div_id:null;if(e&&j.body&&!j.getElementById(e)){var n=j.getElementsByTagName("head")[0];if(n)for(var i=n.getElementsByTagName("script"),o=0;o<i.length;o+=1)if(new RegExp("var\\s+"+"$brandingNameAPI".replace("$brandingName",N.brandingName)).test(i[o].innerHTML)){var a=j.createElement("div");a.id=e,j.body.appendChild(a);break}}}(O.chat_buttons);var a=null,r=null,s=null;if(o)try{var c=JSON.parse(o);c.chatserver&&(a=T(c.chatserver)),c.fileservice&&(r=T(c.fileservice)),c.apiserver&&(s=T(c.apiserver))}catch(t){}window.store=t({siteId:nr,chatGroup:ir,mainCampaignId:hr,campaignIds:or(),isDynamicCampaign:!!O.dynamic,serverUrl:{url:a||e,standbyUrl:n,vue:i,fileService:r,apiHost:s}});var d=j.getElementById(N.brandingNameLowerCase+"-iframe");d&&(d.contentDocument.documentElement.setAttribute("lang","en"),d.contentDocument.title=N.brandingName+" scripts")}}}((function(t){var e=t.siteId,n=t.chatGroup,i=t.mainCampaignId,o=t.campaignIds,a=t.isDynamicCampaign,c=t.serverUrl;cm();var d,l=O.popout,u=function(t){return t?Object.assign({},Ki(t.planId,{type:t.chatSource,invitationId:t.invitationId},!1,t.ticketId,t.departmentId),{lastChattedAgents:fm()}):null}(l),p=(d=l,Object.keys(d||{}).reduce((function(t,e){var n,i="CUSTOM!";return 0===e.indexOf(i)?Object.assign({},t,((n={})[e.substr(i.length)]=d[e],n)):t}),{})),h=function(t){if(t){var e=t.visitorGuid;if(e)return{guid:e}}return{guid:Hw()}}(l);!function(t){t.guid&&qw(t.guid)}(h);var f,g=function(t){return t&&t.isStandbyServer?Zu:Qu}(l),w=(f={app:{isReady:!1,isActive:!0,server:g,isPoppedOut:!!l,isOpenerExists:!!N.opener,banned:Yw().isBanned,recoverFailTimes:0,isRecovering:!1,lastSuccessTime:0,isSoundOff:Om()||!1},page:{siteId:e,isDynamicCampaign:a,campaignId:a?Mi:i,buttons:o.reduce((function(t,e){var n;return Object.assign({},t,((n={})[e]=!1,n))}),{}),platform:_a(),chatGroup:n,visitor:h,windowStatus:Hd,requestChatAction:u,popout:O.popout,visitorStatus:Xd},configuration:Object.assign({},c,{customVariableResult:p})},r(zC,f,s(gr,JI)));return function(t){var e=bj.map((function(e){return e(t)}))}(w),w.dispatch(Ax()),w}))(O.main,O.standby,O.vue,O.others),window.addEventListener("unhandledrejection",(function(t){Aj(t.reason)})),window.addEventListener("error",(function(t){Aj(t.error)}));export{nw as $,ol as A,ba as B,cp as C,$f as D,pg as E,xg as F,_g as G,sp as H,IM as I,kp as J,ub as K,Hd as L,xv as M,Iv as N,iM as O,oM as P,_v as Q,wx as R,dv as S,OI as T,MI as U,al as V,nl as W,tw as X,hb as Y,rl as Z,Hg as _,mM as a,xu as a$,ef as a0,$b as a1,yv as a2,Fg as a3,YA as a4,MO as a5,CO as a6,lT as a7,cT as a8,IO as a9,t_ as aA,Gl as aB,R_ as aC,Tx as aD,p_ as aE,yu as aF,Cu as aG,aO as aH,Ld as aI,rm as aJ,sm as aK,ou as aL,OM as aM,Eg as aN,CM as aO,ma as aP,Wg as aQ,Dg as aR,Zb as aS,Xb as aT,Nx as aU,Px as aV,uf as aW,G_ as aX,qh as aY,kv as aZ,_u as a_,Qf as aa,rf as ab,ug as ac,Lb as ad,lw as ae,uw as af,ew as ag,pb as ah,Rp as ai,dh as aj,cf as ak,df as al,lf as am,tp as an,Lh as ao,Vh as ap,hg as aq,Up as ar,tv as as,gf as at,iw as au,gh as av,sf as aw,zf as ax,Sv as ay,z_ as az,oe as b,mh as b$,bu as b0,vu as b1,ku as b2,Su as b3,ph as b4,Hh as b5,af as b6,zh as b7,tf as b8,jp as b9,zb as bA,Xh as bB,_h as bC,ah as bD,r_ as bE,Rh as bF,Eh as bG,Cp as bH,J_ as bI,Q_ as bJ,qp as bK,zp as bL,ib as bM,rb as bN,Og as bO,Th as bP,Pp as bQ,Qp as bR,ow as bS,bb as bT,vb as bU,vh as bV,wp as bW,mp as bX,lh as bY,bp as bZ,Gp as b_,np as ba,Ep as bb,Yu as bc,T_ as bd,Wx as be,jv as bf,Av as bg,_x as bh,Cv as bi,Bv as bj,ql as bk,Xa as bl,CB as bm,mu as bn,au as bo,kB as bp,Za as bq,Ha as br,fu as bs,SB as bt,gu as bu,ua as bv,kO as bw,wB as bx,uA as by,Oa as bz,II as c,Yk as c$,a_ as c0,b_ as c1,c_ as c2,v_ as c3,I_ as c4,h_ as c5,Y_ as c6,X_ as c7,lb as c8,Jp as c9,$S as cA,LB as cB,ng as cC,HB as cD,kf as cE,Vx as cF,zB as cG,RB as cH,dp as cI,Fx as cJ,EB as cK,lp as cL,yx as cM,rk as cN,ek as cO,nk as cP,sk as cQ,ak as cR,Fo as cS,Eo as cT,Vo as cU,No as cV,Po as cW,Do as cX,Wo as cY,la as cZ,Kk as c_,Ag as ca,Bg as cb,Rm as cc,Oo as cd,Bo as ce,Si as cf,go as cg,ca as ch,Io as ci,LA as cj,fo as ck,mo as cl,wo as cm,yo as cn,ko as co,Co as cp,Mo as cq,Cb as cr,fb as cs,yf as ct,Cf as cu,q_ as cv,g_ as cw,Z_ as cx,H_ as cy,f_ as cz,wl as d,tu as d$,Jk as d0,Zk as d1,Xk as d2,Qk as d3,mb as d4,rx as d5,w_ as d6,Wp as d7,Fp as d8,qv as d9,wf as dA,gb as dB,Uh as dC,lg as dD,Ty as dE,Ny as dF,Fy as dG,Py as dH,Vy as dI,Vg as dJ,LT as dK,Va as dL,de as dM,AM as dN,Dw as dO,GA as dP,zO as dQ,ye as dR,BA as dS,AA as dT,GO as dU,SA as dV,Ap as dW,Mp as dX,Op as dY,Mi as dZ,er as d_,Sx as da,ax as db,xf as dc,ok as dd,ik as de,Yp as df,Df as dg,Cx as dh,gx as di,Ll as dj,ix as dk,ox as dl,Kp as dm,Sg as dn,xx as dp,Rl as dq,hh as dr,Pn as ds,zn as dt,qn as du,Hn as dv,En as dw,Ta as dx,fh as dy,Ib as dz,Oy as e,Mx as e$,Lu as e0,Fu as e1,Eu as e2,zu as e3,Du as e4,Nu as e5,Tu as e6,Wu as e7,Iu as e8,Mu as e9,F_ as eA,wh as eB,$h as eC,Mg as eD,vx as eE,BO as eF,gT as eG,Sa as eH,re as eI,se as eJ,fa as eK,ce as eL,ae as eM,ie as eN,pa as eO,Uo as eP,qo as eQ,Go as eR,Ho as eS,zo as eT,Lo as eU,Oh as eV,Mh as eW,Yh as eX,Kh as eY,Qh as eZ,A_ as e_,Ou as ea,Au as eb,Bu as ec,ju as ed,Ru as ee,Pu as ef,Vu as eg,Hu as eh,dO as ei,Dy as ej,jy as ek,Wy as el,Ey as em,Vn as en,yi as eo,jn as ep,Wn as eq,Dn as er,vi as es,QA as et,Pg as eu,Ng as ev,Wf as ew,Wh as ex,bx as ey,Lr as ez,gl as f,M_ as f0,O_ as f1,B_ as f2,uj as f3,wa as g,YM as h,fl as i,eg as j,Xf as k,$M as l,pl as m,mg as n,Rb as o,rp as p,Gh as q,rM as r,lM as s,hl as t,sb as u,pM as v,hp as w,fp as x,gp as y,Wm as z};
